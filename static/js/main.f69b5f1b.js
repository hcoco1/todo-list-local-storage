/*! For license information please see main.f69b5f1b.js.LICENSE.txt */
(()=>{var t={730:(t,e,n)=>{"use strict";var i=n(43),r=n(853);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(a[t]=e,t=0;t<e.length;t++)s.add(e[t])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(t,e,n,i,r,o,s){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(t){return t[1].toUpperCase()}function b(t,e,n,i){var r=m.hasOwnProperty(e)?m[e]:null;(null!==r?0!==r.type:i||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,i){if(null===e||"undefined"===typeof e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,r,i)&&(n=null),i||null===r?function(t){return!!h.call(p,t)||!h.call(f,t)&&(d.test(t)?p[t]=!0:(f[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,i=r.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(y,v);m[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(y,v);m[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(y,v);m[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var w=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function N(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=O&&t[O]||t["@@iterator"])?t:null}var L,F=Object.assign;function z(t){if(void 0===L)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);L=e&&e[1]||""}return"\n"+L+t}var B=!1;function V(t,e){if(!t||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),o=i.stack.split("\n"),s=r.length-1,a=o.length-1;1<=s&&0<=a&&r[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(r[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||r[s]!==o[a]){var l="\n"+r[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=s&&0<=a);break}}}finally{B=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?z(t):""}function j(t){switch(t.tag){case 5:return z(t.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return t=V(t.type,!1);case 11:return t=V(t.type.render,!1);case 1:return t=V(t.type,!0);default:return""}}function U(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case S:return"Fragment";case _:return"Portal";case E:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case M:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case T:return(t.displayName||"Context")+".Consumer";case C:return(t._context.displayName||"Context")+".Provider";case I:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case D:return null!==(e=t.displayName||null)?e:U(t.type)||"Memo";case R:e=t._payload,t=t._init;try{return U(t(e))}catch(n){}}return null}function H(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(e);case 8:return e===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function W(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function G(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function q(t){t._valueTracker||(t._valueTracker=function(t){var e=G(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function K(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=G(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function Q(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Y(t,e){var n=e.checked;return F({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function $(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=W(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function X(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function J(t,e){X(t,e);var n=W(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,W(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Z(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&Q(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+W(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function it(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return F({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(o(92));if(et(n)){if(1<n.length)throw Error(o(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:W(n)}}function ot(t,e){var n=W(e.value),i=W(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function st(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?at(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,ut,ht=(ut=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction((function(){return ut(t,e)}))}:ut);function dt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function gt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||ft.hasOwnProperty(t)&&ft[t]?(""+e).trim():e+"px"}function mt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=gt(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}Object.keys(ft).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ft[e]=ft[t]}))}));var yt=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(t,e){if(e){if(yt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62))}}function bt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wt=null;function xt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var _t=null,St=null,kt=null;function Et(t){if(t=br(t)){if("function"!==typeof _t)throw Error(o(280));var e=t.stateNode;e&&(e=xr(e),_t(t.stateNode,t.type,e))}}function Ct(t){St?kt?kt.push(t):kt=[t]:St=t}function Tt(){if(St){var t=St,e=kt;if(kt=St=null,Et(t),e)for(t=0;t<e.length;t++)Et(e[t])}}function It(t,e){return t(e)}function Pt(){}var Mt=!1;function Dt(t,e,n){if(Mt)return t(e,n);Mt=!0;try{return It(t,e,n)}finally{Mt=!1,(null!==St||null!==kt)&&(Pt(),Tt())}}function Rt(t,e){var n=t.stateNode;if(null===n)return null;var i=xr(n);if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(o(231,e,typeof n));return n}var At=!1;if(u)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){At=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch(ut){At=!1}function Nt(t,e,n,i,r,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Lt=!1,Ft=null,zt=!1,Bt=null,Vt={onError:function(t){Lt=!0,Ft=t}};function jt(t,e,n,i,r,o,s,a,l){Lt=!1,Ft=null,Nt.apply(Vt,arguments)}function Ut(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Ht(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Wt(t){if(Ut(t)!==t)throw Error(o(188))}function Gt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Ut(t)))throw Error(o(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(i=r.return)){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Wt(r),t;if(s===i)return Wt(r),e;s=s.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?t:e}(t))?qt(t):null}function qt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=qt(t);if(null!==e)return e;t=t.sibling}return null}var Kt=r.unstable_scheduleCallback,Qt=r.unstable_cancelCallback,Yt=r.unstable_shouldYield,$t=r.unstable_requestPaint,Xt=r.unstable_now,Jt=r.unstable_getCurrentPriorityLevel,Zt=r.unstable_ImmediatePriority,te=r.unstable_UserBlockingPriority,ee=r.unstable_NormalPriority,ne=r.unstable_LowPriority,ie=r.unstable_IdlePriority,re=null,oe=null;var se=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(ae(t)/le|0)|0},ae=Math.log,le=Math.LN2;var ce=64,ue=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var n=t.pendingLanes;if(0===n)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,s=268435455&n;if(0!==s){var a=s&~r;0!==a?i=he(a):0!==(o&=s)&&(i=he(o))}else 0!==(s=n&~r)?i=he(s):0!==o&&(i=he(o));if(0===i)return 0;if(0!==e&&e!==i&&0===(e&r)&&((r=i&-i)>=(o=e&-e)||16===r&&0!==(4194240&o)))return e;if(0!==(4&i)&&(i|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=i;0<e;)r=1<<(n=31-se(e)),i|=t[n],e&=~r;return i}function fe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ge(){var t=ce;return 0===(4194240&(ce<<=1))&&(ce=64),t}function me(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ye(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-se(e)]=n}function ve(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-se(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var be=0;function we(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var xe,_e,Se,ke,Ee,Ce=!1,Te=[],Ie=null,Pe=null,Me=null,De=new Map,Re=new Map,Ae=[],Oe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ne(t,e){switch(t){case"focusin":case"focusout":Ie=null;break;case"dragenter":case"dragleave":Pe=null;break;case"mouseover":case"mouseout":Me=null;break;case"pointerover":case"pointerout":De.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Re.delete(e.pointerId)}}function Le(t,e,n,i,r,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==e&&(null!==(e=br(e))&&_e(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==r&&-1===e.indexOf(r)&&e.push(r),t)}function Fe(t){var e=vr(t.target);if(null!==e){var n=Ut(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Ht(n)))return t.blockedOn=e,void Ee(t.priority,(function(){Se(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function ze(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ye(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=br(n))&&_e(e),t.blockedOn=n,!1;var i=new(n=t.nativeEvent).constructor(n.type,n);wt=i,n.target.dispatchEvent(i),wt=null,e.shift()}return!0}function Be(t,e,n){ze(t)&&n.delete(e)}function Ve(){Ce=!1,null!==Ie&&ze(Ie)&&(Ie=null),null!==Pe&&ze(Pe)&&(Pe=null),null!==Me&&ze(Me)&&(Me=null),De.forEach(Be),Re.forEach(Be)}function je(t,e){t.blockedOn===e&&(t.blockedOn=null,Ce||(Ce=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ve)))}function Ue(t){function e(e){return je(e,t)}if(0<Te.length){je(Te[0],t);for(var n=1;n<Te.length;n++){var i=Te[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==Ie&&je(Ie,t),null!==Pe&&je(Pe,t),null!==Me&&je(Me,t),De.forEach(e),Re.forEach(e),n=0;n<Ae.length;n++)(i=Ae[n]).blockedOn===t&&(i.blockedOn=null);for(;0<Ae.length&&null===(n=Ae[0]).blockedOn;)Fe(n),null===n.blockedOn&&Ae.shift()}var He=w.ReactCurrentBatchConfig,We=!0;function Ge(t,e,n,i){var r=be,o=He.transition;He.transition=null;try{be=1,Ke(t,e,n,i)}finally{be=r,He.transition=o}}function qe(t,e,n,i){var r=be,o=He.transition;He.transition=null;try{be=4,Ke(t,e,n,i)}finally{be=r,He.transition=o}}function Ke(t,e,n,i){if(We){var r=Ye(t,e,n,i);if(null===r)Wi(t,e,i,Qe,n),Ne(t,i);else if(function(t,e,n,i,r){switch(e){case"focusin":return Ie=Le(Ie,t,e,n,i,r),!0;case"dragenter":return Pe=Le(Pe,t,e,n,i,r),!0;case"mouseover":return Me=Le(Me,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return De.set(o,Le(De.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Re.set(o,Le(Re.get(o)||null,t,e,n,i,r)),!0}return!1}(r,t,e,n,i))i.stopPropagation();else if(Ne(t,i),4&e&&-1<Oe.indexOf(t)){for(;null!==r;){var o=br(r);if(null!==o&&xe(o),null===(o=Ye(t,e,n,i))&&Wi(t,e,i,Qe,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else Wi(t,e,i,null,n)}}var Qe=null;function Ye(t,e,n,i){if(Qe=null,null!==(t=vr(t=xt(i))))if(null===(e=Ut(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Ht(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qe=t,null}function $e(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case Zt:return 1;case te:return 4;case ee:case ne:return 16;case ie:return 536870912;default:return 16}default:return 16}}var Xe=null,Je=null,Ze=null;function tn(){if(Ze)return Ze;var t,e,n=Je,i=n.length,r="value"in Xe?Xe.value:Xe.textContent,o=r.length;for(t=0;t<i&&n[t]===r[t];t++);var s=i-t;for(e=1;e<=s&&n[i-e]===r[o-e];e++);return Ze=r.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function on(t){function e(e,n,i,r,o){for(var s in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(s)&&(e=t[s],this[s]=e?e(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),hn=F({},cn,{view:0,detail:0}),dn=on(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(sn=t.screenX-ln.screenX,an=t.screenY-ln.screenY):an=sn=0,ln=t),sn)},movementY:function(t){return"movementY"in t?t.movementY:an}}),pn=on(fn),gn=on(F({},fn,{dataTransfer:0})),mn=on(F({},hn,{relatedTarget:0})),yn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=F({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bn=on(vn),wn=on(F({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sn[t])&&!!e[t]}function En(){return kn}var Cn=F({},hn,{key:function(t){if(t.key){var e=xn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?_n[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Tn=on(Cn),In=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=on(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Mn=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=F({},fn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(Dn),An=[9,13,27,32],On=u&&"CompositionEvent"in window,Nn=null;u&&"documentMode"in document&&(Nn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Nn,Fn=u&&(!On||Nn&&8<Nn&&11>=Nn),zn=String.fromCharCode(32),Bn=!1;function Vn(t,e){switch(t){case"keyup":return-1!==An.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Un=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Hn[t.type]:"textarea"===e}function Gn(t,e,n,i){Ct(i),0<(e=qi(e,"onChange")).length&&(n=new un("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var qn=null,Kn=null;function Qn(t){zi(t,0)}function Yn(t){if(K(wr(t)))return t}function $n(t,e){if("change"===t)return e}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var ti=document.createElement("div");ti.setAttribute("oninput","return;"),Zn="function"===typeof ti.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function ei(){qn&&(qn.detachEvent("onpropertychange",ni),Kn=qn=null)}function ni(t){if("value"===t.propertyName&&Yn(Kn)){var e=[];Gn(e,Kn,t,xt(t)),Dt(Qn,e)}}function ii(t,e,n){"focusin"===t?(ei(),Kn=n,(qn=e).attachEvent("onpropertychange",ni)):"focusout"===t&&ei()}function ri(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Yn(Kn)}function oi(t,e){if("click"===t)return Yn(e)}function si(t,e){if("input"===t||"change"===t)return Yn(e)}var ai="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function li(t,e){if(ai(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!h.call(e,r)||!ai(t[r],e[r]))return!1}return!0}function ci(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ui(t,e){var n,i=ci(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=ci(i)}}function hi(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hi(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function di(){for(var t=window,e=Q();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=Q((t=e.contentWindow).document)}return e}function fi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pi(t){var e=di(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&fi(n))if(e=i.start,void 0===(t=i.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=void 0===i.end?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=ui(n,o);var s=ui(n,i);r&&s&&(1!==t.rangeCount||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&((e=e.createRange()).setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gi=u&&"documentMode"in document&&11>=document.documentMode,mi=null,yi=null,vi=null,bi=!1;function wi(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bi||null==mi||mi!==Q(i)||("selectionStart"in(i=mi)&&fi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},vi&&li(vi,i)||(vi=i,0<(i=qi(yi,"onSelect")).length&&(e=new un("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=mi)))}function xi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _i={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionend:xi("Transition","TransitionEnd")},Si={},ki={};function Ei(t){if(Si[t])return Si[t];if(!_i[t])return t;var e,n=_i[t];for(e in n)if(n.hasOwnProperty(e)&&e in ki)return Si[t]=n[e];return t}u&&(ki=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);var Ci=Ei("animationend"),Ti=Ei("animationiteration"),Ii=Ei("animationstart"),Pi=Ei("transitionend"),Mi=new Map,Di="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(t,e){Mi.set(t,e),l(e,[t])}for(var Ai=0;Ai<Di.length;Ai++){var Oi=Di[Ai];Ri(Oi.toLowerCase(),"on"+(Oi[0].toUpperCase()+Oi.slice(1)))}Ri(Ci,"onAnimationEnd"),Ri(Ti,"onAnimationIteration"),Ri(Ii,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(Pi,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Li=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ni));function Fi(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,i,r,s,a,l,c){if(jt.apply(this,arguments),Lt){if(!Lt)throw Error(o(198));var u=Ft;Lt=!1,Ft=null,zt||(zt=!0,Bt=u)}}(i,e,void 0,t),t.currentTarget=null}function zi(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;t:{var o=void 0;if(e)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&r.isPropagationStopped())break t;Fi(r,a,c),o=l}else for(s=0;s<i.length;s++){if(l=(a=i[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&r.isPropagationStopped())break t;Fi(r,a,c),o=l}}}if(zt)throw t=Bt,zt=!1,Bt=null,t}function Bi(t,e){var n=e[gr];void 0===n&&(n=e[gr]=new Set);var i=t+"__bubble";n.has(i)||(Hi(e,t,2,!1),n.add(i))}function Vi(t,e,n){var i=0;e&&(i|=4),Hi(n,t,i,e)}var ji="_reactListening"+Math.random().toString(36).slice(2);function Ui(t){if(!t[ji]){t[ji]=!0,s.forEach((function(e){"selectionchange"!==e&&(Li.has(e)||Vi(e,!1,t),Vi(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[ji]||(e[ji]=!0,Vi("selectionchange",!1,e))}}function Hi(t,e,n,i){switch($e(e)){case 1:var r=Ge;break;case 4:r=qe;break;default:r=Ke}n=r.bind(null,e,n,t),r=void 0,!At||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(r=!0),i?void 0!==r?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):void 0!==r?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Wi(t,e,n,i,r){var o=i;if(0===(1&e)&&0===(2&e)&&null!==i)t:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===s)for(s=i.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;s=s.return}for(;null!==a;){if(null===(s=vr(a)))return;if(5===(l=s.tag)||6===l){i=o=s;continue t}a=a.parentNode}}i=i.return}Dt((function(){var i=o,r=xt(n),s=[];t:{var a=Mi.get(t);if(void 0!==a){var l=un,c=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Ci:case Ti:case Ii:l=yn;break;case Pi:l=Mn;break;case"scroll":l=dn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&e),h=!u&&"scroll"===t,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=i;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=Rt(p,d))&&u.push(Gi(p,g,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,r),s.push({event:a,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||n===wt||!(c=n.relatedTarget||n.fromElement)||!vr(c)&&!c[pr])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?vr(c):null)&&(c!==(h=Ut(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(u=In,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:wr(l),f=null==c?a:wr(c),(a=new u(g,p+"leave",l,n,r)).target=h,a.relatedTarget=f,g=null,vr(r)===i&&((u=new u(d,p+"enter",c,n,r)).target=f,u.relatedTarget=h,g=u),h=g,l&&c)t:{for(d=c,p=0,f=u=l;f;f=Ki(f))p++;for(f=0,g=d;g;g=Ki(g))f++;for(;0<p-f;)u=Ki(u),p--;for(;0<f-p;)d=Ki(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break t;u=Ki(u),d=Ki(d)}u=null}else u=null;null!==l&&Qi(s,a,l,u,!1),null!==c&&null!==h&&Qi(s,h,c,u,!0)}if("select"===(l=(a=i?wr(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=$n;else if(Wn(a))if(Xn)m=si;else{m=ri;var y=ii}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=oi);switch(m&&(m=m(t,i))?Gn(s,m,n,r):(y&&y(t,a,i),"focusout"===t&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&tt(a,"number",a.value)),y=i?wr(i):window,t){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mi=y,yi=i,vi=null);break;case"focusout":vi=yi=mi=null;break;case"mousedown":bi=!0;break;case"contextmenu":case"mouseup":case"dragend":bi=!1,wi(s,n,r);break;case"selectionchange":if(gi)break;case"keydown":case"keyup":wi(s,n,r)}var v;if(On)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Un?Vn(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(v=tn()):(Je="value"in(Xe=r)?Xe.value:Xe.textContent,Un=!0)),0<(y=qi(i,b)).length&&(b=new wn(b,t,null,n,r),s.push({event:b,listeners:y}),v?b.data=v:null!==(v=jn(n))&&(b.data=v))),(v=Ln?function(t,e){switch(t){case"compositionend":return jn(e);case"keypress":return 32!==e.which?null:(Bn=!0,zn);case"textInput":return(t=e.data)===zn&&Bn?null:t;default:return null}}(t,n):function(t,e){if(Un)return"compositionend"===t||!On&&Vn(t,e)?(t=tn(),Ze=Je=Xe=null,Un=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(i=qi(i,"onBeforeInput")).length&&(r=new wn("onBeforeInput","beforeinput",null,n,r),s.push({event:r,listeners:i}),r.data=v))}zi(s,e)}))}function Gi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qi(t,e){for(var n=e+"Capture",i=[];null!==t;){var r=t,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=Rt(t,n))&&i.unshift(Gi(t,o,r)),null!=(o=Rt(t,e))&&i.push(Gi(t,o,r))),t=t.return}return i}function Ki(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Qi(t,e,n,i,r){for(var o=e._reactName,s=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,r?null!=(l=Rt(n,o))&&s.unshift(Gi(n,l,a)):r||null!=(l=Rt(n,o))&&s.push(Gi(n,l,a))),n=n.return}0!==s.length&&t.push({event:e,listeners:s})}var Yi=/\r\n?/g,$i=/\u0000|\uFFFD/g;function Xi(t){return("string"===typeof t?t:""+t).replace(Yi,"\n").replace($i,"")}function Ji(t,e,n){if(e=Xi(e),Xi(t)!==e&&n)throw Error(o(425))}function Zi(){}var tr=null,er=null;function nr(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,or="function"===typeof Promise?Promise:void 0,sr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof or?function(t){return or.resolve(null).then(t).catch(ar)}:ir;function ar(t){setTimeout((function(){throw t}))}function lr(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return t.removeChild(r),void Ue(e);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Ue(e)}function cr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ur(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hr=Math.random().toString(36).slice(2),dr="__reactFiber$"+hr,fr="__reactProps$"+hr,pr="__reactContainer$"+hr,gr="__reactEvents$"+hr,mr="__reactListeners$"+hr,yr="__reactHandles$"+hr;function vr(t){var e=t[dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pr]||n[dr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ur(t);null!==t;){if(n=t[dr])return n;t=ur(t)}return e}n=(t=n).parentNode}return null}function br(t){return!(t=t[dr]||t[pr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function wr(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function xr(t){return t[fr]||null}var _r=[],Sr=-1;function kr(t){return{current:t}}function Er(t){0>Sr||(t.current=_r[Sr],_r[Sr]=null,Sr--)}function Cr(t,e){Sr++,_r[Sr]=t.current,t.current=e}var Tr={},Ir=kr(Tr),Pr=kr(!1),Mr=Tr;function Dr(t,e){var n=t.type.contextTypes;if(!n)return Tr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=e[r];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Rr(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Ar(){Er(Pr),Er(Ir)}function Or(t,e,n){if(Ir.current!==Tr)throw Error(o(168));Cr(Ir,e),Cr(Pr,n)}function Nr(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in e))throw Error(o(108,H(t)||"Unknown",r));return F({},n,i)}function Lr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Tr,Mr=Ir.current,Cr(Ir,t),Cr(Pr,Pr.current),!0}function Fr(t,e,n){var i=t.stateNode;if(!i)throw Error(o(169));n?(t=Nr(t,e,Mr),i.__reactInternalMemoizedMergedChildContext=t,Er(Pr),Er(Ir),Cr(Ir,t)):Er(Pr),Cr(Pr,n)}var zr=null,Br=!1,Vr=!1;function jr(t){null===zr?zr=[t]:zr.push(t)}function Ur(){if(!Vr&&null!==zr){Vr=!0;var t=0,e=be;try{var n=zr;for(be=1;t<n.length;t++){var i=n[t];do{i=i(!0)}while(null!==i)}zr=null,Br=!1}catch(r){throw null!==zr&&(zr=zr.slice(t+1)),Kt(Zt,Ur),r}finally{be=e,Vr=!1}}return null}var Hr=[],Wr=0,Gr=null,qr=0,Kr=[],Qr=0,Yr=null,$r=1,Xr="";function Jr(t,e){Hr[Wr++]=qr,Hr[Wr++]=Gr,Gr=t,qr=e}function Zr(t,e,n){Kr[Qr++]=$r,Kr[Qr++]=Xr,Kr[Qr++]=Yr,Yr=t;var i=$r;t=Xr;var r=32-se(i)-1;i&=~(1<<r),n+=1;var o=32-se(e)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,$r=1<<32-se(e)+r|n<<r|i,Xr=o+t}else $r=1<<o|n<<r|i,Xr=t}function to(t){null!==t.return&&(Jr(t,1),Zr(t,1,0))}function eo(t){for(;t===Gr;)Gr=Hr[--Wr],Hr[Wr]=null,qr=Hr[--Wr],Hr[Wr]=null;for(;t===Yr;)Yr=Kr[--Qr],Kr[Qr]=null,Xr=Kr[--Qr],Kr[Qr]=null,$r=Kr[--Qr],Kr[Qr]=null}var no=null,io=null,ro=!1,oo=null;function so(t,e){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function ao(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,no=t,io=cr(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,no=t,io=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Yr?{id:$r,overflow:Xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=e,n.return=t,t.child=n,no=t,io=null,!0);default:return!1}}function lo(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function co(t){if(ro){var e=io;if(e){var n=e;if(!ao(t,e)){if(lo(t))throw Error(o(418));e=cr(n.nextSibling);var i=no;e&&ao(t,e)?so(i,n):(t.flags=-4097&t.flags|2,ro=!1,no=t)}}else{if(lo(t))throw Error(o(418));t.flags=-4097&t.flags|2,ro=!1,no=t}}}function uo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;no=t}function ho(t){if(t!==no)return!1;if(!ro)return uo(t),ro=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!nr(t.type,t.memoizedProps)),e&&(e=io)){if(lo(t))throw fo(),Error(o(418));for(;e;)so(t,e),e=cr(e.nextSibling)}if(uo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){io=cr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}io=null}}else io=no?cr(t.stateNode.nextSibling):null;return!0}function fo(){for(var t=io;t;)t=cr(t.nextSibling)}function po(){io=no=null,ro=!1}function go(t){null===oo?oo=[t]:oo.push(t)}var mo=w.ReactCurrentBatchConfig;function yo(t,e){if(t&&t.defaultProps){for(var n in e=F({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var vo=kr(null),bo=null,wo=null,xo=null;function _o(){xo=wo=bo=null}function So(t){var e=vo.current;Er(vo),t._currentValue=e}function ko(t,e,n){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==i&&(i.childLanes|=e)):null!==i&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Eo(t,e){bo=t,xo=wo=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(wa=!0),t.firstContext=null)}function Co(t){var e=t._currentValue;if(xo!==t)if(t={context:t,memoizedValue:e,next:null},null===wo){if(null===bo)throw Error(o(308));wo=t,bo.dependencies={lanes:0,firstContext:t}}else wo=wo.next=t;return e}var To=null;function Io(t){null===To?To=[t]:To.push(t)}function Po(t,e,n,i){var r=e.interleaved;return null===r?(n.next=n,Io(e)):(n.next=r.next,r.next=n),e.interleaved=n,Mo(t,i)}function Mo(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Do=!1;function Ro(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ao(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Oo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function No(t,e,n){var i=t.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Pl)){var r=i.pending;return null===r?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Mo(t,n)}return null===(r=i.interleaved)?(e.next=e,Io(i)):(e.next=r.next,r.next=e),i.interleaved=e,Mo(t,n)}function Lo(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,ve(t,n)}}function Fo(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?r=o=e:o=o.next=e}else r=o=e;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zo(t,e,n,i){var r=t.updateQueue;Do=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=t.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=r.baseState;for(s=0,u=c=l=null,a=o;;){var d=a.lane,f=a.eventTime;if((i&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,g=a;switch(d=e,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break t;h=F({},h,d);break t;case 2:Do=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(d=r.effects)?r.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,s|=d;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(d=a).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===u&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(e=r.shared.interleaved)){r=e;do{s|=r.lane,r=r.next}while(r!==e)}else null===o&&(r.shared.lanes=0);Fl|=s,t.lanes=s,t.memoizedState=h}}function Bo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var Vo=(new i.Component).refs;function jo(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:F({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var Uo={isMounted:function(t){return!!(t=t._reactInternals)&&Ut(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=ec(),r=nc(t),o=Oo(i,r);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=No(t,o,r))&&(ic(e,t,r,i),Lo(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=ec(),r=nc(t),o=Oo(i,r);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=No(t,o,r))&&(ic(e,t,r,i),Lo(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ec(),i=nc(t),r=Oo(n,i);r.tag=2,void 0!==e&&null!==e&&(r.callback=e),null!==(e=No(t,r,i))&&(ic(e,t,i,n),Lo(e,t,i))}};function Ho(t,e,n,i,r,o,s){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,o,s):!e.prototype||!e.prototype.isPureReactComponent||(!li(n,i)||!li(r,o))}function Wo(t,e,n){var i=!1,r=Tr,o=e.contextType;return"object"===typeof o&&null!==o?o=Co(o):(r=Rr(e)?Mr:Ir.current,o=(i=null!==(i=e.contextTypes)&&void 0!==i)?Dr(t,r):Tr),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Uo,t.stateNode=e,e._reactInternals=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function Go(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Uo.enqueueReplaceState(e,e.state,null)}function qo(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=Vo,Ro(t);var o=e.contextType;"object"===typeof o&&null!==o?r.context=Co(o):(o=Rr(e)?Mr:Ir.current,r.context=Dr(t,o)),r.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(jo(t,e,o,n),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&Uo.enqueueReplaceState(r,r.state,null),zo(t,n,r,i),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308)}function Ko(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,t));var r=i,s=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===s?e.ref:(e=function(t){var e=r.refs;e===Vo&&(e=r.refs={}),null===t?delete e[s]:e[s]=t},e._stringRef=s,e)}if("string"!==typeof t)throw Error(o(284));if(!n._owner)throw Error(o(290,t))}return t}function Qo(t,e){throw t=Object.prototype.toString.call(e),Error(o(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yo(t){return(0,t._init)(t._payload)}function $o(t){function e(e,n){if(t){var i=e.deletions;null===i?(e.deletions=[n],e.flags|=16):i.push(n)}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=Oc(t,e)).index=0,t.sibling=null,t}function s(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags|=2,n):i:(e.flags|=2,n):(e.flags|=1048576,n)}function a(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=zc(n,t.mode,i)).return=t,e):((e=r(e,n)).return=t,e)}function c(t,e,n,i){var o=n.type;return o===S?h(t,e,n.props.children,i,n.key):null!==e&&(e.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&Yo(o)===e.type)?((i=r(e,n.props)).ref=Ko(t,e,n),i.return=t,i):((i=Nc(n.type,n.key,n.props,null,t.mode,i)).ref=Ko(t,e,n),i.return=t,i)}function u(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Bc(n,t.mode,i)).return=t,e):((e=r(e,n.children||[])).return=t,e)}function h(t,e,n,i,o){return null===e||7!==e.tag?((e=Lc(n,t.mode,i,o)).return=t,e):((e=r(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=zc(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case x:return(n=Nc(e.type,e.key,e.props,null,t.mode,n)).ref=Ko(t,null,e),n.return=t,n;case _:return(e=Bc(e,t.mode,n)).return=t,e;case R:return d(t,(0,e._init)(e._payload),n)}if(et(e)||N(e))return(e=Lc(e,t.mode,n,null)).return=t,e;Qo(t,e)}return null}function f(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===r?c(t,e,n,i):null;case _:return n.key===r?u(t,e,n,i):null;case R:return f(t,e,(r=n._init)(n._payload),i)}if(et(n)||N(n))return null!==r?null:h(t,e,n,i,null);Qo(t,n)}return null}function p(t,e,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(e,t=t.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case x:return c(e,t=t.get(null===i.key?n:i.key)||null,i,r);case _:return u(e,t=t.get(null===i.key?n:i.key)||null,i,r);case R:return p(t,e,n,(0,i._init)(i._payload),r)}if(et(i)||N(i))return h(e,t=t.get(n)||null,i,r,null);Qo(e,i)}return null}function g(r,o,a,l){for(var c=null,u=null,h=o,g=o=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=f(r,h,a[g],l);if(null===y){null===h&&(h=m);break}t&&h&&null===y.alternate&&e(r,h),o=s(y,o,g),null===u?c=y:u.sibling=y,u=y,h=m}if(g===a.length)return n(r,h),ro&&Jr(r,g),c;if(null===h){for(;g<a.length;g++)null!==(h=d(r,a[g],l))&&(o=s(h,o,g),null===u?c=h:u.sibling=h,u=h);return ro&&Jr(r,g),c}for(h=i(r,h);g<a.length;g++)null!==(m=p(h,r,g,a[g],l))&&(t&&null!==m.alternate&&h.delete(null===m.key?g:m.key),o=s(m,o,g),null===u?c=m:u.sibling=m,u=m);return t&&h.forEach((function(t){return e(r,t)})),ro&&Jr(r,g),c}function m(r,a,l,c){var u=N(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var h=u=null,g=a,m=a=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=f(r,g,v.value,c);if(null===b){null===g&&(g=y);break}t&&g&&null===b.alternate&&e(r,g),a=s(b,a,m),null===h?u=b:h.sibling=b,h=b,g=y}if(v.done)return n(r,g),ro&&Jr(r,m),u;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=d(r,v.value,c))&&(a=s(v,a,m),null===h?u=v:h.sibling=v,h=v);return ro&&Jr(r,m),u}for(g=i(r,g);!v.done;m++,v=l.next())null!==(v=p(g,r,m,v.value,c))&&(t&&null!==v.alternate&&g.delete(null===v.key?m:v.key),a=s(v,a,m),null===h?u=v:h.sibling=v,h=v);return t&&g.forEach((function(t){return e(r,t)})),ro&&Jr(r,m),u}return function t(i,o,s,l){if("object"===typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case x:t:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===S){if(7===u.tag){n(i,u.sibling),(o=r(u,s.props.children)).return=i,i=o;break t}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Yo(c)===u.type){n(i,u.sibling),(o=r(u,s.props)).ref=Ko(i,u,s),o.return=i,i=o;break t}n(i,u);break}e(i,u),u=u.sibling}s.type===S?((o=Lc(s.props.children,i.mode,l,s.key)).return=i,i=o):((l=Nc(s.type,s.key,s.props,null,i.mode,l)).ref=Ko(i,o,s),l.return=i,i=l)}return a(i);case _:t:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(i,o.sibling),(o=r(o,s.children||[])).return=i,i=o;break t}n(i,o);break}e(i,o),o=o.sibling}(o=Bc(s,i.mode,l)).return=i,i=o}return a(i);case R:return t(i,o,(u=s._init)(s._payload),l)}if(et(s))return g(i,o,s,l);if(N(s))return m(i,o,s,l);Qo(i,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(i,o.sibling),(o=r(o,s)).return=i,i=o):(n(i,o),(o=zc(s,i.mode,l)).return=i,i=o),a(i)):n(i,o)}}var Xo=$o(!0),Jo=$o(!1),Zo={},ts=kr(Zo),es=kr(Zo),ns=kr(Zo);function is(t){if(t===Zo)throw Error(o(174));return t}function rs(t,e){switch(Cr(ns,e),Cr(es,t),Cr(ts,Zo),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Er(ts),Cr(ts,e)}function os(){Er(ts),Er(es),Er(ns)}function ss(t){is(ns.current);var e=is(ts.current),n=lt(e,t.type);e!==n&&(Cr(es,t),Cr(ts,n))}function as(t){es.current===t&&(Er(ts),Er(es))}var ls=kr(0);function cs(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var us=[];function hs(){for(var t=0;t<us.length;t++)us[t]._workInProgressVersionPrimary=null;us.length=0}var ds=w.ReactCurrentDispatcher,fs=w.ReactCurrentBatchConfig,ps=0,gs=null,ms=null,ys=null,vs=!1,bs=!1,ws=0,xs=0;function _s(){throw Error(o(321))}function Ss(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ai(t[n],e[n]))return!1;return!0}function ks(t,e,n,i,r,s){if(ps=s,gs=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ds.current=null===t||null===t.memoizedState?aa:la,t=n(i,r),bs){s=0;do{if(bs=!1,ws=0,25<=s)throw Error(o(301));s+=1,ys=ms=null,e.updateQueue=null,ds.current=ca,t=n(i,r)}while(bs)}if(ds.current=sa,e=null!==ms&&null!==ms.next,ps=0,ys=ms=gs=null,vs=!1,e)throw Error(o(300));return t}function Es(){var t=0!==ws;return ws=0,t}function Cs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ys?gs.memoizedState=ys=t:ys=ys.next=t,ys}function Ts(){if(null===ms){var t=gs.alternate;t=null!==t?t.memoizedState:null}else t=ms.next;var e=null===ys?gs.memoizedState:ys.next;if(null!==e)ys=e,ms=t;else{if(null===t)throw Error(o(310));t={memoizedState:(ms=t).memoizedState,baseState:ms.baseState,baseQueue:ms.baseQueue,queue:ms.queue,next:null},null===ys?gs.memoizedState=ys=t:ys=ys.next=t}return ys}function Is(t,e){return"function"===typeof e?e(t):e}function Ps(t){var e=Ts(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var i=ms,r=i.baseQueue,s=n.pending;if(null!==s){if(null!==r){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,n.pending=null}if(null!==r){s=r.next,i=i.baseState;var l=a=null,c=null,u=s;do{var h=u.lane;if((ps&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=i):c=c.next=d,gs.lanes|=h,Fl|=h}u=u.next}while(null!==u&&u!==s);null===c?a=i:c.next=l,ai(i,e.memoizedState)||(wa=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=c,n.lastRenderedState=i}if(null!==(t=n.interleaved)){r=t;do{s=r.lane,gs.lanes|=s,Fl|=s,r=r.next}while(r!==t)}else null===r&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ms(t){var e=Ts(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{s=t(s,a.action),a=a.next}while(a!==r);ai(s,e.memoizedState)||(wa=!0),e.memoizedState=s,null===e.baseQueue&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function Ds(){}function Rs(t,e){var n=gs,i=Ts(),r=e(),s=!ai(i.memoizedState,r);if(s&&(i.memoizedState=r,wa=!0),i=i.queue,Ws(Ns.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||null!==ys&&1&ys.memoizedState.tag){if(n.flags|=2048,Bs(9,Os.bind(null,n,i,r,e),void 0,null),null===Ml)throw Error(o(349));0!==(30&ps)||As(n,e,r)}return r}function As(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=gs.updateQueue)?(e={lastEffect:null,stores:null},gs.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Os(t,e,n,i){e.value=n,e.getSnapshot=i,Ls(e)&&Fs(t)}function Ns(t,e,n){return n((function(){Ls(e)&&Fs(t)}))}function Ls(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ai(t,n)}catch(i){return!0}}function Fs(t){var e=Mo(t,1);null!==e&&ic(e,t,1,-1)}function zs(t){var e=Cs();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:t},e.queue=t,t=t.dispatch=na.bind(null,gs,t),[e.memoizedState,t]}function Bs(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=gs.updateQueue)?(e={lastEffect:null,stores:null},gs.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Vs(){return Ts().memoizedState}function js(t,e,n,i){var r=Cs();gs.flags|=t,r.memoizedState=Bs(1|e,n,void 0,void 0===i?null:i)}function Us(t,e,n,i){var r=Ts();i=void 0===i?null:i;var o=void 0;if(null!==ms){var s=ms.memoizedState;if(o=s.destroy,null!==i&&Ss(i,s.deps))return void(r.memoizedState=Bs(e,n,o,i))}gs.flags|=t,r.memoizedState=Bs(1|e,n,o,i)}function Hs(t,e){return js(8390656,8,t,e)}function Ws(t,e){return Us(2048,8,t,e)}function Gs(t,e){return Us(4,2,t,e)}function qs(t,e){return Us(4,4,t,e)}function Ks(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Qs(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Us(4,4,Ks.bind(null,e,t),n)}function Ys(){}function $s(t,e){var n=Ts();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&Ss(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Xs(t,e){var n=Ts();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&Ss(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Js(t,e,n){return 0===(21&ps)?(t.baseState&&(t.baseState=!1,wa=!0),t.memoizedState=n):(ai(n,e)||(n=ge(),gs.lanes|=n,Fl|=n,t.baseState=!0),e)}function Zs(t,e){var n=be;be=0!==n&&4>n?n:4,t(!0);var i=fs.transition;fs.transition={};try{t(!1),e()}finally{be=n,fs.transition=i}}function ta(){return Ts().memoizedState}function ea(t,e,n){var i=nc(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},ia(t))ra(e,n);else if(null!==(n=Po(t,e,n,i))){ic(n,t,i,ec()),oa(n,e,i)}}function na(t,e,n){var i=nc(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(ia(t))ra(e,r);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var s=e.lastRenderedState,a=o(s,n);if(r.hasEagerState=!0,r.eagerState=a,ai(a,s)){var l=e.interleaved;return null===l?(r.next=r,Io(e)):(r.next=l.next,l.next=r),void(e.interleaved=r)}}catch(c){}null!==(n=Po(t,e,r,i))&&(ic(n,t,i,r=ec()),oa(n,e,i))}}function ia(t){var e=t.alternate;return t===gs||null!==e&&e===gs}function ra(t,e){bs=vs=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function oa(t,e,n){if(0!==(4194240&n)){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,ve(t,n)}}var sa={readContext:Co,useCallback:_s,useContext:_s,useEffect:_s,useImperativeHandle:_s,useInsertionEffect:_s,useLayoutEffect:_s,useMemo:_s,useReducer:_s,useRef:_s,useState:_s,useDebugValue:_s,useDeferredValue:_s,useTransition:_s,useMutableSource:_s,useSyncExternalStore:_s,useId:_s,unstable_isNewReconciler:!1},aa={readContext:Co,useCallback:function(t,e){return Cs().memoizedState=[t,void 0===e?null:e],t},useContext:Co,useEffect:Hs,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,js(4194308,4,Ks.bind(null,e,t),n)},useLayoutEffect:function(t,e){return js(4194308,4,t,e)},useInsertionEffect:function(t,e){return js(4,2,t,e)},useMemo:function(t,e){var n=Cs();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Cs();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=ea.bind(null,gs,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},Cs().memoizedState=t},useState:zs,useDebugValue:Ys,useDeferredValue:function(t){return Cs().memoizedState=t},useTransition:function(){var t=zs(!1),e=t[0];return t=Zs.bind(null,t[1]),Cs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=gs,r=Cs();if(ro){if(void 0===n)throw Error(o(407));n=n()}else{if(n=e(),null===Ml)throw Error(o(349));0!==(30&ps)||As(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,Hs(Ns.bind(null,i,s,t),[t]),i.flags|=2048,Bs(9,Os.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Cs(),e=Ml.identifierPrefix;if(ro){var n=Xr;e=":"+e+"R"+(n=($r&~(1<<32-se($r)-1)).toString(32)+n),0<(n=ws++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=xs++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},la={readContext:Co,useCallback:$s,useContext:Co,useEffect:Ws,useImperativeHandle:Qs,useInsertionEffect:Gs,useLayoutEffect:qs,useMemo:Xs,useReducer:Ps,useRef:Vs,useState:function(){return Ps(Is)},useDebugValue:Ys,useDeferredValue:function(t){return Js(Ts(),ms.memoizedState,t)},useTransition:function(){return[Ps(Is)[0],Ts().memoizedState]},useMutableSource:Ds,useSyncExternalStore:Rs,useId:ta,unstable_isNewReconciler:!1},ca={readContext:Co,useCallback:$s,useContext:Co,useEffect:Ws,useImperativeHandle:Qs,useInsertionEffect:Gs,useLayoutEffect:qs,useMemo:Xs,useReducer:Ms,useRef:Vs,useState:function(){return Ms(Is)},useDebugValue:Ys,useDeferredValue:function(t){var e=Ts();return null===ms?e.memoizedState=t:Js(e,ms.memoizedState,t)},useTransition:function(){return[Ms(Is)[0],Ts().memoizedState]},useMutableSource:Ds,useSyncExternalStore:Rs,useId:ta,unstable_isNewReconciler:!1};function ua(t,e){try{var n="",i=e;do{n+=j(i),i=i.return}while(i);var r=n}catch(o){r="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:r,digest:null}}function ha(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function da(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(t,e,n){(n=Oo(-1,n)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Gl||(Gl=!0,ql=i),da(0,e)},n}function ga(t,e,n){(n=Oo(-1,n)).tag=3;var i=t.type.getDerivedStateFromError;if("function"===typeof i){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){da(0,e)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){da(0,e),"function"!==typeof i&&(null===Kl?Kl=new Set([this]):Kl.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function ma(t,e,n){var i=t.pingCache;if(null===i){i=t.pingCache=new fa;var r=new Set;i.set(e,r)}else void 0===(r=i.get(e))&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=Cc.bind(null,t,e,n),e.then(t,t))}function ya(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function va(t,e,n,i,r){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Oo(-1,1)).tag=2,No(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=r,t)}var ba=w.ReactCurrentOwner,wa=!1;function xa(t,e,n,i){e.child=null===t?Jo(e,null,n,i):Xo(e,t.child,n,i)}function _a(t,e,n,i,r){n=n.render;var o=e.ref;return Eo(e,r),i=ks(t,e,n,i,o,r),n=Es(),null===t||wa?(ro&&n&&to(e),e.flags|=1,xa(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ga(t,e,r))}function Sa(t,e,n,i,r){if(null===t){var o=n.type;return"function"!==typeof o||Ac(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Nc(n.type,null,i,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,ka(t,e,o,i,r))}if(o=t.child,0===(t.lanes&r)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:li)(s,i)&&t.ref===e.ref)return Ga(t,e,r)}return e.flags|=1,(t=Oc(o,i)).ref=e.ref,t.return=e,e.child=t}function ka(t,e,n,i,r){if(null!==t){var o=t.memoizedProps;if(li(o,i)&&t.ref===e.ref){if(wa=!1,e.pendingProps=i=o,0===(t.lanes&r))return e.lanes=t.lanes,Ga(t,e,r);0!==(131072&t.flags)&&(wa=!0)}}return Ta(t,e,n,i,r)}function Ea(t,e,n){var i=e.pendingProps,r=i.children,o=null!==t?t.memoizedState:null;if("hidden"===i.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(Ol,Al),Al|=n;else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Cr(Ol,Al),Al|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==o?o.baseLanes:n,Cr(Ol,Al),Al|=i}else null!==o?(i=o.baseLanes|n,e.memoizedState=null):i=n,Cr(Ol,Al),Al|=i;return xa(t,e,r,n),e.child}function Ca(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ta(t,e,n,i,r){var o=Rr(n)?Mr:Ir.current;return o=Dr(e,o),Eo(e,r),n=ks(t,e,n,i,o,r),i=Es(),null===t||wa?(ro&&i&&to(e),e.flags|=1,xa(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ga(t,e,r))}function Ia(t,e,n,i,r){if(Rr(n)){var o=!0;Lr(e)}else o=!1;if(Eo(e,r),null===e.stateNode)Wa(t,e),Wo(e,n,i),qo(e,n,i,r),i=!0;else if(null===t){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Co(c):c=Dr(e,c=Rr(n)?Mr:Ir.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==i||l!==c)&&Go(e,s,i,c),Do=!1;var d=e.memoizedState;s.state=d,zo(e,i,s,r),l=e.memoizedState,a!==i||d!==l||Pr.current||Do?("function"===typeof u&&(jo(e,n,u,i),l=e.memoizedState),(a=Do||Ho(e,n,a,i,d,l,c))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(e.flags|=4194308)):("function"===typeof s.componentDidMount&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),s.props=i,s.state=l,s.context=c,i=a):("function"===typeof s.componentDidMount&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,Ao(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:yo(e.type,a),s.props=c,h=e.pendingProps,d=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Co(l):l=Dr(e,l=Rr(n)?Mr:Ir.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&Go(e,s,i,l),Do=!1,d=e.memoizedState,s.state=d,zo(e,i,s,r);var p=e.memoizedState;a!==h||d!==p||Pr.current||Do?("function"===typeof f&&(jo(e,n,f,i),p=e.memoizedState),(c=Do||Ho(e,n,c,i,d,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(i,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof s.componentDidUpdate&&(e.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),s.props=i,s.state=p,s.context=l,i=c):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return Pa(t,e,n,i,o,r)}function Pa(t,e,n,i,r,o){Ca(t,e);var s=0!==(128&e.flags);if(!i&&!s)return r&&Fr(e,n,!1),Ga(t,e,o);i=e.stateNode,ba.current=e;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return e.flags|=1,null!==t&&s?(e.child=Xo(e,t.child,null,o),e.child=Xo(e,null,a,o)):xa(t,e,a,o),e.memoizedState=i.state,r&&Fr(e,n,!0),e.child}function Ma(t){var e=t.stateNode;e.pendingContext?Or(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Or(0,e.context,!1),rs(t,e.containerInfo)}function Da(t,e,n,i,r){return po(),go(r),e.flags|=256,xa(t,e,n,i),e.child}var Ra,Aa,Oa,Na,La={dehydrated:null,treeContext:null,retryLane:0};function Fa(t){return{baseLanes:t,cachePool:null,transitions:null}}function za(t,e,n){var i,r=e.pendingProps,s=ls.current,a=!1,l=0!==(128&e.flags);if((i=l)||(i=(null===t||null!==t.memoizedState)&&0!==(2&s)),i?(a=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(s|=1),Cr(ls,1&s),null===t)return co(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=r.children,t=r.fallback,a?(r=e.mode,a=e.child,l={mode:"hidden",children:l},0===(1&r)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fc(l,r,0,null),t=Lc(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Fa(n),e.memoizedState=La,t):Ba(e,l));if(null!==(s=t.memoizedState)&&null!==(i=s.dehydrated))return function(t,e,n,i,r,s,a){if(n)return 256&e.flags?(e.flags&=-257,Va(t,e,a,i=ha(Error(o(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Fc({mode:"visible",children:i.children},r,0,null),(s=Lc(s,r,a,null)).flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,0!==(1&e.mode)&&Xo(e,t.child,null,a),e.child.memoizedState=Fa(a),e.memoizedState=La,s);if(0===(1&e.mode))return Va(t,e,a,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,Va(t,e,a,i=ha(s=Error(o(419)),i,void 0))}if(l=0!==(a&t.childLanes),wa||l){if(null!==(i=Ml)){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|a))?0:r)&&r!==s.retryLane&&(s.retryLane=r,Mo(t,r),ic(i,t,r,-1))}return mc(),Va(t,e,a,i=ha(Error(o(421))))}return"$?"===r.data?(e.flags|=128,e.child=t.child,e=Ic.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,io=cr(r.nextSibling),no=e,ro=!0,oo=null,null!==t&&(Kr[Qr++]=$r,Kr[Qr++]=Xr,Kr[Qr++]=Yr,$r=t.id,Xr=t.overflow,Yr=e),e=Ba(e,i.children),e.flags|=4096,e)}(t,e,l,r,i,s,n);if(a){a=r.fallback,l=e.mode,i=(s=t.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&e.child!==s?((r=e.child).childLanes=0,r.pendingProps=c,e.deletions=null):(r=Oc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==i?a=Oc(i,a):(a=Lc(a,l,n,null)).flags|=2,a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,l=null===(l=t.child.memoizedState)?Fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~n,e.memoizedState=La,r}return t=(a=t.child).sibling,r=Oc(a,{mode:"visible",children:r.children}),0===(1&e.mode)&&(r.lanes=n),r.return=e,r.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ba(t,e){return(e=Fc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Va(t,e,n,i){return null!==i&&go(i),Xo(e,t.child,null,n),(t=Ba(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function ja(t,e,n){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),ko(t.return,e,n)}function Ua(t,e,n,i,r){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function Ha(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(xa(t,e,i.children,n),0!==(2&(i=ls.current)))i=1&i|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&ja(t,n,e);else if(19===t.tag)ja(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Cr(ls,i),0===(1&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===cs(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Ua(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===cs(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Ua(e,!0,n,null,o);break;case"together":Ua(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wa(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ga(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Fl|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(n=Oc(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Oc(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function qa(t,e){if(!ro)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ka(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=t,r=r.sibling;else for(r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Qa(t,e,n){var i=e.pendingProps;switch(eo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(e),null;case 1:case 17:return Rr(e.type)&&Ar(),Ka(e),null;case 3:return i=e.stateNode,os(),Er(Pr),Er(Ir),hs(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||(ho(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==oo&&(ac(oo),oo=null))),Aa(t,e),Ka(e),null;case 5:as(e);var r=is(ns.current);if(n=e.type,null!==t&&null!=e.stateNode)Oa(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(null===e.stateNode)throw Error(o(166));return Ka(e),null}if(t=is(ts.current),ho(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[dr]=e,i[fr]=s,t=0!==(1&e.mode),n){case"dialog":Bi("cancel",i),Bi("close",i);break;case"iframe":case"object":case"embed":Bi("load",i);break;case"video":case"audio":for(r=0;r<Ni.length;r++)Bi(Ni[r],i);break;case"source":Bi("error",i);break;case"img":case"image":case"link":Bi("error",i),Bi("load",i);break;case"details":Bi("toggle",i);break;case"input":$(i,s),Bi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Bi("invalid",i);break;case"textarea":rt(i,s),Bi("invalid",i)}for(var l in vt(n,s),r=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==s.suppressHydrationWarning&&Ji(i.textContent,c,t),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Ji(i.textContent,c,t),r=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Bi("scroll",i)}switch(n){case"input":q(i),Z(i,s,!0);break;case"textarea":q(i),st(i);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(i.onclick=Zi)}i=r,e.updateQueue=i,null!==i&&(e.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=at(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof i.is?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),"select"===n&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[dr]=e,t[fr]=i,Ra(t,e,!1,!1),e.stateNode=t;t:{switch(l=bt(n,i),n){case"dialog":Bi("cancel",t),Bi("close",t),r=i;break;case"iframe":case"object":case"embed":Bi("load",t),r=i;break;case"video":case"audio":for(r=0;r<Ni.length;r++)Bi(Ni[r],t);r=i;break;case"source":Bi("error",t),r=i;break;case"img":case"image":case"link":Bi("error",t),Bi("load",t),r=i;break;case"details":Bi("toggle",t),r=i;break;case"input":$(t,i),r=Y(t,i),Bi("invalid",t);break;case"option":default:r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=F({},i,{value:void 0}),Bi("invalid",t);break;case"textarea":rt(t,i),r=it(t,i),Bi("invalid",t)}for(s in vt(n,r),c=r)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?mt(t,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&ht(t,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&dt(t,u):"number"===typeof u&&dt(t,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Bi("scroll",t):null!=u&&b(t,s,u,l))}switch(n){case"input":q(t),Z(t,i,!1);break;case"textarea":q(t),st(t);break;case"option":null!=i.value&&t.setAttribute("value",""+W(i.value));break;case"select":t.multiple=!!i.multiple,null!=(s=i.value)?nt(t,!!i.multiple,s,!1):null!=i.defaultValue&&nt(t,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(t.onclick=Zi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Ka(e),null;case 6:if(t&&null!=e.stateNode)Na(t,e,t.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw Error(o(166));if(n=is(ns.current),is(ts.current),ho(e)){if(i=e.stateNode,n=e.memoizedProps,i[dr]=e,(s=i.nodeValue!==n)&&null!==(t=no))switch(t.tag){case 3:Ji(i.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Ji(i.nodeValue,n,0!==(1&t.mode))}s&&(e.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[dr]=e,e.stateNode=i}return Ka(e),null;case 13:if(Er(ls),i=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(ro&&null!==io&&0!==(1&e.mode)&&0===(128&e.flags))fo(),po(),e.flags|=98560,s=!1;else if(s=ho(e),null!==i&&null!==i.dehydrated){if(null===t){if(!s)throw Error(o(318));if(!(s=null!==(s=e.memoizedState)?s.dehydrated:null))throw Error(o(317));s[dr]=e}else po(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Ka(e),s=!1}else null!==oo&&(ac(oo),oo=null),s=!0;if(!s)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((i=null!==i)!==(null!==t&&null!==t.memoizedState)&&i&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&ls.current)?0===Nl&&(Nl=3):mc())),null!==e.updateQueue&&(e.flags|=4),Ka(e),null);case 4:return os(),Aa(t,e),null===t&&Ui(e.stateNode.containerInfo),Ka(e),null;case 10:return So(e.type._context),Ka(e),null;case 19:if(Er(ls),null===(s=e.memoizedState))return Ka(e),null;if(i=0!==(128&e.flags),null===(l=s.rendering))if(i)qa(s,!1);else{if(0!==Nl||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=cs(t))){for(e.flags|=128,qa(s,!1),null!==(i=l.updateQueue)&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;null!==n;)t=i,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,t=l.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Cr(ls,1&ls.current|2),e.child}t=t.sibling}null!==s.tail&&Xt()>Hl&&(e.flags|=128,i=!0,qa(s,!1),e.lanes=4194304)}else{if(!i)if(null!==(t=cs(l))){if(e.flags|=128,i=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),qa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ro)return Ka(e),null}else 2*Xt()-s.renderingStartTime>Hl&&1073741824!==n&&(e.flags|=128,i=!0,qa(s,!1),e.lanes=4194304);s.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=s.last)?n.sibling=l:e.child=l,s.last=l)}return null!==s.tail?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xt(),e.sibling=null,n=ls.current,Cr(ls,i?1&n|2:1&n),e):(Ka(e),null);case 22:case 23:return dc(),i=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==i&&(e.flags|=8192),i&&0!==(1&e.mode)?0!==(1073741824&Al)&&(Ka(e),6&e.subtreeFlags&&(e.flags|=8192)):Ka(e),null;case 24:case 25:return null}throw Error(o(156,e.tag))}function Ya(t,e){switch(eo(e),e.tag){case 1:return Rr(e.type)&&Ar(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return os(),Er(Pr),Er(Ir),hs(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return as(e),null;case 13:if(Er(ls),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(o(340));po()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Er(ls),null;case 4:return os(),null;case 10:return So(e.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ra=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Aa=function(){},Oa=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,is(ts.current);var o,s=null;switch(n){case"input":r=Y(t,r),i=Y(t,i),s=[];break;case"select":r=F({},r,{value:void 0}),i=F({},i,{value:void 0}),s=[];break;case"textarea":r=it(t,r),i=it(t,i),s=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(t.onclick=Zi)}for(u in vt(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Bi("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}},Na=function(t,e,n,i){n!==i&&(e.flags|=4)};var $a=!1,Xa=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Za=null;function tl(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Ec(t,e,i)}else n.current=null}function el(t,e,n){try{n()}catch(i){Ec(t,e,i)}}var nl=!1;function il(t,e,n){var i=e.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,void 0!==o&&el(e,n,o)}r=r.next}while(r!==i)}}function rl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function ol(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function sl(t){var e=t.alternate;null!==e&&(t.alternate=null,sl(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[dr],delete e[fr],delete e[gr],delete e[mr],delete e[yr])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function al(t){return 5===t.tag||3===t.tag||4===t.tag}function ll(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||al(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function cl(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Zi));else if(4!==i&&null!==(t=t.child))for(cl(t,e,n),t=t.sibling;null!==t;)cl(t,e,n),t=t.sibling}function ul(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(ul(t,e,n),t=t.sibling;null!==t;)ul(t,e,n),t=t.sibling}var hl=null,dl=!1;function fl(t,e,n){for(n=n.child;null!==n;)pl(t,e,n),n=n.sibling}function pl(t,e,n){if(oe&&"function"===typeof oe.onCommitFiberUnmount)try{oe.onCommitFiberUnmount(re,n)}catch(a){}switch(n.tag){case 5:Xa||tl(n,e);case 6:var i=hl,r=dl;hl=null,fl(t,e,n),dl=r,null!==(hl=i)&&(dl?(t=hl,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(t=hl,n=n.stateNode,8===t.nodeType?lr(t.parentNode,n):1===t.nodeType&&lr(t,n),Ue(t)):lr(hl,n.stateNode));break;case 4:i=hl,r=dl,hl=n.stateNode.containerInfo,dl=!0,fl(t,e,n),hl=i,dl=r;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var o=r,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&el(n,e,s),r=r.next}while(r!==i)}fl(t,e,n);break;case 1:if(!Xa&&(tl(n,e),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Ec(n,e,a)}fl(t,e,n);break;case 21:fl(t,e,n);break;case 22:1&n.mode?(Xa=(i=Xa)||null!==n.memoizedState,fl(t,e,n),Xa=i):fl(t,e,n);break;default:fl(t,e,n)}}function gl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Ja),e.forEach((function(e){var i=Pc.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))}))}}function ml(t,e){var n=e.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,a=e,l=a;t:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break t;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break t}l=l.return}if(null===hl)throw Error(o(160));pl(s,a,r),hl=null,dl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){Ec(r,e,u)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)yl(e,t),e=e.sibling}function yl(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ml(e,t),vl(t),4&i){try{il(3,t,t.return),rl(3,t)}catch(m){Ec(t,t.return,m)}try{il(5,t,t.return)}catch(m){Ec(t,t.return,m)}}break;case 1:ml(e,t),vl(t),512&i&&null!==n&&tl(n,n.return);break;case 5:if(ml(e,t),vl(t),512&i&&null!==n&&tl(n,n.return),32&t.flags){var r=t.stateNode;try{dt(r,"")}catch(m){Ec(t,t.return,m)}}if(4&i&&null!=(r=t.stateNode)){var s=t.memoizedProps,a=null!==n?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(r,s),bt(l,a);var u=bt(l,s);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?mt(r,d):"dangerouslySetInnerHTML"===h?ht(r,d):"children"===h?dt(r,d):b(r,h,d,u)}switch(l){case"input":J(r,s);break;case"textarea":ot(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?nt(r,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?nt(r,!!s.multiple,s.defaultValue,!0):nt(r,!!s.multiple,s.multiple?[]:"",!1))}r[fr]=s}catch(m){Ec(t,t.return,m)}}break;case 6:if(ml(e,t),vl(t),4&i){if(null===t.stateNode)throw Error(o(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(m){Ec(t,t.return,m)}}break;case 3:if(ml(e,t),vl(t),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ue(e.containerInfo)}catch(m){Ec(t,t.return,m)}break;case 4:default:ml(e,t),vl(t);break;case 13:ml(e,t),vl(t),8192&(r=t.child).flags&&(s=null!==r.memoizedState,r.stateNode.isHidden=s,!s||null!==r.alternate&&null!==r.alternate.memoizedState||(Ul=Xt())),4&i&&gl(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(Xa=(u=Xa)||h,ml(e,t),Xa=u):ml(e,t),vl(t),8192&i){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!h&&0!==(1&t.mode))for(Za=t,h=t.child;null!==h;){for(d=Za=h;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:il(4,f,f.return);break;case 1:tl(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){i=f,n=f.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Ec(i,n,m)}}break;case 5:tl(f,f.return);break;case 22:if(null!==f.memoizedState){_l(d);continue}}null!==p?(p.return=f,Za=p):_l(d)}h=h.sibling}t:for(h=null,d=t;;){if(5===d.tag){if(null===h){h=d;try{r=d.stateNode,u?"function"===typeof(s=r.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=gt("display",a))}catch(m){Ec(t,t.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Ec(t,t.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(e,t),vl(t),4&i&&gl(t);case 21:}}function vl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(al(n)){var i=n;break t}n=n.return}throw Error(o(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(dt(r,""),i.flags&=-33),ul(t,ll(t),r);break;case 3:case 4:var s=i.stateNode.containerInfo;cl(t,ll(t),s);break;default:throw Error(o(161))}}catch(a){Ec(t,t.return,a)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function bl(t,e,n){Za=t,wl(t,e,n)}function wl(t,e,n){for(var i=0!==(1&t.mode);null!==Za;){var r=Za,o=r.child;if(22===r.tag&&i){var s=null!==r.memoizedState||$a;if(!s){var a=r.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=$a;var c=Xa;if($a=s,(Xa=l)&&!c)for(Za=r;null!==Za;)l=(s=Za).child,22===s.tag&&null!==s.memoizedState?Sl(r):null!==l?(l.return=s,Za=l):Sl(r);for(;null!==o;)Za=o,wl(o,e,n),o=o.sibling;Za=r,$a=a,Xa=c}xl(t)}else 0!==(8772&r.subtreeFlags)&&null!==o?(o.return=r,Za=o):xl(t)}}function xl(t){for(;null!==Za;){var e=Za;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Xa||rl(5,e);break;case 1:var i=e.stateNode;if(4&e.flags&&!Xa)if(null===n)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:yo(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;null!==s&&Bo(e,s,i);break;case 3:var a=e.updateQueue;if(null!==a){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Bo(e,a,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Ue(d)}}}break;default:throw Error(o(163))}Xa||512&e.flags&&ol(e)}catch(f){Ec(e,e.return,f)}}if(e===t){Za=null;break}if(null!==(n=e.sibling)){n.return=e.return,Za=n;break}Za=e.return}}function _l(t){for(;null!==Za;){var e=Za;if(e===t){Za=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Za=n;break}Za=e.return}}function Sl(t){for(;null!==Za;){var e=Za;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rl(4,e)}catch(l){Ec(e,n,l)}break;case 1:var i=e.stateNode;if("function"===typeof i.componentDidMount){var r=e.return;try{i.componentDidMount()}catch(l){Ec(e,r,l)}}var o=e.return;try{ol(e)}catch(l){Ec(e,o,l)}break;case 5:var s=e.return;try{ol(e)}catch(l){Ec(e,s,l)}}}catch(l){Ec(e,e.return,l)}if(e===t){Za=null;break}var a=e.sibling;if(null!==a){a.return=e.return,Za=a;break}Za=e.return}}var kl,El=Math.ceil,Cl=w.ReactCurrentDispatcher,Tl=w.ReactCurrentOwner,Il=w.ReactCurrentBatchConfig,Pl=0,Ml=null,Dl=null,Rl=0,Al=0,Ol=kr(0),Nl=0,Ll=null,Fl=0,zl=0,Bl=0,Vl=null,jl=null,Ul=0,Hl=1/0,Wl=null,Gl=!1,ql=null,Kl=null,Ql=!1,Yl=null,$l=0,Xl=0,Jl=null,Zl=-1,tc=0;function ec(){return 0!==(6&Pl)?Xt():-1!==Zl?Zl:Zl=Xt()}function nc(t){return 0===(1&t.mode)?1:0!==(2&Pl)&&0!==Rl?Rl&-Rl:null!==mo.transition?(0===tc&&(tc=ge()),tc):0!==(t=be)?t:t=void 0===(t=window.event)?16:$e(t.type)}function ic(t,e,n,i){if(50<Xl)throw Xl=0,Jl=null,Error(o(185));ye(t,n,i),0!==(2&Pl)&&t===Ml||(t===Ml&&(0===(2&Pl)&&(zl|=n),4===Nl&&lc(t,Rl)),rc(t,i),1===n&&0===Pl&&0===(1&e.mode)&&(Hl=Xt()+500,Br&&Ur()))}function rc(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-se(o),a=1<<s,l=r[s];-1===l?0!==(a&n)&&0===(a&i)||(r[s]=fe(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}(t,e);var i=de(t,t===Ml?Rl:0);if(0===i)null!==n&&Qt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(null!=n&&Qt(n),1===e)0===t.tag?function(t){Br=!0,jr(t)}(cc.bind(null,t)):jr(cc.bind(null,t)),sr((function(){0===(6&Pl)&&Ur()})),n=null;else{switch(we(i)){case 1:n=Zt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=ie}n=Mc(n,oc.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function oc(t,e){if(Zl=-1,tc=0,0!==(6&Pl))throw Error(o(327));var n=t.callbackNode;if(Sc()&&t.callbackNode!==n)return null;var i=de(t,t===Ml?Rl:0);if(0===i)return null;if(0!==(30&i)||0!==(i&t.expiredLanes)||e)e=yc(t,i);else{e=i;var r=Pl;Pl|=2;var s=gc();for(Ml===t&&Rl===e||(Wl=null,Hl=Xt()+500,fc(t,e));;)try{bc();break}catch(l){pc(t,l)}_o(),Cl.current=s,Pl=r,null!==Dl?e=0:(Ml=null,Rl=0,e=Nl)}if(0!==e){if(2===e&&(0!==(r=pe(t))&&(i=r,e=sc(t,r))),1===e)throw n=Ll,fc(t,0),lc(t,i),rc(t,Xt()),n;if(6===e)lc(t,i);else{if(r=t.current.alternate,0===(30&i)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!ai(o(),r))return!1}catch(a){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(r)&&(2===(e=yc(t,i))&&(0!==(s=pe(t))&&(i=s,e=sc(t,s))),1===e))throw n=Ll,fc(t,0),lc(t,i),rc(t,Xt()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(o(345));case 2:case 5:_c(t,jl,Wl);break;case 3:if(lc(t,i),(130023424&i)===i&&10<(e=Ul+500-Xt())){if(0!==de(t,0))break;if(((r=t.suspendedLanes)&i)!==i){ec(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=ir(_c.bind(null,t,jl,Wl),e);break}_c(t,jl,Wl);break;case 4:if(lc(t,i),(4194240&i)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-se(i);s=1<<a,(a=e[a])>r&&(r=a),i&=~s}if(i=r,10<(i=(120>(i=Xt()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*El(i/1960))-i)){t.timeoutHandle=ir(_c.bind(null,t,jl,Wl),i);break}_c(t,jl,Wl);break;default:throw Error(o(329))}}}return rc(t,Xt()),t.callbackNode===n?oc.bind(null,t):null}function sc(t,e){var n=Vl;return t.current.memoizedState.isDehydrated&&(fc(t,e).flags|=256),2!==(t=yc(t,e))&&(e=jl,jl=n,null!==e&&ac(e)),t}function ac(t){null===jl?jl=t:jl.push.apply(jl,t)}function lc(t,e){for(e&=~Bl,e&=~zl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-se(e),i=1<<n;t[n]=-1,e&=~i}}function cc(t){if(0!==(6&Pl))throw Error(o(327));Sc();var e=de(t,0);if(0===(1&e))return rc(t,Xt()),null;var n=yc(t,e);if(0!==t.tag&&2===n){var i=pe(t);0!==i&&(e=i,n=sc(t,i))}if(1===n)throw n=Ll,fc(t,0),lc(t,e),rc(t,Xt()),n;if(6===n)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_c(t,jl,Wl),rc(t,Xt()),null}function uc(t,e){var n=Pl;Pl|=1;try{return t(e)}finally{0===(Pl=n)&&(Hl=Xt()+500,Br&&Ur())}}function hc(t){null!==Yl&&0===Yl.tag&&0===(6&Pl)&&Sc();var e=Pl;Pl|=1;var n=Il.transition,i=be;try{if(Il.transition=null,be=1,t)return t()}finally{be=i,Il.transition=n,0===(6&(Pl=e))&&Ur()}}function dc(){Al=Ol.current,Er(Ol)}function fc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,rr(n)),null!==Dl)for(n=Dl.return;null!==n;){var i=n;switch(eo(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Ar();break;case 3:os(),Er(Pr),Er(Ir),hs();break;case 5:as(i);break;case 4:os();break;case 13:case 19:Er(ls);break;case 10:So(i.type._context);break;case 22:case 23:dc()}n=n.return}if(Ml=t,Dl=t=Oc(t.current,null),Rl=Al=e,Nl=0,Ll=null,Bl=zl=Fl=0,jl=Vl=null,null!==To){for(e=0;e<To.length;e++)if(null!==(i=(n=To[e]).interleaved)){n.interleaved=null;var r=i.next,o=n.pending;if(null!==o){var s=o.next;o.next=r,i.next=s}n.pending=i}To=null}return t}function pc(t,e){for(;;){var n=Dl;try{if(_o(),ds.current=sa,vs){for(var i=gs.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}vs=!1}if(ps=0,ys=ms=gs=null,bs=!1,ws=0,Tl.current=null,null===n||null===n.return){Nl=1,Ll=e,Dl=null;break}t:{var s=t,a=n.return,l=n,c=e;if(e=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ya(a);if(null!==p){p.flags&=-257,va(p,a,l,0,e),1&p.mode&&ma(s,u,e),c=u;var g=(e=p).updateQueue;if(null===g){var m=new Set;m.add(c),e.updateQueue=m}else g.add(c);break t}if(0===(1&e)){ma(s,u,e),mc();break t}c=Error(o(426))}else if(ro&&1&l.mode){var y=ya(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),va(y,a,l,0,e),go(ua(c,l));break t}}s=c=ua(c,l),4!==Nl&&(Nl=2),null===Vl?Vl=[s]:Vl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e,Fo(s,pa(0,c,e));break t;case 1:l=c;var v=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e,Fo(s,ga(s,l,e));break t}}s=s.return}while(null!==s)}xc(n)}catch(w){e=w,Dl===n&&null!==n&&(Dl=n=n.return);continue}break}}function gc(){var t=Cl.current;return Cl.current=sa,null===t?sa:t}function mc(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Ml||0===(268435455&Fl)&&0===(268435455&zl)||lc(Ml,Rl)}function yc(t,e){var n=Pl;Pl|=2;var i=gc();for(Ml===t&&Rl===e||(Wl=null,fc(t,e));;)try{vc();break}catch(r){pc(t,r)}if(_o(),Pl=n,Cl.current=i,null!==Dl)throw Error(o(261));return Ml=null,Rl=0,Nl}function vc(){for(;null!==Dl;)wc(Dl)}function bc(){for(;null!==Dl&&!Yt();)wc(Dl)}function wc(t){var e=kl(t.alternate,t,Al);t.memoizedProps=t.pendingProps,null===e?xc(t):Dl=e,Tl.current=null}function xc(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Qa(n,e,Al)))return void(Dl=n)}else{if(null!==(n=Ya(n,e)))return n.flags&=32767,void(Dl=n);if(null===t)return Nl=6,void(Dl=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Dl=e);Dl=e=t}while(null!==e);0===Nl&&(Nl=5)}function _c(t,e,n){var i=be,r=Il.transition;try{Il.transition=null,be=1,function(t,e,n,i){do{Sc()}while(null!==Yl);if(0!==(6&Pl))throw Error(o(327));n=t.finishedWork;var r=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-se(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}(t,s),t===Ml&&(Dl=Ml=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Mc(ee,(function(){return Sc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Il.transition,Il.transition=null;var a=be;be=1;var l=Pl;Pl|=4,Tl.current=null,function(t,e){if(tr=We,fi(t=di())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var i=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break t}var a=0,l=-1,c=-1,u=0,h=0,d=t,f=null;e:for(;;){for(var p;d!==n||0!==r&&3!==d.nodeType||(l=a+r),d!==s||0!==i&&3!==d.nodeType||(c=a+i),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===t)break e;if(f===n&&++u===r&&(l=a),f===s&&++h===i&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(er={focusedElem:t,selectionRange:n},We=!1,Za=e;null!==Za;)if(t=(e=Za).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Za=t;else for(;null!==Za;){e=Za;try{var g=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:yo(e.type,m),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){Ec(e,e.return,x)}if(null!==(t=e.sibling)){t.return=e.return,Za=t;break}Za=e.return}g=nl,nl=!1}(t,n),yl(n,t),pi(er),We=!!tr,er=tr=null,t.current=n,bl(n,t,r),$t(),Pl=l,be=a,Il.transition=s}else t.current=n;if(Ql&&(Ql=!1,Yl=t,$l=r),s=t.pendingLanes,0===s&&(Kl=null),function(t){if(oe&&"function"===typeof oe.onCommitFiberRoot)try{oe.onCommitFiberRoot(re,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),rc(t,Xt()),null!==e)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Gl)throw Gl=!1,t=ql,ql=null,t;0!==(1&$l)&&0!==t.tag&&Sc(),s=t.pendingLanes,0!==(1&s)?t===Jl?Xl++:(Xl=0,Jl=t):Xl=0,Ur()}(t,e,n,i)}finally{Il.transition=r,be=i}return null}function Sc(){if(null!==Yl){var t=we($l),e=Il.transition,n=be;try{if(Il.transition=null,be=16>t?16:t,null===Yl)var i=!1;else{if(t=Yl,Yl=null,$l=0,0!==(6&Pl))throw Error(o(331));var r=Pl;for(Pl|=4,Za=t.current;null!==Za;){var s=Za,a=s.child;if(0!==(16&Za.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:il(8,h,s)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var f=(h=Za).sibling,p=h.return;if(sl(h),h===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var g=s.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Za=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Za=a;else t:for(;null!==Za;){if(0!==(2048&(s=Za).flags))switch(s.tag){case 0:case 11:case 15:il(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Za=v;break t}Za=s.return}}var b=t.current;for(Za=b;null!==Za;){var w=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Za=w;else t:for(a=b;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){Ec(l,l.return,_)}if(l===a){Za=null;break t}var x=l.sibling;if(null!==x){x.return=l.return,Za=x;break t}Za=l.return}}if(Pl=r,Ur(),oe&&"function"===typeof oe.onPostCommitFiberRoot)try{oe.onPostCommitFiberRoot(re,t)}catch(_){}i=!0}return i}finally{be=n,Il.transition=e}}return!1}function kc(t,e,n){t=No(t,e=pa(0,e=ua(n,e),1),1),e=ec(),null!==t&&(ye(t,1,e),rc(t,e))}function Ec(t,e,n){if(3===t.tag)kc(t,t,n);else for(;null!==e;){if(3===e.tag){kc(e,t,n);break}if(1===e.tag){var i=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Kl||!Kl.has(i))){e=No(e,t=ga(e,t=ua(n,t),1),1),t=ec(),null!==e&&(ye(e,1,t),rc(e,t));break}}e=e.return}}function Cc(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),e=ec(),t.pingedLanes|=t.suspendedLanes&n,Ml===t&&(Rl&n)===n&&(4===Nl||3===Nl&&(130023424&Rl)===Rl&&500>Xt()-Ul?fc(t,0):Bl|=n),rc(t,e)}function Tc(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ue,0===(130023424&(ue<<=1))&&(ue=4194304)));var n=ec();null!==(t=Mo(t,e))&&(ye(t,e,n),rc(t,n))}function Ic(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Tc(t,n)}function Pc(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(o(314))}null!==i&&i.delete(e),Tc(t,n)}function Mc(t,e){return Kt(t,e)}function Dc(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(t,e,n,i){return new Dc(t,e,n,i)}function Ac(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Oc(t,e){var n=t.alternate;return null===n?((n=Rc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Nc(t,e,n,i,r,s){var a=2;if(i=t,"function"===typeof t)Ac(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case S:return Lc(n.children,r,s,e);case k:a=8,r|=8;break;case E:return(t=Rc(12,n,e,2|r)).elementType=E,t.lanes=s,t;case P:return(t=Rc(13,n,e,r)).elementType=P,t.lanes=s,t;case M:return(t=Rc(19,n,e,r)).elementType=M,t.lanes=s,t;case A:return Fc(n,r,s,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case C:a=10;break t;case T:a=9;break t;case I:a=11;break t;case D:a=14;break t;case R:a=16,i=null;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Rc(a,n,e,r)).elementType=t,e.type=i,e.lanes=s,e}function Lc(t,e,n,i){return(t=Rc(7,t,i,e)).lanes=n,t}function Fc(t,e,n,i){return(t=Rc(22,t,i,e)).elementType=A,t.lanes=n,t.stateNode={isHidden:!1},t}function zc(t,e,n){return(t=Rc(6,t,null,e)).lanes=n,t}function Bc(t,e,n){return(e=Rc(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Vc(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function jc(t,e,n,i,r,o,s,a,l){return t=new Vc(t,e,n,a,l),1===e?(e=1,!0===o&&(e|=8)):e=0,o=Rc(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ro(o),t}function Uc(t){if(!t)return Tr;t:{if(Ut(t=t._reactInternals)!==t||1!==t.tag)throw Error(o(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Rr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(o(171))}if(1===t.tag){var n=t.type;if(Rr(n))return Nr(t,n,e)}return e}function Hc(t,e,n,i,r,o,s,a,l){return(t=jc(n,i,!0,t,0,o,0,a,l)).context=Uc(null),n=t.current,(o=Oo(i=ec(),r=nc(n))).callback=void 0!==e&&null!==e?e:null,No(n,o,r),t.current.lanes=r,ye(t,r,i),rc(t,i),t}function Wc(t,e,n,i){var r=e.current,o=ec(),s=nc(r);return n=Uc(n),null===e.context?e.context=n:e.pendingContext=n,(e=Oo(o,s)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),null!==(t=No(r,e,s))&&(ic(t,r,s,o),Lo(t,r,s)),s}function Gc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function qc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Kc(t,e){qc(t,e),(t=t.alternate)&&qc(t,e)}kl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Pr.current)wa=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return wa=!1,function(t,e,n){switch(e.tag){case 3:Ma(e),po();break;case 5:ss(e);break;case 1:Rr(e.type)&&Lr(e);break;case 4:rs(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Cr(vo,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=e.memoizedState))return null!==i.dehydrated?(Cr(ls,1&ls.current),e.flags|=128,null):0!==(n&e.child.childLanes)?za(t,e,n):(Cr(ls,1&ls.current),null!==(t=Ga(t,e,n))?t.sibling:null);Cr(ls,1&ls.current);break;case 19:if(i=0!==(n&e.childLanes),0!==(128&t.flags)){if(i)return Ha(t,e,n);e.flags|=128}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Cr(ls,ls.current),i)break;return null;case 22:case 23:return e.lanes=0,Ea(t,e,n)}return Ga(t,e,n)}(t,e,n);wa=0!==(131072&t.flags)}else wa=!1,ro&&0!==(1048576&e.flags)&&Zr(e,qr,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Wa(t,e),t=e.pendingProps;var r=Dr(e,Ir.current);Eo(e,n),r=ks(null,e,i,t,r,n);var s=Es();return e.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rr(i)?(s=!0,Lr(e)):s=!1,e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ro(e),r.updater=Uo,e.stateNode=r,r._reactInternals=e,qo(e,i,t,n),e=Pa(null,e,i,!0,s,n)):(e.tag=0,ro&&s&&to(e),xa(null,e,r,n),e=e.child),e;case 16:i=e.elementType;t:{switch(Wa(t,e),t=e.pendingProps,i=(r=i._init)(i._payload),e.type=i,r=e.tag=function(t){if("function"===typeof t)return Ac(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===I)return 11;if(t===D)return 14}return 2}(i),t=yo(i,t),r){case 0:e=Ta(null,e,i,t,n);break t;case 1:e=Ia(null,e,i,t,n);break t;case 11:e=_a(null,e,i,t,n);break t;case 14:e=Sa(null,e,i,yo(i.type,t),n);break t}throw Error(o(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,Ta(t,e,i,r=e.elementType===i?r:yo(i,r),n);case 1:return i=e.type,r=e.pendingProps,Ia(t,e,i,r=e.elementType===i?r:yo(i,r),n);case 3:t:{if(Ma(e),null===t)throw Error(o(387));i=e.pendingProps,r=(s=e.memoizedState).element,Ao(t,e),zo(e,i,null,n);var a=e.memoizedState;if(i=a.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,256&e.flags){e=Da(t,e,i,n,r=ua(Error(o(423)),e));break t}if(i!==r){e=Da(t,e,i,n,r=ua(Error(o(424)),e));break t}for(io=cr(e.stateNode.containerInfo.firstChild),no=e,ro=!0,oo=null,n=Jo(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),i===r){e=Ga(t,e,n);break t}xa(t,e,i,n)}e=e.child}return e;case 5:return ss(e),null===t&&co(e),i=e.type,r=e.pendingProps,s=null!==t?t.memoizedProps:null,a=r.children,nr(i,r)?a=null:null!==s&&nr(i,s)&&(e.flags|=32),Ca(t,e),xa(t,e,a,n),e.child;case 6:return null===t&&co(e),null;case 13:return za(t,e,n);case 4:return rs(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=Xo(e,null,i,n):xa(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,_a(t,e,i,r=e.elementType===i?r:yo(i,r),n);case 7:return xa(t,e,e.pendingProps,n),e.child;case 8:case 12:return xa(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,a=r.value,Cr(vo,i._currentValue),i._currentValue=a,null!==s)if(ai(s.value,a)){if(s.children===r.children&&!Pr.current){e=Ga(t,e,n);break t}}else for(null!==(s=e.child)&&(s.return=e);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===s.tag){(c=Oo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),ko(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===e.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ko(a,n,e),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===e){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}xa(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Eo(e,n),i=i(r=Co(r)),e.flags|=1,xa(t,e,i,n),e.child;case 14:return r=yo(i=e.type,e.pendingProps),Sa(t,e,i,r=yo(i.type,r),n);case 15:return ka(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:yo(i,r),Wa(t,e),e.tag=1,Rr(i)?(t=!0,Lr(e)):t=!1,Eo(e,n),Wo(e,i,r),qo(e,i,r,n),Pa(null,e,i,!0,t,n);case 19:return Ha(t,e,n);case 22:return Ea(t,e,n)}throw Error(o(156,e.tag))};var Qc="function"===typeof reportError?reportError:function(t){console.error(t)};function Yc(t){this._internalRoot=t}function $c(t){this._internalRoot=t}function Xc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Jc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Zc(){}function tu(t,e,n,i,r){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof r){var a=r;r=function(){var t=Gc(s);a.call(t)}}Wc(e,s,t,r)}else s=function(t,e,n,i,r){if(r){if("function"===typeof i){var o=i;i=function(){var t=Gc(s);o.call(t)}}var s=Hc(e,i,t,0,null,!1,0,"",Zc);return t._reactRootContainer=s,t[pr]=s.current,Ui(8===t.nodeType?t.parentNode:t),hc(),s}for(;r=t.lastChild;)t.removeChild(r);if("function"===typeof i){var a=i;i=function(){var t=Gc(l);a.call(t)}}var l=jc(t,0,!1,null,0,!1,0,"",Zc);return t._reactRootContainer=l,t[pr]=l.current,Ui(8===t.nodeType?t.parentNode:t),hc((function(){Wc(e,l,n,i)})),l}(n,e,t,r,i);return Gc(s)}$c.prototype.render=Yc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(o(409));Wc(t,e,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;hc((function(){Wc(null,t,null,null)})),e[pr]=null}},$c.prototype.unstable_scheduleHydration=function(t){if(t){var e=ke();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ae.length&&0!==e&&e<Ae[n].priority;n++);Ae.splice(n,0,t),0===n&&Fe(t)}},xe=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(ve(e,1|n),rc(e,Xt()),0===(6&Pl)&&(Hl=Xt()+500,Ur()))}break;case 13:hc((function(){var e=Mo(t,1);if(null!==e){var n=ec();ic(e,t,1,n)}})),Kc(t,1)}},_e=function(t){if(13===t.tag){var e=Mo(t,134217728);if(null!==e)ic(e,t,134217728,ec());Kc(t,134217728)}},Se=function(t){if(13===t.tag){var e=nc(t),n=Mo(t,e);if(null!==n)ic(n,t,e,ec());Kc(t,e)}},ke=function(){return be},Ee=function(t,e){var n=be;try{return be=t,e()}finally{be=n}},_t=function(t,e,n){switch(e){case"input":if(J(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=xr(i);if(!r)throw Error(o(90));K(i),J(i,r)}}}break;case"textarea":ot(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},It=uc,Pt=hc;var eu={usingClientEntryPoint:!1,Events:[br,wr,xr,Ct,Tt,uc]},nu={findFiberByHostInstance:vr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},iu={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Gt(t))?null:t.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{re=ru.inject(iu),oe=ru}catch(ut){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(e))throw Error(o(200));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Xc(t))throw Error(o(299));var n=!1,i="",r=Qc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(i=e.identifierPrefix),void 0!==e.onRecoverableError&&(r=e.onRecoverableError)),e=jc(t,1,!1,null,0,n,0,i,r),t[pr]=e.current,Ui(8===t.nodeType?t.parentNode:t),new Yc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw t=Object.keys(t).join(","),Error(o(268,t))}return t=null===(t=Gt(e))?null:t.stateNode},e.flushSync=function(t){return hc(t)},e.hydrate=function(t,e,n){if(!Jc(e))throw Error(o(200));return tu(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Xc(t))throw Error(o(405));var i=null!=n&&n.hydratedSources||null,r=!1,s="",a=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),e=Hc(e,null,t,1,null!=n?n:null,r,0,s,a),t[pr]=e.current,Ui(t),i)for(t=0;t<i.length;t++)r=(r=(n=i[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new $c(e)},e.render=function(t,e,n){if(!Jc(e))throw Error(o(200));return tu(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Jc(t))throw Error(o(40));return!!t._reactRootContainer&&(hc((function(){tu(null,null,t,!1,(function(){t._reactRootContainer=null,t[pr]=null}))})),!0)},e.unstable_batchedUpdates=uc,e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Jc(n))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return tu(t,e,n,!1,i)},e.version="18.2.0-next-9e3b772b8-20220608"},391:(t,e,n)=>{"use strict";var i=n(950);e.createRoot=i.createRoot,e.hydrateRoot=i.hydrateRoot},950:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(730)},310:function(t,e,n){var i=n(756);!function(t,e){"use strict";function n(t,e,n,i,r,o,s){try{var a=t[o](s),l=a.value}catch(t){return void n(t)}a.done?e(l):Promise.resolve(l).then(i,r)}function r(t){return function(){var e=this,i=arguments;return new Promise((function(r,o){var s=t.apply(e,i);function a(t){n(s,r,o,a,l,"next",t)}function l(t){n(s,r,o,a,l,"throw",t)}a(void 0)}))}}function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function s(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}function a(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var l={init:"init"},c=function(t){var e=t.value;return void 0===e?"":e},u=function(){return e.createElement(e.Fragment,null,"\xa0")},h={Cell:c,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function d(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((function(t,e){var n=e.style,i=e.className;return t=o({},t,{},s(e,["style","className"])),n&&(t.style=t.style?o({},t.style||{},{},n||{}):n),i&&(t.className=t.className?t.className+" "+i:i),""===t.className&&delete t.className,t}),{})}var f=function(t,e){return void 0===e&&(e={}),function(n){return void 0===n&&(n={}),[].concat(t,[n]).reduce((function(t,i){return function t(e,n,i){return"function"==typeof n?t({},n(e,i)):Array.isArray(n)?d.apply(void 0,[e].concat(n)):d(e,n)}(t,i,o({},e,{userProps:n}))}),{})}},p=function(t,e,n,i){return void 0===n&&(n={}),t.reduce((function(t,e){return e(t,n)}),e)},g=function(t,e,n){return void 0===n&&(n={}),t.forEach((function(t){t(e,n)}))};function m(t,e,n,i){t.findIndex((function(t){return t.pluginName===n})),e.forEach((function(e){t.findIndex((function(t){return t.pluginName===e}))}))}function y(t,e){return"function"==typeof t?t(e):t}function v(t){var n=e.useRef();return n.current=t,e.useCallback((function(){return n.current}),[])}var b="undefined"!=typeof document?e.useLayoutEffect:e.useEffect;function w(t,n){var i=e.useRef(!1);b((function(){i.current&&t(),i.current=!0}),n)}function x(t,e,n){return void 0===n&&(n={}),function(i,r){void 0===r&&(r={});var s="string"==typeof i?e[i]:i;if(void 0===s)throw console.info(e),new Error("Renderer Error \u261d\ufe0f");return _(s,o({},t,{column:e},n,{},r))}}function _(t,n){return function(t){return"function"==typeof t&&(e=Object.getPrototypeOf(t)).prototype&&e.prototype.isReactComponent;var e}(i=t)||"function"==typeof i||function(t){return"object"==typeof t&&"symbol"==typeof t.$$typeof&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}(i)?e.createElement(t,n):t;var i}function S(t,e,n){return void 0===n&&(n=0),t.map((function(t){return E(t=o({},t,{parent:e,depth:n})),t.columns&&(t.columns=S(t.columns,t,n+1)),t}))}function k(t){return D(t,"columns")}function E(t){var e=t.id,n=t.accessor,i=t.Header;if("string"==typeof n){e=e||n;var r=n.split(".");n=function(t){return function(t,e,n){if(!e)return t;var i,r="function"==typeof e?e:JSON.stringify(e),o=I.get(r)||function(){var t=function(t){return function t(e,n){if(void 0===n&&(n=[]),Array.isArray(e))for(var i=0;i<e.length;i+=1)t(e[i],n);else n.push(e);return n}(t).map((function(t){return String(t).replace(".","_")})).join(".").replace(F,".").replace(z,"").split(".")}(e);return I.set(r,t),t}();try{i=o.reduce((function(t,e){return t[e]}),t)}catch(t){}return void 0!==i?i:n}(t,r)}}if(!e&&"string"==typeof i&&i&&(e=i),!e&&t.columns)throw console.error(t),new Error('A column ID (or unique "Header" value) is required!');if(!e)throw console.error(t),new Error("A column ID (or string accessor) is required!");return Object.assign(t,{id:e,accessor:n}),t}function C(t,e){if(!e)throw new Error;return Object.assign(t,o({Header:u,Footer:u},h,{},e,{},t)),Object.assign(t,{originalWidth:t.width}),t}function T(t,e,n){void 0===n&&(n=function(){return{}});for(var i=[],r=t,s=0,a=function(){return s++},l=function(){var t={headers:[]},s=[],l=r.some((function(t){return t.parent}));r.forEach((function(i){var r,c=[].concat(s).reverse()[0];l&&(r=i.parent?o({},i.parent,{originalId:i.parent.id,id:i.parent.id+"_"+a(),headers:[i]},n(i)):C(o({originalId:i.id+"_placeholder",id:i.id+"_placeholder_"+a(),placeholderOf:i,headers:[i]},n(i)),e),c&&c.originalId===r.originalId?c.headers.push(i):s.push(r)),t.headers.push(i)})),i.push(t),r=s};r.length;)l();return i.reverse()}var I=new Map;function P(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var i=0;i<e.length;i+=1)if(void 0!==e[i])return e[i]}function M(t){if("function"==typeof t)return t}function D(t,e){var n=[];return function t(i){i.forEach((function(i){i[e]?t(i[e]):n.push(i)}))}(t),n}function R(t,e){var n=e.manualExpandedKey,i=e.expanded,r=e.expandSubRows,o=void 0===r||r,s=[];return t.forEach((function(t){return function t(e,r){void 0===r&&(r=!0),e.isExpanded=e.original&&e.original[n]||i[e.id],e.canExpand=e.subRows&&!!e.subRows.length,r&&s.push(e),e.subRows&&e.subRows.length&&e.isExpanded&&e.subRows.forEach((function(e){return t(e,o)}))}(t)})),s}function A(t,e,n){return M(t)||e[t]||n[t]||n.text}function O(t,e,n){return t?t(e,n):void 0===e}function N(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var L=null,F=/\[/g,z=/\]/g,B=function(t){return o({role:"table"},t)},V=function(t){return o({role:"rowgroup"},t)},j=function(t,e){var n=e.column;return o({key:"header_"+n.id,colSpan:n.totalVisibleHeaderCount,role:"columnheader"},t)},U=function(t,e){var n=e.column;return o({key:"footer_"+n.id,colSpan:n.totalVisibleHeaderCount},t)},H=function(t,e){return o({key:"headerGroup_"+e.index,role:"row"},t)},W=function(t,e){return o({key:"footerGroup_"+e.index},t)},G=function(t,e){return o({key:"row_"+e.row.id,role:"row"},t)},q=function(t,e){var n=e.cell;return o({key:"cell_"+n.row.id+"_"+n.column.id,role:"cell"},t)};function K(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[B],getTableBodyProps:[V],getHeaderGroupProps:[H],getFooterGroupProps:[W],getHeaderProps:[j],getFooterProps:[U],getRowProps:[G],getCellProps:[q],useFinalInstance:[]}}l.resetHiddenColumns="resetHiddenColumns",l.toggleHideColumn="toggleHideColumn",l.setHiddenColumns="setHiddenColumns",l.toggleHideAllColumns="toggleHideAllColumns";var Q=function(t){t.getToggleHiddenProps=[Y],t.getToggleHideAllColumnsProps=[$],t.stateReducers.push(X),t.useInstanceBeforeDimensions.push(J),t.headerGroupsDeps.push((function(t,e){var n=e.instance;return[].concat(t,[n.state.hiddenColumns])})),t.useInstance.push(Z)};Q.pluginName="useColumnVisibility";var Y=function(t,e){var n=e.column;return[t,{onChange:function(t){n.toggleHidden(!t.target.checked)},style:{cursor:"pointer"},checked:n.isVisible,title:"Toggle Column Visible"}]},$=function(t,e){var n=e.instance;return[t,{onChange:function(t){n.toggleHideAllColumns(!t.target.checked)},style:{cursor:"pointer"},checked:!n.allColumnsHidden&&!n.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!n.allColumnsHidden&&n.state.hiddenColumns.length}]};function X(t,e,n,i){if(e.type===l.init)return o({hiddenColumns:[]},t);if(e.type===l.resetHiddenColumns)return o({},t,{hiddenColumns:i.initialState.hiddenColumns||[]});if(e.type===l.toggleHideColumn){var r=(void 0!==e.value?e.value:!t.hiddenColumns.includes(e.columnId))?[].concat(t.hiddenColumns,[e.columnId]):t.hiddenColumns.filter((function(t){return t!==e.columnId}));return o({},t,{hiddenColumns:r})}return e.type===l.setHiddenColumns?o({},t,{hiddenColumns:y(e.value,t.hiddenColumns)}):e.type===l.toggleHideAllColumns?o({},t,{hiddenColumns:(void 0!==e.value?e.value:!t.hiddenColumns.length)?i.allColumns.map((function(t){return t.id})):[]}):void 0}function J(t){var n=t.headers,i=t.state.hiddenColumns;e.useRef(!1).current;var r=0;n.forEach((function(t){return r+=function t(e,n){e.isVisible=n&&!i.includes(e.id);var r=0;return e.headers&&e.headers.length?e.headers.forEach((function(n){return r+=t(n,e.isVisible)})):r=e.isVisible?1:0,e.totalVisibleHeaderCount=r,r}(t,!0)}))}function Z(t){var n=t.columns,i=t.flatHeaders,r=t.dispatch,o=t.allColumns,s=t.getHooks,a=t.state.hiddenColumns,c=t.autoResetHiddenColumns,u=void 0===c||c,h=v(t),d=o.length===a.length,p=e.useCallback((function(t,e){return r({type:l.toggleHideColumn,columnId:t,value:e})}),[r]),g=e.useCallback((function(t){return r({type:l.setHiddenColumns,value:t})}),[r]),m=e.useCallback((function(t){return r({type:l.toggleHideAllColumns,value:t})}),[r]),y=f(s().getToggleHideAllColumnsProps,{instance:h()});i.forEach((function(t){t.toggleHidden=function(e){r({type:l.toggleHideColumn,columnId:t.id,value:e})},t.getToggleHiddenProps=f(s().getToggleHiddenProps,{instance:h(),column:t})}));var b=v(u);w((function(){b()&&r({type:l.resetHiddenColumns})}),[r,n]),Object.assign(t,{allColumnsHidden:d,toggleHideColumn:p,setHiddenColumns:g,toggleHideAllColumns:m,getToggleHideAllColumnsProps:y})}var tt={},et={},nt=function(t,e,n){return t},it=function(t,e){return t.subRows||[]},rt=function(t,e,n){return""+(n?[n.id,e].join("."):e)},ot=function(t){return t};function st(t){var e=t.initialState,n=void 0===e?tt:e,i=t.defaultColumn,r=void 0===i?et:i,a=t.getSubRows,l=void 0===a?it:a,c=t.getRowId,u=void 0===c?rt:c,h=t.stateReducer,d=void 0===h?nt:h,f=t.useControlledState,p=void 0===f?ot:f;return o({},s(t,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:n,defaultColumn:r,getSubRows:l,getRowId:u,stateReducer:d,useControlledState:p})}function at(t,e){void 0===e&&(e=0);var n=0,i=0,r=0,o=0;return t.forEach((function(t){var s=t.headers;if(t.totalLeft=e,s&&s.length){var a=at(s,e),l=a[0],c=a[1],u=a[2],h=a[3];t.totalMinWidth=l,t.totalWidth=c,t.totalMaxWidth=u,t.totalFlexWidth=h}else t.totalMinWidth=t.minWidth,t.totalWidth=Math.min(Math.max(t.minWidth,t.width),t.maxWidth),t.totalMaxWidth=t.maxWidth,t.totalFlexWidth=t.canResize?t.totalWidth:0;t.isVisible&&(e+=t.totalWidth,n+=t.totalMinWidth,i+=t.totalWidth,r+=t.totalMaxWidth,o+=t.totalFlexWidth)})),[n,i,r,o]}function lt(t){var e=t.data,n=t.rows,i=t.flatRows,r=t.rowsById,o=t.column,s=t.getRowId,a=t.getSubRows,l=t.accessValueHooks,c=t.getInstance;e.forEach((function(t,u){return function t(n,u,h,d,f){void 0===h&&(h=0);var g=n,m=s(n,u,d),y=r[m];if(y)y.subRows&&y.originalSubRows.forEach((function(e,n){return t(e,n,h+1,y)}));else if((y={id:m,original:g,index:u,depth:h,cells:[{}]}).cells.map=N,y.cells.filter=N,y.cells.forEach=N,y.cells[0].getCellProps=N,y.values={},f.push(y),i.push(y),r[m]=y,y.originalSubRows=a(n,u),y.originalSubRows){var v=[];y.originalSubRows.forEach((function(e,n){return t(e,n,h+1,y,v)})),y.subRows=v}o.accessor&&(y.values[o.id]=o.accessor(n,u,y,f,e)),y.values[o.id]=p(l,y.values[o.id],{row:y,column:o,instance:c()})}(t,u,0,void 0,n)}))}l.resetExpanded="resetExpanded",l.toggleRowExpanded="toggleRowExpanded",l.toggleAllRowsExpanded="toggleAllRowsExpanded";var ct=function(t){t.getToggleAllRowsExpandedProps=[ut],t.getToggleRowExpandedProps=[ht],t.stateReducers.push(dt),t.useInstance.push(ft),t.prepareRow.push(pt)};ct.pluginName="useExpanded";var ut=function(t,e){var n=e.instance;return[t,{onClick:function(t){n.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},ht=function(t,e){var n=e.row;return[t,{onClick:function(){n.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function dt(t,e,n,i){if(e.type===l.init)return o({expanded:{}},t);if(e.type===l.resetExpanded)return o({},t,{expanded:i.initialState.expanded||{}});if(e.type===l.toggleAllRowsExpanded){var r=e.value,c=i.rowsById,u=Object.keys(c).length===Object.keys(t.expanded).length;if(void 0!==r?r:!u){var h={};return Object.keys(c).forEach((function(t){h[t]=!0})),o({},t,{expanded:h})}return o({},t,{expanded:{}})}if(e.type===l.toggleRowExpanded){var d,f=e.id,p=e.value,g=t.expanded[f],m=void 0!==p?p:!g;if(!g&&m)return o({},t,{expanded:o({},t.expanded,(d={},d[f]=!0,d))});if(g&&!m){var y=t.expanded;return y[f],o({},t,{expanded:s(y,[f].map(a))})}return t}}function ft(t){var n=t.data,i=t.rows,r=t.rowsById,o=t.manualExpandedKey,s=void 0===o?"expanded":o,a=t.paginateExpandedRows,c=void 0===a||a,u=t.expandSubRows,h=void 0===u||u,d=t.autoResetExpanded,p=void 0===d||d,g=t.getHooks,y=t.plugins,b=t.state.expanded,x=t.dispatch;m(y,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var _=v(p),S=Boolean(Object.keys(r).length&&Object.keys(b).length);S&&Object.keys(r).some((function(t){return!b[t]}))&&(S=!1),w((function(){_()&&x({type:l.resetExpanded})}),[x,n]);var k=e.useCallback((function(t,e){x({type:l.toggleRowExpanded,id:t,value:e})}),[x]),E=e.useCallback((function(t){return x({type:l.toggleAllRowsExpanded,value:t})}),[x]),C=e.useMemo((function(){return c?R(i,{manualExpandedKey:s,expanded:b,expandSubRows:h}):i}),[c,i,s,b,h]),T=e.useMemo((function(){return function(t){var e=0;return Object.keys(t).forEach((function(t){var n=t.split(".");e=Math.max(e,n.length)})),e}(b)}),[b]),I=v(t),P=f(g().getToggleAllRowsExpandedProps,{instance:I()});Object.assign(t,{preExpandedRows:i,expandedRows:C,rows:C,expandedDepth:T,isAllRowsExpanded:S,toggleRowExpanded:k,toggleAllRowsExpanded:E,getToggleAllRowsExpandedProps:P})}function pt(t,e){var n=e.instance.getHooks,i=e.instance;t.toggleRowExpanded=function(e){return i.toggleRowExpanded(t.id,e)},t.getToggleRowExpandedProps=f(n().getToggleRowExpandedProps,{instance:i,row:t})}var gt=function(t,e,n){return t.filter((function(t){return e.some((function(e){var i=t.values[e];return String(i).toLowerCase().includes(String(n).toLowerCase())}))}))};gt.autoRemove=function(t){return!t};var mt=function(t,e,n){return t.filter((function(t){return e.some((function(e){var i=t.values[e];return void 0===i||String(i).toLowerCase()===String(n).toLowerCase()}))}))};mt.autoRemove=function(t){return!t};var yt=function(t,e,n){return t.filter((function(t){return e.some((function(e){var i=t.values[e];return void 0===i||String(i)===String(n)}))}))};yt.autoRemove=function(t){return!t};var vt=function(t,e,n){return t.filter((function(t){return e.some((function(e){return t.values[e].includes(n)}))}))};vt.autoRemove=function(t){return!t||!t.length};var bt=function(t,e,n){return t.filter((function(t){return e.some((function(e){var i=t.values[e];return i&&i.length&&n.every((function(t){return i.includes(t)}))}))}))};bt.autoRemove=function(t){return!t||!t.length};var wt=function(t,e,n){return t.filter((function(t){return e.some((function(e){var i=t.values[e];return i&&i.length&&n.some((function(t){return i.includes(t)}))}))}))};wt.autoRemove=function(t){return!t||!t.length};var xt=function(t,e,n){return t.filter((function(t){return e.some((function(e){var i=t.values[e];return n.includes(i)}))}))};xt.autoRemove=function(t){return!t||!t.length};var _t=function(t,e,n){return t.filter((function(t){return e.some((function(e){return t.values[e]===n}))}))};_t.autoRemove=function(t){return void 0===t};var St=function(t,e,n){return t.filter((function(t){return e.some((function(e){return t.values[e]==n}))}))};St.autoRemove=function(t){return null==t};var kt=function(t,e,n){var i=n||[],r=i[0],o=i[1];if((r="number"==typeof r?r:-1/0)>(o="number"==typeof o?o:1/0)){var s=r;r=o,o=s}return t.filter((function(t){return e.some((function(e){var n=t.values[e];return n>=r&&n<=o}))}))};kt.autoRemove=function(t){return!t||"number"!=typeof t[0]&&"number"!=typeof t[1]};var Et=Object.freeze({__proto__:null,text:gt,exactText:mt,exactTextCase:yt,includes:vt,includesAll:bt,includesSome:wt,includesValue:xt,exact:_t,equals:St,between:kt});l.resetFilters="resetFilters",l.setFilter="setFilter",l.setAllFilters="setAllFilters";var Ct=function(t){t.stateReducers.push(Tt),t.useInstance.push(It)};function Tt(t,e,n,i){if(e.type===l.init)return o({filters:[]},t);if(e.type===l.resetFilters)return o({},t,{filters:i.initialState.filters||[]});if(e.type===l.setFilter){var r=e.columnId,s=e.filterValue,a=i.allColumns,c=i.filterTypes,u=a.find((function(t){return t.id===r}));if(!u)throw new Error("React-Table: Could not find a column with id: "+r);var h=A(u.filter,c||{},Et),d=t.filters.find((function(t){return t.id===r})),f=y(s,d&&d.value);return O(h.autoRemove,f,u)?o({},t,{filters:t.filters.filter((function(t){return t.id!==r}))}):o({},t,d?{filters:t.filters.map((function(t){return t.id===r?{id:r,value:f}:t}))}:{filters:[].concat(t.filters,[{id:r,value:f}])})}if(e.type===l.setAllFilters){var p=e.filters,g=i.allColumns,m=i.filterTypes;return o({},t,{filters:y(p,t.filters).filter((function(t){var e=g.find((function(e){return e.id===t.id}));return!O(A(e.filter,m||{},Et).autoRemove,t.value,e)}))})}}function It(t){var n=t.data,i=t.rows,r=t.flatRows,o=t.rowsById,s=t.allColumns,a=t.filterTypes,c=t.manualFilters,u=t.defaultCanFilter,h=void 0!==u&&u,d=t.disableFilters,f=t.state.filters,p=t.dispatch,g=t.autoResetFilters,m=void 0===g||g,y=e.useCallback((function(t,e){p({type:l.setFilter,columnId:t,filterValue:e})}),[p]),b=e.useCallback((function(t){p({type:l.setAllFilters,filters:t})}),[p]);s.forEach((function(t){var e=t.id,n=t.accessor,i=t.defaultCanFilter,r=t.disableFilters;t.canFilter=n?P(!0!==r&&void 0,!0!==d&&void 0,!0):P(i,h,!1),t.setFilter=function(e){return y(t.id,e)};var o=f.find((function(t){return t.id===e}));t.filterValue=o&&o.value}));var x=e.useMemo((function(){if(c||!f.length)return[i,r,o];var t=[],e={};return[function n(i,r){void 0===r&&(r=0);var o=i;return(o=f.reduce((function(t,e){var n=e.id,i=e.value,o=s.find((function(t){return t.id===n}));if(!o)return t;0===r&&(o.preFilteredRows=t);var l=A(o.filter,a||{},Et);return l?(o.filteredRows=l(t,[n],i),o.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+o.id+"."),t)}),i)).forEach((function(i){t.push(i),e[i.id]=i,i.subRows&&(i.subRows=i.subRows&&i.subRows.length>0?n(i.subRows,r+1):i.subRows)})),o}(i),t,e]}),[c,f,i,r,o,s,a]),_=x[0],S=x[1],k=x[2];e.useMemo((function(){s.filter((function(t){return!f.find((function(e){return e.id===t.id}))})).forEach((function(t){t.preFilteredRows=_,t.filteredRows=_}))}),[_,f,s]);var E=v(m);w((function(){E()&&p({type:l.resetFilters})}),[p,c?null:n]),Object.assign(t,{preFilteredRows:i,preFilteredFlatRows:r,preFilteredRowsById:o,filteredRows:_,filteredFlatRows:S,filteredRowsById:k,rows:_,flatRows:S,rowsById:k,setFilter:y,setAllFilters:b})}Ct.pluginName="useFilters",l.resetGlobalFilter="resetGlobalFilter",l.setGlobalFilter="setGlobalFilter";var Pt=function(t){t.stateReducers.push(Mt),t.useInstance.push(Dt)};function Mt(t,e,n,i){if(e.type===l.resetGlobalFilter)return o({},t,{globalFilter:i.initialState.globalFilter||void 0});if(e.type===l.setGlobalFilter){var r=e.filterValue,a=i.userFilterTypes,c=A(i.globalFilter,a||{},Et),u=y(r,t.globalFilter);return O(c.autoRemove,u)?(t.globalFilter,s(t,["globalFilter"])):o({},t,{globalFilter:u})}}function Dt(t){var n=t.data,i=t.rows,r=t.flatRows,o=t.rowsById,s=t.allColumns,a=t.filterTypes,c=t.globalFilter,u=t.manualGlobalFilter,h=t.state.globalFilter,d=t.dispatch,f=t.autoResetGlobalFilter,p=void 0===f||f,g=t.disableGlobalFilter,m=e.useCallback((function(t){d({type:l.setGlobalFilter,filterValue:t})}),[d]),y=e.useMemo((function(){if(u||void 0===h)return[i,r,o];var t=[],e={},n=A(c,a||{},Et);if(!n)return console.warn("Could not find a valid 'globalFilter' option."),i;s.forEach((function(t){var e=t.disableGlobalFilter;t.canFilter=P(!0!==e&&void 0,!0!==g&&void 0,!0)}));var l=s.filter((function(t){return!0===t.canFilter}));return[function i(r){return(r=n(r,l.map((function(t){return t.id})),h)).forEach((function(n){t.push(n),e[n.id]=n,n.subRows=n.subRows&&n.subRows.length?i(n.subRows):n.subRows})),r}(i),t,e]}),[u,h,c,a,s,i,r,o,g]),b=y[0],x=y[1],_=y[2],S=v(p);w((function(){S()&&d({type:l.resetGlobalFilter})}),[d,u?null:n]),Object.assign(t,{preGlobalFilteredRows:i,preGlobalFilteredFlatRows:r,preGlobalFilteredRowsById:o,globalFilteredRows:b,globalFilteredFlatRows:x,globalFilteredRowsById:_,rows:b,flatRows:x,rowsById:_,setGlobalFilter:m,disableGlobalFilter:g})}function Rt(t,e){return e.reduce((function(t,e){return t+("number"==typeof e?e:0)}),0)}Pt.pluginName="useGlobalFilter";var At=Object.freeze({__proto__:null,sum:Rt,min:function(t){var e=t[0]||0;return t.forEach((function(t){"number"==typeof t&&(e=Math.min(e,t))})),e},max:function(t){var e=t[0]||0;return t.forEach((function(t){"number"==typeof t&&(e=Math.max(e,t))})),e},minMax:function(t){var e=t[0]||0,n=t[0]||0;return t.forEach((function(t){"number"==typeof t&&(e=Math.min(e,t),n=Math.max(n,t))})),e+".."+n},average:function(t){return Rt(0,t)/t.length},median:function(t){if(!t.length)return null;var e=Math.floor(t.length/2),n=[].concat(t).sort((function(t,e){return t-e}));return t.length%2!=0?n[e]:(n[e-1]+n[e])/2},unique:function(t){return Array.from(new Set(t).values())},uniqueCount:function(t){return new Set(t).size},count:function(t){return t.length}}),Ot=[],Nt={};l.resetGroupBy="resetGroupBy",l.setGroupBy="setGroupBy",l.toggleGroupBy="toggleGroupBy";var Lt=function(t){t.getGroupByToggleProps=[Ft],t.stateReducers.push(zt),t.visibleColumnsDeps.push((function(t,e){var n=e.instance;return[].concat(t,[n.state.groupBy])})),t.visibleColumns.push(Bt),t.useInstance.push(jt),t.prepareRow.push(Ut)};Lt.pluginName="useGroupBy";var Ft=function(t,e){var n=e.header;return[t,{onClick:n.canGroupBy?function(t){t.persist(),n.toggleGroupBy()}:void 0,style:{cursor:n.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function zt(t,e,n,i){if(e.type===l.init)return o({groupBy:[]},t);if(e.type===l.resetGroupBy)return o({},t,{groupBy:i.initialState.groupBy||[]});if(e.type===l.setGroupBy)return o({},t,{groupBy:e.value});if(e.type===l.toggleGroupBy){var r=e.columnId,s=e.value,a=void 0!==s?s:!t.groupBy.includes(r);return o({},t,a?{groupBy:[].concat(t.groupBy,[r])}:{groupBy:t.groupBy.filter((function(t){return t!==r}))})}}function Bt(t,e){var n=e.instance.state.groupBy,i=n.map((function(e){return t.find((function(t){return t.id===e}))})).filter(Boolean),r=t.filter((function(t){return!n.includes(t.id)}));return(t=[].concat(i,r)).forEach((function(t){t.isGrouped=n.includes(t.id),t.groupedIndex=n.indexOf(t.id)})),t}var Vt={};function jt(t){var n=t.data,i=t.rows,r=t.flatRows,s=t.rowsById,a=t.allColumns,c=t.flatHeaders,u=t.groupByFn,h=void 0===u?Ht:u,d=t.manualGroupBy,p=t.aggregations,g=void 0===p?Vt:p,y=t.plugins,b=t.state.groupBy,x=t.dispatch,_=t.autoResetGroupBy,S=void 0===_||_,k=t.disableGroupBy,E=t.defaultCanGroupBy,C=t.getHooks;m(y,["useColumnOrder","useFilters"],"useGroupBy");var T=v(t);a.forEach((function(e){var n=e.accessor,i=e.defaultGroupBy,r=e.disableGroupBy;e.canGroupBy=n?P(e.canGroupBy,!0!==r&&void 0,!0!==k&&void 0,!0):P(e.canGroupBy,i,E,!1),e.canGroupBy&&(e.toggleGroupBy=function(){return t.toggleGroupBy(e.id)}),e.Aggregated=e.Aggregated||e.Cell}));var I=e.useCallback((function(t,e){x({type:l.toggleGroupBy,columnId:t,value:e})}),[x]),M=e.useCallback((function(t){x({type:l.setGroupBy,value:t})}),[x]);c.forEach((function(t){t.getGroupByToggleProps=f(C().getGroupByToggleProps,{instance:T(),header:t})}));var R=e.useMemo((function(){if(d||!b.length)return[i,r,s,Ot,Nt,r,s];var t=b.filter((function(t){return a.find((function(e){return e.id===t}))})),e=[],n={},l=[],c={},u=[],f={},p=function i(r,s,d){if(void 0===s&&(s=0),s===t.length)return r.map((function(t){return o({},t,{depth:s})}));var p=t[s],m=h(r,p);return Object.entries(m).map((function(r,o){var h=r[0],m=r[1],y=p+":"+h,v=i(m,s+1,y=d?d+">"+y:y),b=s?D(m,"leafRows"):m,w=function(e,n,i){var r={};return a.forEach((function(o){if(t.includes(o.id))r[o.id]=n[0]?n[0].values[o.id]:null;else{var s="function"==typeof o.aggregate?o.aggregate:g[o.aggregate]||At[o.aggregate];if(s){var a=n.map((function(t){return t.values[o.id]})),l=e.map((function(t){var e=t.values[o.id];if(!i&&o.aggregateValue){var n="function"==typeof o.aggregateValue?o.aggregateValue:g[o.aggregateValue]||At[o.aggregateValue];if(!n)throw console.info({column:o}),new Error("React Table: Invalid column.aggregateValue option for column listed above");e=n(e,t,o)}return e}));r[o.id]=s(l,a)}else{if(o.aggregate)throw console.info({column:o}),new Error("React Table: Invalid column.aggregate option for column listed above");r[o.id]=null}}})),r}(b,m,s),x={id:y,isGrouped:!0,groupByID:p,groupByVal:h,values:w,subRows:v,leafRows:b,depth:s,index:o};return v.forEach((function(t){e.push(t),n[t.id]=t,t.isGrouped?(l.push(t),c[t.id]=t):(u.push(t),f[t.id]=t)})),x}))}(i);return p.forEach((function(t){e.push(t),n[t.id]=t,t.isGrouped?(l.push(t),c[t.id]=t):(u.push(t),f[t.id]=t)})),[p,e,n,l,c,u,f]}),[d,b,i,r,s,a,g,h]),A=R[0],O=R[1],N=R[2],L=R[3],F=R[4],z=R[5],B=R[6],V=v(S);w((function(){V()&&x({type:l.resetGroupBy})}),[x,d?null:n]),Object.assign(t,{preGroupedRows:i,preGroupedFlatRow:r,preGroupedRowsById:s,groupedRows:A,groupedFlatRows:O,groupedRowsById:N,onlyGroupedFlatRows:L,onlyGroupedRowsById:F,nonGroupedFlatRows:z,nonGroupedRowsById:B,rows:A,flatRows:O,rowsById:N,toggleGroupBy:I,setGroupBy:M})}function Ut(t){t.allCells.forEach((function(e){var n;e.isGrouped=e.column.isGrouped&&e.column.id===t.groupByID,e.isPlaceholder=!e.isGrouped&&e.column.isGrouped,e.isAggregated=!e.isGrouped&&!e.isPlaceholder&&(null==(n=t.subRows)?void 0:n.length)}))}function Ht(t,e){return t.reduce((function(t,n,i){var r=""+n.values[e];return t[r]=Array.isArray(t[r])?t[r]:[],t[r].push(n),t}),{})}var Wt=/([0-9]+)/gm;function Gt(t,e){return t===e?0:t>e?1:-1}function qt(t,e,n){return[t.values[n],e.values[n]]}function Kt(t){return"number"==typeof t?isNaN(t)||t===1/0||t===-1/0?"":String(t):"string"==typeof t?t:""}var Qt=Object.freeze({__proto__:null,alphanumeric:function(t,e,n){var i=qt(t,e,n),r=i[0],o=i[1];for(r=Kt(r),o=Kt(o),r=r.split(Wt).filter(Boolean),o=o.split(Wt).filter(Boolean);r.length&&o.length;){var s=r.shift(),a=o.shift(),l=parseInt(s,10),c=parseInt(a,10),u=[l,c].sort();if(isNaN(u[0])){if(s>a)return 1;if(a>s)return-1}else{if(isNaN(u[1]))return isNaN(l)?-1:1;if(l>c)return 1;if(c>l)return-1}}return r.length-o.length},datetime:function(t,e,n){var i=qt(t,e,n),r=i[0],o=i[1];return Gt(r=r.getTime(),o=o.getTime())},basic:function(t,e,n){var i=qt(t,e,n);return Gt(i[0],i[1])},string:function(t,e,n){var i=qt(t,e,n),r=i[0],o=i[1];for(r=r.split("").filter(Boolean),o=o.split("").filter(Boolean);r.length&&o.length;){var s=r.shift(),a=o.shift(),l=s.toLowerCase(),c=a.toLowerCase();if(l>c)return 1;if(c>l)return-1;if(s>a)return 1;if(a>s)return-1}return r.length-o.length},number:function(t,e,n){var i=qt(t,e,n),r=i[0],o=i[1],s=/[^0-9.]/gi;return Gt(r=Number(String(r).replace(s,"")),o=Number(String(o).replace(s,"")))}});l.resetSortBy="resetSortBy",l.setSortBy="setSortBy",l.toggleSortBy="toggleSortBy",l.clearSortBy="clearSortBy",h.sortType="alphanumeric",h.sortDescFirst=!1;var Yt=function(t){t.getSortByToggleProps=[$t],t.stateReducers.push(Xt),t.useInstance.push(Jt)};Yt.pluginName="useSortBy";var $t=function(t,e){var n=e.instance,i=e.column,r=n.isMultiSortEvent,o=void 0===r?function(t){return t.shiftKey}:r;return[t,{onClick:i.canSort?function(t){t.persist(),i.toggleSortBy(void 0,!n.disableMultiSort&&o(t))}:void 0,style:{cursor:i.canSort?"pointer":void 0},title:i.canSort?"Toggle SortBy":void 0}]};function Xt(t,e,n,i){if(e.type===l.init)return o({sortBy:[]},t);if(e.type===l.resetSortBy)return o({},t,{sortBy:i.initialState.sortBy||[]});if(e.type===l.clearSortBy)return o({},t,{sortBy:t.sortBy.filter((function(t){return t.id!==e.columnId}))});if(e.type===l.setSortBy)return o({},t,{sortBy:e.sortBy});if(e.type===l.toggleSortBy){var r,s=e.columnId,a=e.desc,c=e.multi,u=i.allColumns,h=i.disableMultiSort,d=i.disableSortRemove,f=i.disableMultiRemove,p=i.maxMultiSortColCount,g=void 0===p?Number.MAX_SAFE_INTEGER:p,m=t.sortBy,y=u.find((function(t){return t.id===s})).sortDescFirst,v=m.find((function(t){return t.id===s})),b=m.findIndex((function(t){return t.id===s})),w=null!=a,x=[];return"toggle"!==(r=!h&&c?v?"toggle":"add":b!==m.length-1||1!==m.length?"replace":v?"toggle":"replace")||d||w||c&&f||!(v&&v.desc&&!y||!v.desc&&y)||(r="remove"),"replace"===r?x=[{id:s,desc:w?a:y}]:"add"===r?(x=[].concat(m,[{id:s,desc:w?a:y}])).splice(0,x.length-g):"toggle"===r?x=m.map((function(t){return t.id===s?o({},t,{desc:w?a:!v.desc}):t})):"remove"===r&&(x=m.filter((function(t){return t.id!==s}))),o({},t,{sortBy:x})}}function Jt(t){var n=t.data,i=t.rows,r=t.flatRows,o=t.allColumns,s=t.orderByFn,a=void 0===s?Zt:s,c=t.sortTypes,u=t.manualSortBy,h=t.defaultCanSort,d=t.disableSortBy,p=t.flatHeaders,g=t.state.sortBy,y=t.dispatch,b=t.plugins,x=t.getHooks,_=t.autoResetSortBy,S=void 0===_||_;m(b,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var k=e.useCallback((function(t){y({type:l.setSortBy,sortBy:t})}),[y]),E=e.useCallback((function(t,e,n){y({type:l.toggleSortBy,columnId:t,desc:e,multi:n})}),[y]),C=v(t);p.forEach((function(t){var e=t.accessor,n=t.canSort,i=t.disableSortBy,r=t.id,o=e?P(!0!==i&&void 0,!0!==d&&void 0,!0):P(h,n,!1);t.canSort=o,t.canSort&&(t.toggleSortBy=function(e,n){return E(t.id,e,n)},t.clearSortBy=function(){y({type:l.clearSortBy,columnId:t.id})}),t.getSortByToggleProps=f(x().getSortByToggleProps,{instance:C(),column:t});var s=g.find((function(t){return t.id===r}));t.isSorted=!!s,t.sortedIndex=g.findIndex((function(t){return t.id===r})),t.isSortedDesc=t.isSorted?s.desc:void 0}));var T=e.useMemo((function(){if(u||!g.length)return[i,r];var t=[],e=g.filter((function(t){return o.find((function(e){return e.id===t.id}))}));return[function n(i){var r=a(i,e.map((function(t){var e=o.find((function(e){return e.id===t.id}));if(!e)throw new Error("React-Table: Could not find a column with id: "+t.id+" while sorting");var n=e.sortType,i=M(n)||(c||{})[n]||Qt[n];if(!i)throw new Error("React-Table: Could not find a valid sortType of '"+n+"' for column '"+t.id+"'.");return function(e,n){return i(e,n,t.id,t.desc)}})),e.map((function(t){var e=o.find((function(e){return e.id===t.id}));return e&&e.sortInverted?t.desc:!t.desc})));return r.forEach((function(e){t.push(e),e.subRows&&0!==e.subRows.length&&(e.subRows=n(e.subRows))})),r}(i),t]}),[u,g,i,r,o,a,c]),I=T[0],D=T[1],R=v(S);w((function(){R()&&y({type:l.resetSortBy})}),[u?null:n]),Object.assign(t,{preSortedRows:i,preSortedFlatRows:r,sortedRows:I,sortedFlatRows:D,rows:I,flatRows:D,setSortBy:k,toggleSortBy:E})}function Zt(t,e,n){return[].concat(t).sort((function(t,i){for(var r=0;r<e.length;r+=1){var o=e[r],s=!1===n[r]||"desc"===n[r],a=o(t,i);if(0!==a)return s?-a:a}return n[0]?t.index-i.index:i.index-t.index}))}l.resetPage="resetPage",l.gotoPage="gotoPage",l.setPageSize="setPageSize";var te=function(t){t.stateReducers.push(ee),t.useInstance.push(ne)};function ee(t,e,n,i){if(e.type===l.init)return o({pageSize:10,pageIndex:0},t);if(e.type===l.resetPage)return o({},t,{pageIndex:i.initialState.pageIndex||0});if(e.type===l.gotoPage){var r=i.pageCount,s=i.page,a=y(e.pageIndex,t.pageIndex),c=!1;return a>t.pageIndex?c=-1===r?s.length>=t.pageSize:a<r:a<t.pageIndex&&(c=a>-1),c?o({},t,{pageIndex:a}):t}if(e.type===l.setPageSize){var u=e.pageSize,h=t.pageSize*t.pageIndex;return o({},t,{pageIndex:Math.floor(h/u),pageSize:u})}}function ne(t){var n=t.rows,i=t.autoResetPage,r=void 0===i||i,o=t.manualExpandedKey,s=void 0===o?"expanded":o,a=t.plugins,c=t.pageCount,u=t.paginateExpandedRows,h=void 0===u||u,d=t.expandSubRows,f=void 0===d||d,p=t.state,g=p.pageSize,y=p.pageIndex,b=p.expanded,x=p.globalFilter,_=p.filters,S=p.groupBy,k=p.sortBy,E=t.dispatch,C=t.data,T=t.manualPagination;m(a,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var I=v(r);w((function(){I()&&E({type:l.resetPage})}),[E,T?null:C,x,_,S,k]);var P=T?c:Math.ceil(n.length/g),M=e.useMemo((function(){return P>0?[].concat(new Array(P)).fill(null).map((function(t,e){return e})):[]}),[P]),D=e.useMemo((function(){var t;if(T)t=n;else{var e=g*y,i=e+g;t=n.slice(e,i)}return h?t:R(t,{manualExpandedKey:s,expanded:b,expandSubRows:f})}),[f,b,s,T,y,g,h,n]),A=y>0,O=-1===P?D.length>=g:y<P-1,N=e.useCallback((function(t){E({type:l.gotoPage,pageIndex:t})}),[E]),L=e.useCallback((function(){return N((function(t){return t-1}))}),[N]),F=e.useCallback((function(){return N((function(t){return t+1}))}),[N]),z=e.useCallback((function(t){E({type:l.setPageSize,pageSize:t})}),[E]);Object.assign(t,{pageOptions:M,pageCount:P,page:D,canPreviousPage:A,canNextPage:O,gotoPage:N,previousPage:L,nextPage:F,setPageSize:z})}te.pluginName="usePagination",l.resetPivot="resetPivot",l.togglePivot="togglePivot";var ie=function(t){t.getPivotToggleProps=[oe],t.stateReducers.push(se),t.useInstanceAfterData.push(ae),t.allColumns.push(le),t.accessValue.push(ce),t.materializedColumns.push(ue),t.materializedColumnsDeps.push(he),t.visibleColumns.push(de),t.visibleColumnsDeps.push(fe),t.useInstance.push(pe),t.prepareRow.push(ge)};ie.pluginName="usePivotColumns";var re=[],oe=function(t,e){var n=e.header;return[t,{onClick:n.canPivot?function(t){t.persist(),n.togglePivot()}:void 0,style:{cursor:n.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function se(t,e,n,i){if(e.type===l.init)return o({pivotColumns:re},t);if(e.type===l.resetPivot)return o({},t,{pivotColumns:i.initialState.pivotColumns||re});if(e.type===l.togglePivot){var r=e.columnId,s=e.value,a=void 0!==s?s:!t.pivotColumns.includes(r);return o({},t,a?{pivotColumns:[].concat(t.pivotColumns,[r])}:{pivotColumns:t.pivotColumns.filter((function(t){return t!==r}))})}}function ae(t){t.allColumns.forEach((function(e){e.isPivotSource=t.state.pivotColumns.includes(e.id)}))}function le(t,e){var n=e.instance;return t.forEach((function(t){t.isPivotSource=n.state.pivotColumns.includes(t.id),t.uniqueValues=new Set})),t}function ce(t,e){var n=e.column;return n.uniqueValues&&void 0!==t&&n.uniqueValues.add(t),t}function ue(t,e){var n=e.instance,i=n.allColumns,r=n.state;if(!r.pivotColumns.length||!r.groupBy||!r.groupBy.length)return t;var s=r.pivotColumns.map((function(t){return i.find((function(e){return e.id===t}))})).filter(Boolean),a=i.filter((function(t){return!t.isPivotSource&&!r.groupBy.includes(t.id)&&!r.pivotColumns.includes(t.id)})),l=k(function t(e,n,i){void 0===e&&(e=0),void 0===i&&(i=[]);var r=s[e];return r?Array.from(r.uniqueValues).sort().map((function(s){var a=o({},r,{Header:r.PivotHeader||"string"==typeof r.header?r.Header+": "+s:s,isPivotGroup:!0,parent:n,depth:e,id:n?n.id+"."+r.id+"."+s:r.id+"."+s,pivotValue:s});return a.columns=t(e+1,a,[].concat(i,[function(t){return t.values[r.id]===s}])),a})):a.map((function(t){return o({},t,{canPivot:!1,isPivoted:!0,parent:n,depth:e,id:""+(n?n.id+"."+t.id:t.id),accessor:function(e,n,r){if(i.every((function(t){return t(r)})))return r.values[t.id]}})}))}());return[].concat(t,l)}function he(t,e){var n=e.instance.state,i=n.pivotColumns,r=n.groupBy;return[].concat(t,[i,r])}function de(t,e){var n=e.instance.state;return t=t.filter((function(t){return!t.isPivotSource})),n.pivotColumns.length&&n.groupBy&&n.groupBy.length&&(t=t.filter((function(t){return t.isGrouped||t.isPivoted}))),t}function fe(t,e){var n=e.instance;return[].concat(t,[n.state.pivotColumns,n.state.groupBy])}function pe(t){var e=t.columns,n=t.allColumns,i=t.flatHeaders,r=t.getHooks,o=t.plugins,s=t.dispatch,a=t.autoResetPivot,c=void 0===a||a,u=t.manaulPivot,h=t.disablePivot,d=t.defaultCanPivot;m(o,["useGroupBy"],"usePivotColumns");var p=v(t);n.forEach((function(e){var n=e.accessor,i=e.defaultPivot,r=e.disablePivot;e.canPivot=n?P(e.canPivot,!0!==r&&void 0,!0!==h&&void 0,!0):P(e.canPivot,i,d,!1),e.canPivot&&(e.togglePivot=function(){return t.togglePivot(e.id)}),e.Aggregated=e.Aggregated||e.Cell})),i.forEach((function(t){t.getPivotToggleProps=f(r().getPivotToggleProps,{instance:p(),header:t})}));var g=v(c);w((function(){g()&&s({type:l.resetPivot})}),[s,u?null:e]),Object.assign(t,{togglePivot:function(t,e){s({type:l.togglePivot,columnId:t,value:e})}})}function ge(t){t.allCells.forEach((function(t){t.isPivoted=t.column.isPivoted}))}l.resetSelectedRows="resetSelectedRows",l.toggleAllRowsSelected="toggleAllRowsSelected",l.toggleRowSelected="toggleRowSelected",l.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var me=function(t){t.getToggleRowSelectedProps=[ye],t.getToggleAllRowsSelectedProps=[ve],t.getToggleAllPageRowsSelectedProps=[be],t.stateReducers.push(we),t.useInstance.push(xe),t.prepareRow.push(_e)};me.pluginName="useRowSelect";var ye=function(t,e){var n=e.instance,i=e.row,r=n.manualRowSelectedKey,o=void 0===r?"isSelected":r;return[t,{onChange:function(t){i.toggleRowSelected(t.target.checked)},style:{cursor:"pointer"},checked:!(!i.original||!i.original[o])||i.isSelected,title:"Toggle Row Selected",indeterminate:i.isSomeSelected}]},ve=function(t,e){var n=e.instance;return[t,{onChange:function(t){n.toggleAllRowsSelected(t.target.checked)},style:{cursor:"pointer"},checked:n.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:Boolean(!n.isAllRowsSelected&&Object.keys(n.state.selectedRowIds).length)}]},be=function(t,e){var n=e.instance;return[t,{onChange:function(t){n.toggleAllPageRowsSelected(t.target.checked)},style:{cursor:"pointer"},checked:n.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:Boolean(!n.isAllPageRowsSelected&&n.page.some((function(t){var e=t.id;return n.state.selectedRowIds[e]})))}]};function we(t,e,n,i){if(e.type===l.init)return o({selectedRowIds:{}},t);if(e.type===l.resetSelectedRows)return o({},t,{selectedRowIds:i.initialState.selectedRowIds||{}});if(e.type===l.toggleAllRowsSelected){var r=e.value,s=i.isAllRowsSelected,a=i.rowsById,c=i.nonGroupedRowsById,u=void 0===c?a:c,h=void 0!==r?r:!s,d=Object.assign({},t.selectedRowIds);return h?Object.keys(u).forEach((function(t){d[t]=!0})):Object.keys(u).forEach((function(t){delete d[t]})),o({},t,{selectedRowIds:d})}if(e.type===l.toggleRowSelected){var f=e.id,p=e.value,g=i.rowsById,m=i.selectSubRows,y=void 0===m||m,v=i.getSubRows,b=t.selectedRowIds[f],w=void 0!==p?p:!b;if(b===w)return t;var x=o({},t.selectedRowIds);return function t(e){var n=g[e];if(n&&(n.isGrouped||(w?x[e]=!0:delete x[e]),y&&v(n)))return v(n).forEach((function(e){return t(e.id)}))}(f),o({},t,{selectedRowIds:x})}if(e.type===l.toggleAllPageRowsSelected){var _=e.value,S=i.page,k=i.rowsById,E=i.selectSubRows,C=void 0===E||E,T=i.isAllPageRowsSelected,I=i.getSubRows,P=void 0!==_?_:!T,M=o({},t.selectedRowIds);return S.forEach((function(t){return function t(e){var n=k[e];if(n.isGrouped||(P?M[e]=!0:delete M[e]),C&&I(n))return I(n).forEach((function(e){return t(e.id)}))}(t.id)})),o({},t,{selectedRowIds:M})}return t}function xe(t){var n=t.data,i=t.rows,r=t.getHooks,o=t.plugins,s=t.rowsById,a=t.nonGroupedRowsById,c=void 0===a?s:a,u=t.autoResetSelectedRows,h=void 0===u||u,d=t.state.selectedRowIds,p=t.selectSubRows,g=void 0===p||p,y=t.dispatch,b=t.page,x=t.getSubRows;m(o,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var _=e.useMemo((function(){var t=[];return i.forEach((function(e){var n=g?function t(e,n,i){if(n[e.id])return!0;var r=i(e);if(r&&r.length){var o=!0,s=!1;return r.forEach((function(e){s&&!o||(t(e,n,i)?s=!0:o=!1)})),!!o||!!s&&null}return!1}(e,d,x):!!d[e.id];e.isSelected=!!n,e.isSomeSelected=null===n,n&&t.push(e)})),t}),[i,g,d,x]),S=Boolean(Object.keys(c).length&&Object.keys(d).length),k=S;S&&Object.keys(c).some((function(t){return!d[t]}))&&(S=!1),S||b&&b.length&&b.some((function(t){var e=t.id;return!d[e]}))&&(k=!1);var E=v(h);w((function(){E()&&y({type:l.resetSelectedRows})}),[y,n]);var C=e.useCallback((function(t){return y({type:l.toggleAllRowsSelected,value:t})}),[y]),T=e.useCallback((function(t){return y({type:l.toggleAllPageRowsSelected,value:t})}),[y]),I=e.useCallback((function(t,e){return y({type:l.toggleRowSelected,id:t,value:e})}),[y]),P=v(t),M=f(r().getToggleAllRowsSelectedProps,{instance:P()}),D=f(r().getToggleAllPageRowsSelectedProps,{instance:P()});Object.assign(t,{selectedFlatRows:_,isAllRowsSelected:S,isAllPageRowsSelected:k,toggleRowSelected:I,toggleAllRowsSelected:C,getToggleAllRowsSelectedProps:M,getToggleAllPageRowsSelectedProps:D,toggleAllPageRowsSelected:T})}function _e(t,e){var n=e.instance;t.toggleRowSelected=function(e){return n.toggleRowSelected(t.id,e)},t.getToggleRowSelectedProps=f(n.getHooks().getToggleRowSelectedProps,{instance:n,row:t})}var Se=function(t){return{}},ke=function(t){return{}};l.setRowState="setRowState",l.setCellState="setCellState",l.resetRowState="resetRowState";var Ee=function(t){t.stateReducers.push(Ce),t.useInstance.push(Te),t.prepareRow.push(Ie)};function Ce(t,e,n,i){var r=i.initialRowStateAccessor,s=void 0===r?Se:r,a=i.initialCellStateAccessor,c=void 0===a?ke:a,u=i.rowsById;if(e.type===l.init)return o({rowState:{}},t);if(e.type===l.resetRowState)return o({},t,{rowState:i.initialState.rowState||{}});if(e.type===l.setRowState){var h,d=e.rowId,f=e.value,p=void 0!==t.rowState[d]?t.rowState[d]:s(u[d]);return o({},t,{rowState:o({},t.rowState,(h={},h[d]=y(f,p),h))})}if(e.type===l.setCellState){var g,m,v,b,w,x=e.rowId,_=e.columnId,S=e.value,k=void 0!==t.rowState[x]?t.rowState[x]:s(u[x]),E=void 0!==(null==k||null==(g=k.cellState)?void 0:g[_])?k.cellState[_]:c(null==(m=u[x])||null==(v=m.cells)?void 0:v.find((function(t){return t.column.id===_})));return o({},t,{rowState:o({},t.rowState,(w={},w[x]=o({},k,{cellState:o({},k.cellState||{},(b={},b[_]=y(S,E),b))}),w))})}}function Te(t){var n=t.autoResetRowState,i=void 0===n||n,r=t.data,o=t.dispatch,s=e.useCallback((function(t,e){return o({type:l.setRowState,rowId:t,value:e})}),[o]),a=e.useCallback((function(t,e,n){return o({type:l.setCellState,rowId:t,columnId:e,value:n})}),[o]),c=v(i);w((function(){c()&&o({type:l.resetRowState})}),[r]),Object.assign(t,{setRowState:s,setCellState:a})}function Ie(t,e){var n=e.instance,i=n.initialRowStateAccessor,r=void 0===i?Se:i,o=n.initialCellStateAccessor,s=void 0===o?ke:o,a=n.state.rowState;t&&(t.state=void 0!==a[t.id]?a[t.id]:r(t),t.setState=function(e){return n.setRowState(t.id,e)},t.cells.forEach((function(e){t.state.cellState||(t.state.cellState={}),e.state=void 0!==t.state.cellState[e.column.id]?t.state.cellState[e.column.id]:s(e),e.setState=function(i){return n.setCellState(t.id,e.column.id,i)}})))}Ee.pluginName="useRowState",l.resetColumnOrder="resetColumnOrder",l.setColumnOrder="setColumnOrder";var Pe=function(t){t.stateReducers.push(Me),t.visibleColumnsDeps.push((function(t,e){var n=e.instance;return[].concat(t,[n.state.columnOrder])})),t.visibleColumns.push(De),t.useInstance.push(Re)};function Me(t,e,n,i){return e.type===l.init?o({columnOrder:[]},t):e.type===l.resetColumnOrder?o({},t,{columnOrder:i.initialState.columnOrder||[]}):e.type===l.setColumnOrder?o({},t,{columnOrder:y(e.columnOrder,t.columnOrder)}):void 0}function De(t,e){var n=e.instance.state.columnOrder;if(!n||!n.length)return t;for(var i=[].concat(n),r=[].concat(t),o=[],s=function(){var t=i.shift(),e=r.findIndex((function(e){return e.id===t}));e>-1&&o.push(r.splice(e,1)[0])};r.length&&i.length;)s();return[].concat(o,r)}function Re(t){var n=t.dispatch;t.setColumnOrder=e.useCallback((function(t){return n({type:l.setColumnOrder,columnOrder:t})}),[n])}Pe.pluginName="useColumnOrder",h.canResize=!0,l.columnStartResizing="columnStartResizing",l.columnResizing="columnResizing",l.columnDoneResizing="columnDoneResizing",l.resetResize="resetResize";var Ae=function(t){t.getResizerProps=[Oe],t.getHeaderProps.push({style:{position:"relative"}}),t.stateReducers.push(Ne),t.useInstance.push(Fe),t.useInstanceBeforeDimensions.push(Le)},Oe=function(t,e){var n=e.instance,i=e.header,r=n.dispatch,o=function(t,e){var n=!1;if("touchstart"===t.type){if(t.touches&&t.touches.length>1)return;n=!0}var i,o,s=function(t){var e=[];return function t(n){n.columns&&n.columns.length&&n.columns.map(t),e.push(n)}(t),e}(e).map((function(t){return[t.id,t.totalWidth]})),a=n?Math.round(t.touches[0].clientX):t.clientX,c=function(){window.cancelAnimationFrame(i),i=null,r({type:l.columnDoneResizing})},u=function(){window.cancelAnimationFrame(i),i=null,r({type:l.columnResizing,clientX:o})},h=function(t){o=t,i||(i=window.requestAnimationFrame(u))},d={mouse:{moveEvent:"mousemove",moveHandler:function(t){return h(t.clientX)},upEvent:"mouseup",upHandler:function(t){document.removeEventListener("mousemove",d.mouse.moveHandler),document.removeEventListener("mouseup",d.mouse.upHandler),c()}},touch:{moveEvent:"touchmove",moveHandler:function(t){return t.cancelable&&(t.preventDefault(),t.stopPropagation()),h(t.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(t){document.removeEventListener(d.touch.moveEvent,d.touch.moveHandler),document.removeEventListener(d.touch.upEvent,d.touch.moveHandler),c()}}},f=n?d.touch:d.mouse,p=!!function(){if("boolean"==typeof L)return L;var t=!1;try{var e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){t=!1}return L=t}()&&{passive:!1};document.addEventListener(f.moveEvent,f.moveHandler,p),document.addEventListener(f.upEvent,f.upHandler,p),r({type:l.columnStartResizing,columnId:e.id,columnWidth:e.totalWidth,headerIdWidths:s,clientX:a})};return[t,{onMouseDown:function(t){return t.persist()||o(t,i)},onTouchStart:function(t){return t.persist()||o(t,i)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function Ne(t,e){if(e.type===l.init)return o({columnResizing:{columnWidths:{}}},t);if(e.type===l.resetResize)return o({},t,{columnResizing:{columnWidths:{}}});if(e.type===l.columnStartResizing){var n=e.clientX,i=e.columnId,r=e.columnWidth,s=e.headerIdWidths;return o({},t,{columnResizing:o({},t.columnResizing,{startX:n,headerIdWidths:s,columnWidth:r,isResizingColumn:i})})}if(e.type===l.columnResizing){var a=e.clientX,c=t.columnResizing,u=c.startX,h=c.columnWidth,d=c.headerIdWidths,f=(a-u)/h,p={};return(void 0===d?[]:d).forEach((function(t){var e=t[0],n=t[1];p[e]=Math.max(n+n*f,0)})),o({},t,{columnResizing:o({},t.columnResizing,{columnWidths:o({},t.columnResizing.columnWidths,{},p)})})}return e.type===l.columnDoneResizing?o({},t,{columnResizing:o({},t.columnResizing,{startX:null,isResizingColumn:null})}):void 0}Ae.pluginName="useResizeColumns";var Le=function(t){var e=t.flatHeaders,n=t.disableResizing,i=t.getHooks,r=t.state.columnResizing,o=v(t);e.forEach((function(t){var e=P(!0!==t.disableResizing&&void 0,!0!==n&&void 0,!0);t.canResize=e,t.width=r.columnWidths[t.id]||t.originalWidth||t.width,t.isResizing=r.isResizingColumn===t.id,e&&(t.getResizerProps=f(i().getResizerProps,{instance:o(),header:t}))}))};function Fe(t){var n=t.plugins,i=t.dispatch,r=t.autoResetResize,o=void 0===r||r,s=t.columns;m(n,["useAbsoluteLayout"],"useResizeColumns");var a=v(o);w((function(){a()&&i({type:l.resetResize})}),[s]);var c=e.useCallback((function(){return i({type:l.resetResize})}),[i]);Object.assign(t,{resetResizing:c})}var ze={position:"absolute",top:0},Be=function(t){t.getTableBodyProps.push(Ve),t.getRowProps.push(Ve),t.getHeaderGroupProps.push(Ve),t.getFooterGroupProps.push(Ve),t.getHeaderProps.push((function(t,e){var n=e.column;return[t,{style:o({},ze,{left:n.totalLeft+"px",width:n.totalWidth+"px"})}]})),t.getCellProps.push((function(t,e){var n=e.cell;return[t,{style:o({},ze,{left:n.column.totalLeft+"px",width:n.column.totalWidth+"px"})}]})),t.getFooterProps.push((function(t,e){var n=e.column;return[t,{style:o({},ze,{left:n.totalLeft+"px",width:n.totalWidth+"px"})}]}))};Be.pluginName="useAbsoluteLayout";var Ve=function(t,e){return[t,{style:{position:"relative",width:e.instance.totalColumnsWidth+"px"}}]},je={display:"inline-block",boxSizing:"border-box"},Ue=function(t,e){return[t,{style:{display:"flex",width:e.instance.totalColumnsWidth+"px"}}]},He=function(t){t.getRowProps.push(Ue),t.getHeaderGroupProps.push(Ue),t.getFooterGroupProps.push(Ue),t.getHeaderProps.push((function(t,e){var n=e.column;return[t,{style:o({},je,{width:n.totalWidth+"px"})}]})),t.getCellProps.push((function(t,e){var n=e.cell;return[t,{style:o({},je,{width:n.column.totalWidth+"px"})}]})),t.getFooterProps.push((function(t,e){var n=e.column;return[t,{style:o({},je,{width:n.totalWidth+"px"})}]}))};function We(t){t.getTableProps.push(Ge),t.getRowProps.push(qe),t.getHeaderGroupProps.push(qe),t.getFooterGroupProps.push(qe),t.getHeaderProps.push(Ke),t.getCellProps.push(Qe),t.getFooterProps.push(Ye)}He.pluginName="useBlockLayout",We.pluginName="useFlexLayout";var Ge=function(t,e){return[t,{style:{minWidth:e.instance.totalColumnsMinWidth+"px"}}]},qe=function(t,e){return[t,{style:{display:"flex",flex:"1 0 auto",minWidth:e.instance.totalColumnsMinWidth+"px"}}]},Ke=function(t,e){var n=e.column;return[t,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]},Qe=function(t,e){var n=e.cell;return[t,{style:{boxSizing:"border-box",flex:n.column.totalFlexWidth+" 0 auto",minWidth:n.column.totalMinWidth+"px",width:n.column.totalWidth+"px"}}]},Ye=function(t,e){var n=e.column;return[t,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]};function $e(t){t.stateReducers.push(tn),t.getTableProps.push(Xe),t.getHeaderProps.push(Je),t.getRowProps.push(Ze)}l.columnStartResizing="columnStartResizing",l.columnResizing="columnResizing",l.columnDoneResizing="columnDoneResizing",l.resetResize="resetResize",$e.pluginName="useGridLayout";var Xe=function(t,e){var n=e.instance;return[t,{style:{display:"grid",gridTemplateColumns:n.visibleColumns.map((function(t){var e;return n.state.gridLayout.columnWidths[t.id]?n.state.gridLayout.columnWidths[t.id]+"px":(null==(e=n.state.columnResizing)?void 0:e.isResizingColumn)?n.state.gridLayout.startWidths[t.id]+"px":"number"==typeof t.width?t.width+"px":t.width})).join(" ")}}]},Je=function(t,e){var n=e.column;return[t,{id:"header-cell-"+n.id,style:{position:"sticky",gridColumn:"span "+n.totalVisibleHeaderCount}}]},Ze=function(t,e){var n=e.row;return n.isExpanded?[t,{style:{gridColumn:"1 / "+(n.cells.length+1)}}]:[t,{}]};function tn(t,e,n,i){if(e.type===l.init)return o({gridLayout:{columnWidths:{}}},t);if(e.type===l.resetResize)return o({},t,{gridLayout:{columnWidths:{}}});if(e.type===l.columnStartResizing){var r=e.columnId,s=e.headerIdWidths,a=en(r);if(void 0!==a){var c=i.visibleColumns.reduce((function(t,e){var n;return o({},t,((n={})[e.id]=en(e.id),n))}),{}),u=i.visibleColumns.reduce((function(t,e){var n;return o({},t,((n={})[e.id]=e.minWidth,n))}),{}),h=i.visibleColumns.reduce((function(t,e){var n;return o({},t,((n={})[e.id]=e.maxWidth,n))}),{}),d=s.map((function(t){var e=t[0];return[e,en(e)]}));return o({},t,{gridLayout:o({},t.gridLayout,{startWidths:c,minWidths:u,maxWidths:h,headerIdGridWidths:d,columnWidth:a})})}return t}if(e.type===l.columnResizing){var f=e.clientX,p=t.columnResizing.startX,g=t.gridLayout,m=g.columnWidth,y=g.minWidths,v=g.maxWidths,b=g.headerIdGridWidths,w=(f-p)/m,x={};return(void 0===b?[]:b).forEach((function(t){var e=t[0],n=t[1];x[e]=Math.min(Math.max(y[e],n+n*w),v[e])})),o({},t,{gridLayout:o({},t.gridLayout,{columnWidths:o({},t.gridLayout.columnWidths,{},x)})})}return e.type===l.columnDoneResizing?o({},t,{gridLayout:o({},t.gridLayout,{startWidths:{},minWidths:{},maxWidths:{}})}):void 0}function en(t){var e,n=null==(e=document.getElementById("header-cell-"+t))?void 0:e.offsetWidth;if(void 0!==n)return n}t._UNSTABLE_usePivotColumns=ie,t.actions=l,t.defaultColumn=h,t.defaultGroupByFn=Ht,t.defaultOrderByFn=Zt,t.defaultRenderer=c,t.emptyRenderer=u,t.ensurePluginOrder=m,t.flexRender=_,t.functionalUpdate=y,t.loopHooks=g,t.makePropGetter=f,t.makeRenderer=x,t.reduceHooks=p,t.safeUseLayoutEffect=b,t.useAbsoluteLayout=Be,t.useAsyncDebounce=function(t,n){void 0===n&&(n=0);var o=e.useRef({}),s=v(t),a=v(n);return e.useCallback(function(){var t=r(i.mark((function t(){var e,n,l,c=arguments;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=c.length,n=new Array(e),l=0;l<e;l++)n[l]=c[l];return o.current.promise||(o.current.promise=new Promise((function(t,e){o.current.resolve=t,o.current.reject=e}))),o.current.timeout&&clearTimeout(o.current.timeout),o.current.timeout=setTimeout(r(i.mark((function t(){return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return delete o.current.timeout,t.prev=1,t.t0=o.current,t.next=5,s().apply(void 0,n);case 5:t.t1=t.sent,t.t0.resolve.call(t.t0,t.t1),t.next=12;break;case 9:t.prev=9,t.t2=t.catch(1),o.current.reject(t.t2);case 12:return t.prev=12,delete o.current.promise,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])}))),a()),t.abrupt("return",o.current.promise);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),[s,a])},t.useBlockLayout=He,t.useColumnOrder=Pe,t.useExpanded=ct,t.useFilters=Ct,t.useFlexLayout=We,t.useGetLatest=v,t.useGlobalFilter=Pt,t.useGridLayout=$e,t.useGroupBy=Lt,t.useMountedLayoutEffect=w,t.usePagination=te,t.useResizeColumns=Ae,t.useRowSelect=me,t.useRowState=Ee,t.useSortBy=Yt,t.useTable=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t=st(t),i=[Q].concat(i);var s=v(e.useRef({}).current);Object.assign(s(),o({},t,{plugins:i,hooks:K()})),i.filter(Boolean).forEach((function(t){t(s().hooks)}));var a=v(s().hooks);s().getHooks=a,delete s().hooks,Object.assign(s(),p(a().useOptions,st(t)));var c=s(),u=c.data,h=c.columns,d=c.initialState,m=c.defaultColumn,y=c.getSubRows,b=c.getRowId,w=c.stateReducer,_=c.useControlledState,I=v(w),P=e.useCallback((function(t,e){if(!e.type)throw console.info({action:e}),new Error("Unknown Action \ud83d\udc46");return[].concat(a().stateReducers,Array.isArray(I())?I():[I()]).reduce((function(n,i){return i(n,e,t,s())||n}),t)}),[a,I,s]),M=e.useReducer(P,void 0,(function(){return P(d,{type:l.init})})),D=M[0],R=M[1],A=p([].concat(a().useControlledState,[_]),D,{instance:s()});Object.assign(s(),{state:A,dispatch:R});var O=e.useMemo((function(){return S(p(a().columns,h,{instance:s()}))}),[a,s,h].concat(p(a().columnsDeps,[],{instance:s()})));s().columns=O;var N=e.useMemo((function(){return p(a().allColumns,k(O),{instance:s()}).map(E)}),[O,a,s].concat(p(a().allColumnsDeps,[],{instance:s()})));s().allColumns=N;var L=e.useMemo((function(){for(var t=[],e=[],n={},i=[].concat(N);i.length;){var r=i.shift();lt({data:u,rows:t,flatRows:e,rowsById:n,column:r,getRowId:b,getSubRows:y,accessValueHooks:a().accessValue,getInstance:s})}return[t,e,n]}),[N,u,b,y,a,s]),F=L[0],z=L[1],B=L[2];Object.assign(s(),{rows:F,initialRows:[].concat(F),flatRows:z,rowsById:B}),g(a().useInstanceAfterData,s());var V=e.useMemo((function(){return p(a().visibleColumns,N,{instance:s()}).map((function(t){return C(t,m)}))}),[a,N,s,m].concat(p(a().visibleColumnsDeps,[],{instance:s()})));N=e.useMemo((function(){var t=[].concat(V);return N.forEach((function(e){t.find((function(t){return t.id===e.id}))||t.push(e)})),t}),[N,V]),s().allColumns=N;var j=e.useMemo((function(){return p(a().headerGroups,T(V,m),s())}),[a,V,m,s].concat(p(a().headerGroupsDeps,[],{instance:s()})));s().headerGroups=j;var U=e.useMemo((function(){return j.length?j[0].headers:[]}),[j]);s().headers=U,s().flatHeaders=j.reduce((function(t,e){return[].concat(t,e.headers)}),[]),g(a().useInstanceBeforeDimensions,s());var H=V.filter((function(t){return t.isVisible})).map((function(t){return t.id})).sort().join("_");V=e.useMemo((function(){return V.filter((function(t){return t.isVisible}))}),[V,H]),s().visibleColumns=V;var W=at(U),G=W[0],q=W[1],Y=W[2];return s().totalColumnsMinWidth=G,s().totalColumnsWidth=q,s().totalColumnsMaxWidth=Y,g(a().useInstance,s()),[].concat(s().flatHeaders,s().allColumns).forEach((function(t){t.render=x(s(),t),t.getHeaderProps=f(a().getHeaderProps,{instance:s(),column:t}),t.getFooterProps=f(a().getFooterProps,{instance:s(),column:t})})),s().headerGroups=e.useMemo((function(){return j.filter((function(t,e){return t.headers=t.headers.filter((function(t){return t.headers?function t(e){return e.filter((function(e){return e.headers?t(e.headers):e.isVisible})).length}(t.headers):t.isVisible})),!!t.headers.length&&(t.getHeaderGroupProps=f(a().getHeaderGroupProps,{instance:s(),headerGroup:t,index:e}),t.getFooterGroupProps=f(a().getFooterGroupProps,{instance:s(),headerGroup:t,index:e}),!0)}))}),[j,s,a]),s().footerGroups=[].concat(s().headerGroups).reverse(),s().prepareRow=e.useCallback((function(t){t.getRowProps=f(a().getRowProps,{instance:s(),row:t}),t.allCells=N.map((function(e){var n=t.values[e.id],i={column:e,row:t,value:n};return i.getCellProps=f(a().getCellProps,{instance:s(),cell:i}),i.render=x(s(),e,{row:t,cell:i,value:n}),i})),t.cells=V.map((function(e){return t.allCells.find((function(t){return t.column.id===e.id}))})),g(a().prepareRow,t,{instance:s()})}),[a,s,N,V]),s().getTableProps=f(a().getTableProps,{instance:s()}),s().getTableBodyProps=f(a().getTableBodyProps,{instance:s()}),g(a().useFinalInstance,s()),s()},Object.defineProperty(t,"__esModule",{value:!0})}(e,n(43))},94:(t,e,n)=>{t.exports=n(310)},153:(t,e,n)=>{"use strict";var i=n(43),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var i,o={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)s.call(e,i)&&!l.hasOwnProperty(i)&&(o[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps)void 0===o[i]&&(o[i]=e[i]);return{$$typeof:r,type:t,key:c,ref:u,props:o,_owner:a.current}}e.jsx=c,e.jsxs=c},202:(t,e)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}function v(){}function b(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,g(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function E(t,e,i){var r,o={},s=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(s=""+e.key),e)_.call(e,r)&&!k.hasOwnProperty(r)&&(o[r]=e[r]);var l=arguments.length-2;if(1===l)o.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:n,type:t,key:s,ref:a,props:o,_owner:S.current}}function C(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var T=/\/+/g;function I(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function P(t,e,r,o,s){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case i:l=!0}}if(l)return s=s(l=t),t=""===o?"."+I(l,0):o,x(s)?(r="",null!=t&&(r=t.replace(T,"$&/")+"/"),P(s,e,r,"",(function(t){return t}))):null!=s&&(C(s)&&(s=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+t)),e.push(s)),1;if(l=0,o=""===o?".":o+":",x(t))for(var c=0;c<t.length;c++){var u=o+I(a=t[c],c);l+=P(a,e,r,u,s)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),c=0;!(a=t.next()).done;)l+=P(a=a.value,e,r,u=o+I(a,c++),s);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function M(t,e,n){if(null==t)return t;var i=[],r=0;return P(t,i,"","",(function(t){return e.call(n,t,r++)})),i}function D(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var R={current:null},A={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:A,ReactCurrentOwner:S};e.Children={map:M,forEach:function(t,e,n){M(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return M(t,(function(){e++})),e},toArray:function(t){return M(t,(function(t){return t}))||[]},only:function(t){if(!C(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=y,e.Fragment=r,e.Profiler=s,e.PureComponent=b,e.StrictMode=o,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,e.cloneElement=function(t,e,i){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=g({},t.props),o=t.key,s=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,a=S.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)_.call(e,c)&&!k.hasOwnProperty(c)&&(r[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:t.type,key:o,ref:s,props:r,_owner:a}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=E,e.createFactory=function(t){var e=E.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=C,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:D}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=A.transition;A.transition={};try{t()}finally{A.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return R.current.useCallback(t,e)},e.useContext=function(t){return R.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return R.current.useDeferredValue(t)},e.useEffect=function(t,e){return R.current.useEffect(t,e)},e.useId=function(){return R.current.useId()},e.useImperativeHandle=function(t,e,n){return R.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return R.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return R.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return R.current.useMemo(t,e)},e.useReducer=function(t,e,n){return R.current.useReducer(t,e,n)},e.useRef=function(t){return R.current.useRef(t)},e.useState=function(t){return R.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return R.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return R.current.useTransition()},e.version="18.2.0"},43:(t,e,n)=>{"use strict";t.exports=n(202)},579:(t,e,n)=>{"use strict";t.exports=n(153)},234:(t,e)=>{"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var i=n-1>>>1,r=t[i];if(!(0<o(r,e)))break t;t[i]=e,t[n]=r,n=i}}function i(t){return 0===t.length?null:t[0]}function r(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,r=t.length,s=r>>>1;i<s;){var a=2*(i+1)-1,l=t[a],c=a+1,u=t[c];if(0>o(l,n))c<r&&0>o(u,l)?(t[i]=u,t[c]=n,i=c):(t[i]=l,t[a]=n,i=a);else{if(!(c<r&&0>o(u,n)))break t;t[i]=u,t[c]=n,i=c}}}return e}function o(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(t){for(var e=i(u);null!==e;){if(null===e.callback)r(u);else{if(!(e.startTime<=t))break;r(u),e.sortIndex=e.expirationTime,n(c,e)}e=i(u)}}function x(t){if(m=!1,w(t),!g)if(null!==i(c))g=!0,A(_);else{var e=i(u);null!==e&&O(x,e.startTime-t)}}function _(t,n){g=!1,m&&(m=!1,v(C),C=-1),p=!0;var o=f;try{for(w(n),d=i(c);null!==d&&(!(d.expirationTime>n)||t&&!P());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=n);n=e.unstable_now(),"function"===typeof a?d.callback=a:d===i(c)&&r(c),w(n)}else r(c);d=i(c)}if(null!==d)var l=!0;else{var h=i(u);null!==h&&O(x,h.startTime-n),l=!1}return l}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,E=null,C=-1,T=5,I=-1;function P(){return!(e.unstable_now()-I<T)}function M(){if(null!==E){var t=e.unstable_now();I=t;var n=!0;try{n=E(!0,t)}finally{n?S():(k=!1,E=null)}}else k=!1}if("function"===typeof b)S=function(){b(M)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,R=D.port2;D.port1.onmessage=M,S=function(){R.postMessage(null)}}else S=function(){y(M,0)};function A(t){E=t,k||(k=!0,S())}function O(t,n){C=y((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,A(_))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return i(c)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_scheduleCallback=function(t,r,o){var s=e.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:h++,callback:r,priorityLevel:t,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(t.sortIndex=o,n(u,t),null===i(c)&&t===i(u)&&(m?(v(C),C=-1):m=!0,O(x,o-s))):(t.sortIndex=a,n(c,t),g||p||(g=!0,A(_))),t},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(t){var e=f;return function(){var n=f;f=e;try{return t.apply(this,arguments)}finally{f=n}}}},853:(t,e,n)=>{"use strict";t.exports=n(234)},633:(t,e,n)=>{var i=n(738).default;function r(){"use strict";t.exports=r=function(){return n},t.exports.__esModule=!0,t.exports.default=t.exports;var e,n={},o=Object.prototype,s=o.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},l="function"==typeof Symbol?Symbol:{},c=l.iterator||"@@iterator",u=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(e){d=function(t,e,n){return t[e]=n}}function f(t,e,n,i){var r=e&&e.prototype instanceof w?e:w,o=Object.create(r.prototype),s=new A(i||[]);return a(o,"_invoke",{value:P(t,n,s)}),o}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}n.wrap=f;var g="suspendedStart",m="suspendedYield",y="executing",v="completed",b={};function w(){}function x(){}function _(){}var S={};d(S,c,(function(){return this}));var k=Object.getPrototypeOf,E=k&&k(k(O([])));E&&E!==o&&s.call(E,c)&&(S=E);var C=_.prototype=w.prototype=Object.create(S);function T(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,e){function n(r,o,a,l){var c=p(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==i(h)&&s.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,l)}),(function(t){n("throw",t,a,l)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,l)}))}l(c.arg)}var r;a(this,"_invoke",{value:function(t,i){function o(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(o,o):o()}})}function P(t,n,i){var r=g;return function(o,s){if(r===y)throw new Error("Generator is already running");if(r===v){if("throw"===o)throw s;return{value:e,done:!0}}for(i.method=o,i.arg=s;;){var a=i.delegate;if(a){var l=M(a,i);if(l){if(l===b)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===g)throw r=v,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=y;var c=p(t,n,i);if("normal"===c.type){if(r=i.done?v:m,c.arg===b)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=v,i.method="throw",i.arg=c.arg)}}}function M(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,M(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),b;var o=p(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,b;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function D(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(D,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(s.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(i(t)+" is not iterable")}return x.prototype=_,a(C,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:x,configurable:!0}),x.displayName=d(_,h,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,d(t,h,"GeneratorFunction")),t.prototype=Object.create(C),t},n.awrap=function(t){return{__await:t}},T(I.prototype),d(I.prototype,u,(function(){return this})),n.AsyncIterator=I,n.async=function(t,e,i,r,o){void 0===o&&(o=Promise);var s=new I(f(t,e,i,r),o);return n.isGeneratorFunction(e)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},T(C),d(C,h,"Generator"),d(C,c,(function(){return this})),d(C,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},n.values=O,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&s.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(i,r){return a.type="throw",a.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=s.call(o,"catchLoc"),c=s.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&s.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),R(n),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;R(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:O(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),b}},n}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},738:t=>{function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},756:(t,e,n)=>{var i=n(633)();t.exports=i;try{regeneratorRuntime=i}catch(r){"object"===typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,n),o.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),(()=>{"use strict";var t=n(43),e=n(391);const i=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296===(64512&r)&&i+1<t.length&&56320===(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},r={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const e=t[r],o=r+1<t.length,s=o?t[r+1]:0,a=r+2<t.length,l=a?t[r+2]:0,c=e>>2,u=(3&e)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),i.push(n[c],n[u],n[h],n[d])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const o=((7&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(o>>10)),e[i++]=String.fromCharCode(56320+(1023&o))}else{const o=t[n++],s=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const e=n[t.charAt(r++)],s=r<t.length?n[t.charAt(r)]:0;++r;const a=r<t.length?n[t.charAt(r)]:64;++r;const l=r<t.length?n[t.charAt(r)]:64;if(++r,null==e||null==s||null==a||null==l)throw new o;const c=e<<2|s>>4;if(i.push(c),64!==a){const t=s<<4&240|a>>2;if(i.push(t),64!==l){const t=a<<6&192|l;i.push(t)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s=function(t){return function(t){const e=i(t);return r.encodeByteArray(e,!0)}(t).replace(/\./g,"")},a=function(t){try{return r.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};const l=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,c=()=>{try{return l()||(()=>{if("undefined"===typeof process)return;const t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"===typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&a(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(t))}},u=t=>{const e=(t=>{var e,n;return null===(n=null===(e=c())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));const i=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),i]:[e.substring(0,n),i]},h=()=>{var t;return null===(t=c())||void 0===t?void 0:t.config};class d{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}function f(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function p(){return!function(){var t;const e=null===(t=c())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(i){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g(){try{return"object"===typeof indexedDB}catch(t){return!1}}function m(){return new Promise(((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}}))}class y extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,y.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,v.prototype.create)}}class v{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t){const e=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(t),i=this.errors[t],r=i?function(t,e){return t.replace(b,((t,n)=>{const i=e[n];return null!=i?String(i):"<".concat(n,"?>")}))}(i,e):"Error",o="".concat(this.serviceName,": ").concat(r," (").concat(n,").");return new y(n,o,e)}}const b=/\{\$([^}]+)}/g;function w(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const n=t[r],o=e[r];if(x(n)&&x(o)){if(!w(n,o))return!1}else if(n!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function x(t){return null!==t&&"object"===typeof t}const _=1e3,S=2,k=144e5,E=.5;function C(t){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:_)*Math.pow(e,t),i=Math.round(E*n*(Math.random()-.5)*2);return Math.min(k,n+i)}function T(t){return t&&t._delegate?t._delegate:t}class I{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const P="[DEFAULT]";class M{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new d;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(n){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),i=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error("Mismatching Component ".concat(t.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:P})}catch(e){}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:i});n.resolve(t)}catch(e){}}}}clearInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return this.instances.has(t)}getOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return this.instancesOptions.get(t)||{}}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const i=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[r,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&o.resolve(i)}return i}onInit(t,e){var n;const i=this.normalizeInstanceIdentifier(e),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const r of n)try{r(t,e)}catch(i){}}getOrInitializeService(t){let{instanceIdentifier:e,options:n={}}=t,i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===P?void 0:r),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(o){}var r;return i||null}normalizeInstanceIdentifier(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return this.component?this.component.multipleInstances?t:P:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class D{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component ".concat(t.name," has already been registered with ").concat(this.name));e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new M(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const R=[];var A;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(A||(A={}));const O={debug:A.DEBUG,verbose:A.VERBOSE,info:A.INFO,warn:A.WARN,error:A.ERROR,silent:A.SILENT},N=A.INFO,L={[A.DEBUG]:"log",[A.VERBOSE]:"log",[A.INFO]:"info",[A.WARN]:"warn",[A.ERROR]:"error"},F=function(t,e){if(e<t.logLevel)return;const n=(new Date).toISOString(),i=L[e];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"));for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];console[i]("[".concat(n,"]  ").concat(t.name,":"),...o)};class z{constructor(t){this.name=t,this._logLevel=N,this._logHandler=F,this._userLogHandler=null,R.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in A))throw new TypeError('Invalid value "'.concat(t,'" assigned to `logLevel`'));this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?O[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,A.DEBUG,...e),this._logHandler(this,A.DEBUG,...e)}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,A.VERBOSE,...e),this._logHandler(this,A.VERBOSE,...e)}info(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,A.INFO,...e),this._logHandler(this,A.INFO,...e)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,A.WARN,...e),this._logHandler(this,A.WARN,...e)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,A.ERROR,...e),this._logHandler(this,A.ERROR,...e)}}const B=(t,e)=>e.some((e=>t instanceof e));let V,j;const U=new WeakMap,H=new WeakMap,W=new WeakMap,G=new WeakMap,q=new WeakMap;let K={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return H.get(t);if("objectStoreNames"===e)return t.objectStoreNames||W.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Q(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(j||(j=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.apply(X(this),n),$(U.get(this))}:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return $(t.apply(X(this),n))}:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];const o=t.call(X(this),e,...i);return W.set(o,e.sort?e.sort():[e]),$(o)}}function Y(t){return"function"===typeof t?Q(t):(t instanceof IDBTransaction&&function(t){if(H.has(t))return;const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{e(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)}));H.set(t,e)}(t),B(t,V||(V=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,K):t)}function $(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{e($(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)}));return e.then((e=>{e instanceof IDBCursor&&U.set(e,t)})).catch((()=>{})),q.set(e,t),e}(t);if(G.has(t))return G.get(t);const e=Y(t);return e!==t&&(G.set(t,e),q.set(e,t)),e}const X=t=>q.get(t);function J(t,e){let{blocked:n,upgrade:i,blocking:r,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(t,e),a=$(s);return i&&s.addEventListener("upgradeneeded",(t=>{i($(s.result),t.oldVersion,t.newVersion,$(s.transaction),t)})),n&&s.addEventListener("blocked",(t=>n(t.oldVersion,t.newVersion,t))),a.then((t=>{o&&t.addEventListener("close",(()=>o())),r&&t.addEventListener("versionchange",(t=>r(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),a}const Z=["get","getKey","getAll","getAllKeys","count"],tt=["put","add","delete","clear"],et=new Map;function nt(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(et.get(e))return et.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=tt.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Z.includes(n))return;const o=async function(t){const e=this.transaction(t,r?"readwrite":"readonly");let o=e.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return i&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),r&&e.done]))[0]};return et.set(e,o),o}!function(t){K=t(K)}((t=>({...t,get:(e,n,i)=>nt(e,n)||t.get(e,n,i),has:(e,n)=>!!nt(e,n)||t.has(e,n)})));class it{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){const e=t.getImmediate();return"".concat(e.library,"/").concat(e.version)}return null})).filter((t=>t)).join(" ")}}const rt="@firebase/app",ot="0.9.29",st=new z("@firebase/app"),at="[DEFAULT]",lt={[rt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ct=new Map,ut=new Map;function ht(t,e){try{t.container.addComponent(e)}catch(n){st.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(t.name),n)}}function dt(t){const e=t.name;if(ut.has(e))return st.debug("There were multiple attempts to register component ".concat(e,".")),!1;ut.set(e,t);for(const n of ct.values())ht(n,t);return!0}function ft(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const pt=new v("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class gt{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new I("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw pt.create("app-deleted",{appName:this._name})}}function mt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;if("object"!==typeof e){e={name:e}}const i=Object.assign({name:at,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!==typeof r||!r)throw pt.create("bad-app-name",{appName:String(r)});if(n||(n=h()),!n)throw pt.create("no-options");const o=ct.get(r);if(o){if(w(n,o.options)&&w(i,o.config))return o;throw pt.create("duplicate-app",{appName:r})}const s=new D(r);for(const l of ut.values())s.addComponent(l);const a=new gt(n,i,s);return ct.set(r,a),a}function yt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at;const e=ct.get(t);if(!e&&t===at&&h())return mt();if(!e)throw pt.create("no-app",{appName:t});return e}function vt(t,e,n){var i;let r=null!==(i=lt[t])&&void 0!==i?i:t;n&&(r+="-".concat(n));const o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const t=['Unable to register library "'.concat(r,'" with version "').concat(e,'":')];return o&&t.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),o&&s&&t.push("and"),s&&t.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),void st.warn(t.join(" "))}dt(new I("".concat(r,"-version"),(()=>({library:r,version:e})),"VERSION"))}const bt="firebase-heartbeat-database",wt=1,xt="firebase-heartbeat-store";let _t=null;function St(){return _t||(_t=J(bt,wt,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(xt)}catch(n){console.warn(n)}}}).catch((t=>{throw pt.create("idb-open",{originalErrorMessage:t.message})}))),_t}async function kt(t,e){try{const n=(await St()).transaction(xt,"readwrite"),i=n.objectStore(xt);await i.put(e,Et(t)),await n.done}catch(n){if(n instanceof y)st.warn(n.message);else{const t=pt.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});st.warn(t.message)}}}function Et(t){return"".concat(t.name,"!").concat(t.options.appId)}class Ct{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new It(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){var t,e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Tt();if((null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==i&&!this._heartbeatsCache.heartbeats.some((t=>t.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const e=Tt(),{heartbeatsToSend:n,unsentEntries:i}=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let i=t.slice();for(const r of t){const t=n.find((t=>t.agent===r.agent));if(t){if(t.dates.push(r.date),Pt(n)>e){t.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Pt(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),r=s(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Tt(){return(new Date).toISOString().substring(0,10)}class It{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!g()&&m().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=(await St()).transaction(xt),n=await e.objectStore(xt).get(Et(t));return await e.done,n}catch(e){if(e instanceof y)st.warn(e.message);else{const t=pt.create("idb-get",{originalErrorMessage:null===e||void 0===e?void 0:e.message});st.warn(t.message)}}}(this.app);return(null===t||void 0===t?void 0:t.heartbeats)?t:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return kt(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return kt(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function Pt(t){return s(JSON.stringify({version:2,heartbeats:t})).length}var Mt;Mt="",dt(new I("platform-logger",(t=>new it(t)),"PRIVATE")),dt(new I("heartbeat",(t=>new Ct(t)),"PRIVATE")),vt(rt,ot,Mt),vt(rt,ot,"esm2017"),vt("fire-js","");var Dt,Rt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},At={},Ot=Ot||{},Nt=Rt||self;function Lt(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ft(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var zt="closure_uid_"+(1e9*Math.random()>>>0),Bt=0;function Vt(t,e,n){return t.call.apply(t.bind,arguments)}function jt(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ut(t,e,n){return(Ut=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Vt:jt).apply(null,arguments)}function Ht(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Wt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}function Gt(){this.s=this.s,this.o=this.o}Gt.prototype.s=!1,Gt.prototype.sa=function(){var t;!this.s&&(this.s=!0,this.N(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,zt)&&t[zt]||(t[zt]=++Bt))},Gt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qt=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Kt(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function Qt(t,e){for(let n=1;n<arguments.length;n++){const e=arguments[n];if(Lt(e)){const n=t.length||0,i=e.length||0;t.length=n+i;for(let r=0;r<i;r++)t[n+r]=e[r]}else t.push(e)}}function Yt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Yt.prototype.h=function(){this.defaultPrevented=!0};var $t=function(){if(!Nt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const t=()=>{};Nt.addEventListener("test",t,e),Nt.removeEventListener("test",t,e)}catch(n){}return t}();function Xt(t){return/^[\s\xa0]*$/.test(t)}function Jt(){var t=Nt.navigator;return t&&(t=t.userAgent)?t:""}function Zt(t){return-1!=Jt().indexOf(t)}function te(t){return te[" "](t),t}te[" "]=function(){};var ee,ne,ie=Zt("Opera"),re=Zt("Trident")||Zt("MSIE"),oe=Zt("Edge"),se=oe||re,ae=Zt("Gecko")&&!(-1!=Jt().toLowerCase().indexOf("webkit")&&!Zt("Edge"))&&!(Zt("Trident")||Zt("MSIE"))&&!Zt("Edge"),le=-1!=Jt().toLowerCase().indexOf("webkit")&&!Zt("Edge");function ce(){var t=Nt.document;return t?t.documentMode:void 0}t:{var ue="",he=function(){var t=Jt();return ae?/rv:([^\);]+)(\)|;)/.exec(t):oe?/Edge\/([\d\.]+)/.exec(t):re?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):le?/WebKit\/(\S+)/.exec(t):ie?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(he&&(ue=he?he[1]:""),re){var de=ce();if(null!=de&&de>parseFloat(ue)){ee=String(de);break t}}ee=ue}if(Nt.document&&re){var fe=ce();ne=fe||(parseInt(ee,10)||void 0)}else ne=void 0;var pe=ne;function ge(t,e){if(Yt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ae){t:{try{te(e.nodeName);var r=!0;break t}catch(o){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:me[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ge.$.h.call(this)}}Wt(ge,Yt);var me={2:"touch",3:"pen",4:"mouse"};ge.prototype.h=function(){ge.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),ve=0;function be(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++ve,this.fa=this.ia=!1}function we(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function xe(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function _e(t){const e={};for(const n in t)e[n]=t[n];return e}const Se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ke(t,e){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)t[n]=i[n];for(let e=0;e<Se.length;e++)n=Se[e],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Ee(t){this.src=t,this.g={},this.h=0}function Ce(t,e){var n=e.type;if(n in t.g){var i,r=t.g[n],o=qt(r,e);(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(we(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Te(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return r}return-1}Ee.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=Te(t,e,i,r);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new be(e,this.src,o,!!i,r)).ia=n,t.push(e)),e};var Ie="closure_lm_"+(1e6*Math.random()|0),Pe={};function Me(t,e,n,i,r){if(i&&i.once)return Re(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Me(t,e[o],n,i,r);return null}return n=Be(n),t&&t[ye]?t.O(e,n,Ft(i)?!!i.capture:!!i,r):De(t,e,n,!1,i,r)}function De(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var s=Ft(r)?!!r.capture:!!r,a=Fe(t);if(a||(t[Ie]=a=new Ee(t)),(n=a.add(e,n,i,s,o)).proxy)return n;if(i=function(){function t(n){return e.call(t.src,t.listener,n)}const e=Le;return t}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)$t||(r=s),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(Ne(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function Re(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Re(t,e[o],n,i,r);return null}return n=Be(n),t&&t[ye]?t.P(e,n,Ft(i)?!!i.capture:!!i,r):De(t,e,n,!0,i,r)}function Ae(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)Ae(t,e[o],n,i,r);else i=Ft(i)?!!i.capture:!!i,n=Be(n),t&&t[ye]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=Te(o=t.g[e],n,i,r))&&(we(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--)))):t&&(t=Fe(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Te(e,n,i,r)),(n=-1<t?e[t]:null)&&Oe(n))}function Oe(t){if("number"!==typeof t&&t&&!t.fa){var e=t.src;if(e&&e[ye])Ce(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(Ne(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Fe(e))?(Ce(n,t),0==n.h&&(n.src=null,e[Ie]=null)):we(t)}}}function Ne(t){return t in Pe?Pe[t]:Pe[t]="on"+t}function Le(t,e){if(t.fa)t=!0;else{e=new ge(e,this);var n=t.listener,i=t.la||t.src;t.ia&&Oe(t),t=n.call(i,e)}return t}function Fe(t){return(t=t[Ie])instanceof Ee?t:null}var ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function Be(t){return"function"===typeof t?t:(t[ze]||(t[ze]=function(e){return t.handleEvent(e)}),t[ze])}function Ve(){Gt.call(this),this.i=new Ee(this),this.S=this,this.J=null}function je(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,"string"===typeof e)e=new Yt(e,t);else if(e instanceof Yt)e.target=e.target||t;else{var r=e;ke(e=new Yt(i,t),r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];r=Ue(s,i,!0,e)&&r}if(r=Ue(s=e.g=t,i,!0,e)&&r,r=Ue(s,i,!1,e)&&r,n)for(o=0;o<n.length;o++)r=Ue(s=e.g=n[o],i,!1,e)&&r}function Ue(t,e,n,i){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Ce(t.i,s),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}Wt(Ve,Gt),Ve.prototype[ye]=!0,Ve.prototype.removeEventListener=function(t,e,n,i){Ae(this,t,e,n,i)},Ve.prototype.N=function(){if(Ve.$.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)we(n[i]);delete e.g[t],e.h--}}this.J=null},Ve.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},Ve.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};var He=Nt.JSON.stringify;function We(){var t=Xe;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Ge=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new qe),(t=>t.reset()));class qe{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Ke(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Qe(t){Nt.setTimeout((()=>{throw t}),0)}let Ye,$e=!1,Xe=new class{constructor(){this.h=this.g=null}add(t,e){const n=Ge.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}},Je=()=>{const t=Nt.Promise.resolve(void 0);Ye=()=>{t.then(Ze)}};var Ze=()=>{for(var t;t=We();){try{t.h.call(t.g)}catch(n){Qe(n)}var e=Ge;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}$e=!1};function tn(t,e){Ve.call(this),this.h=t||1,this.g=e||Nt,this.j=Ut(this.qb,this),this.l=Date.now()}function en(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function nn(t,e,n){if("function"===typeof t)n&&(t=Ut(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ut(t.handleEvent,t)}return 2147483647<Number(e)?-1:Nt.setTimeout(t,e||0)}function rn(t){t.g=nn((()=>{t.g=null,t.i&&(t.i=!1,rn(t))}),t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Wt(tn,Ve),(Dt=tn.prototype).ga=!1,Dt.T=null,Dt.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),je(this,"tick"),this.ga&&(en(this),this.start()))}},Dt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Dt.N=function(){tn.$.N.call(this),en(this),delete this.g};class on extends Gt{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:rn(this)}N(){super.N(),this.g&&(Nt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sn(t){Gt.call(this),this.h=t,this.g={}}Wt(sn,Gt);var an=[];function ln(t,e,n,i){Array.isArray(n)||(n&&(an[0]=n.toString()),n=an);for(var r=0;r<n.length;r++){var o=Me(e,n[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function cn(t){xe(t.g,(function(t,e){this.g.hasOwnProperty(e)&&Oe(t)}),t),t.g={}}function un(){this.g=!0}function hn(t,e,n,i){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return He(n)}catch(a){return e}}(t,n)+(i?" "+i:"")}))}sn.prototype.N=function(){sn.$.N.call(this),cn(this)},sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},un.prototype.Ea=function(){this.g=!1},un.prototype.info=function(){};var dn={},fn=null;function pn(){return fn=fn||new Ve}function gn(t){Yt.call(this,dn.Ta,t)}function mn(t){const e=pn();je(e,new gn(e))}function yn(t,e){Yt.call(this,dn.STAT_EVENT,t),this.stat=e}function vn(t){const e=pn();je(e,new yn(e,t))}function bn(t,e){Yt.call(this,dn.Ua,t),this.size=e}function wn(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return Nt.setTimeout((function(){t()}),e)}dn.Ta="serverreachability",Wt(gn,Yt),dn.STAT_EVENT="statevent",Wt(yn,Yt),dn.Ua="timingevent",Wt(bn,Yt);var xn={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},_n={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Sn(){}function kn(t){return t.h||(t.h=t.i())}function En(){}Sn.prototype.h=null;var Cn,Tn={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function In(){Yt.call(this,"d")}function Pn(){Yt.call(this,"c")}function Mn(){}function Dn(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new sn(this),this.P=An,t=se?125:void 0,this.V=new tn(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Rn}function Rn(){this.i=null,this.g="",this.h=!1}Wt(In,Yt),Wt(Pn,Yt),Wt(Mn,Sn),Mn.prototype.g=function(){return new XMLHttpRequest},Mn.prototype.i=function(){return{}},Cn=new Mn;var An=45e3,On={},Nn={};function Ln(t,e,n){t.L=1,t.A=ei($n(e)),t.u=n,t.S=!0,Fn(t,null)}function Fn(t,e){t.G=Date.now(),jn(t),t.B=$n(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),pi(n.i,"t",i),t.o=0,n=t.l.J,t.h=new Rn,t.g=gr(t.l,n?e:null,!t.u),0<t.O&&(t.M=new on(Ut(t.Pa,t,t.g),t.O)),ln(t.U,t.g,"readystatechange",t.nb),e=t.I?_e(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),mn(),function(t,e,n,i,r,o){t.info((function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+s}))}(t.j,t.v,t.B,t.m,t.W,t.u)}function zn(t){return!!t.g&&("GET"==t.v&&2!=t.L&&t.l.Ha)}function Bn(t,e,n){let i,r=!0;for(;!t.J&&t.o<n.length;){if(i=Vn(t,n),i==Nn){4==e&&(t.s=4,vn(14),r=!1),hn(t.j,t.m,null,"[Incomplete Response]");break}if(i==On){t.s=4,vn(15),hn(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}hn(t.j,t.m,i,null),qn(t,i)}zn(t)&&0!=t.o&&(t.h.g=t.h.g.slice(t.o),t.o=0),4!=e||0!=n.length||t.h.h||(t.s=1,vn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ar(e),e.M=!0,vn(11))):(hn(t.j,t.m,n,"[Invalid Chunked Response]"),Gn(t),Wn(t))}function Vn(t,e){var n=t.o,i=e.indexOf("\n",n);return-1==i?Nn:(n=Number(e.substring(n,i)),isNaN(n)?On:(i+=1)+n>e.length?Nn:(e=e.slice(i,i+n),t.o=i+n,e))}function jn(t){t.Y=Date.now()+t.P,Un(t,t.P)}function Un(t,e){if(null!=t.C)throw Error("WatchDog timer not null");t.C=wn(Ut(t.lb,t),e)}function Hn(t){t.C&&(Nt.clearTimeout(t.C),t.C=null)}function Wn(t){0==t.l.H||t.J||ur(t.l,t)}function Gn(t){Hn(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,en(t.V),cn(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function qn(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||xi(n.i,t)))if(!t.K&&xi(n.i,t)&&3==n.H){try{var i=n.Ja.g.parse(e)}catch(c){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break t;cr(n),Zi(n)}sr(n),vn(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&0==n.A&&!n.v&&(n.v=wn(Ut(n.ib,n),6e3));if(1>=wi(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else dr(n,11)}else if((t.K||n.g==t)&&cr(n),!Xt(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const e=c[3];null!=e&&(n.ra=e,n.l.info("VER="+n.ra));const r=c[4];null!=r&&(n.Ga=r,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(i=1.5*u,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var o=i.i;o.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(_i(o,o.h),o.h=null))}if(i.F){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(i.Da=t,ti(i.I,i.F,t))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((i=n).wa=pr(i,i.J?i.pa:null,i.Y),s.K){Si(i.i,s);var a=s,l=i.L;l&&a.setTimeout(l),a.C&&(Hn(a),jn(a)),i.g=s}else or(i);0<n.j.length&&er(n)}else"stop"!=c[0]&&"close"!=c[0]||dr(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?dr(n,7):Ji(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}mn()}catch(c){}}function Kn(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Lt(t)||"string"===typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if("undefined"!==typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!==typeof Set&&t instanceof Set)){if(Lt(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}(t),i=function(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if("undefined"!==typeof Map&&t instanceof Map||"undefined"!==typeof Set&&t instanceof Set)return Array.from(t.values());if("string"===typeof t)return t.split("");if(Lt(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}(Dt=Dn.prototype).setTimeout=function(t){this.P=t},Dt.nb=function(t){t=t.target;const e=this.M;e&&3==qi(t)?e.l():this.Pa(t)},Dt.Pa=function(t){try{if(t==this.g)t:{const u=qi(this.g);var e=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||se||this.g&&(this.h.h||this.g.ja()||Ki(this.g)))){this.J||4!=u||7==e||mn(),Hn(this);var n=this.g.da();this.ca=n;e:if(zn(this)){var i=Ki(this.g);t="";var r=i.length,o=4==qi(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Gn(this),Wn(this);var s="";break e}this.h.i=new Nt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(t,e,n,i,r,o,s){t.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xt(a)){var c=a;break e}}c=null}if(!(n=c)){this.i=!1,this.s=3,vn(12),Gn(this),Wn(this);break t}hn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qn(this,n)}this.S?(Bn(this,u,s),se&&this.i&&3==u&&(ln(this.U,this.V,"tick",this.mb),this.V.start())):(hn(this.j,this.m,s,null),qn(this,s)),4==u&&Gn(this),this.i&&!this.J&&(4==u?ur(this.l,this):(this.i=!1,jn(this)))}else(function(t){const e={};t=(t.g&&2<=qi(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<t.length;i++){if(Xt(t[i]))continue;var n=Ke(t[i]);const r=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=e[r]||[];e[r]=o,o.push(n)}!function(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,(function(t){return t.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,vn(12)):(this.s=0,vn(13)),Gn(this),Wn(this)}}}catch(u){}},Dt.mb=function(){if(this.g){var t=qi(this.g),e=this.g.ja();this.o<e.length&&(Hn(this),Bn(this,t,e),this.i&&4!=t&&jn(this))}},Dt.cancel=function(){this.J=!0,Gn(this)},Dt.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.B),2!=this.L&&(mn(),vn(17)),Gn(this),this.s=2,Wn(this)):Un(this,this.Y-t)};var Qn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yn(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Yn){this.h=t.h,Xn(this,t.j),this.s=t.s,this.g=t.g,Jn(this,t.m),this.l=t.l;var e=t.i,n=new ui;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Zn(this,n),this.o=t.o}else t&&(e=String(t).match(Qn))?(this.h=!1,Xn(this,e[1]||"",!0),this.s=ni(e[2]||""),this.g=ni(e[3]||"",!0),Jn(this,e[4]),this.l=ni(e[5]||"",!0),Zn(this,e[6]||"",!0),this.o=ni(e[7]||"")):(this.h=!1,this.i=new ui(null,this.h))}function $n(t){return new Yn(t)}function Xn(t,e,n){t.j=n?ni(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Jn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Zn(t,e,n){e instanceof ui?(t.i=e,function(t,e){e&&!t.j&&(hi(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(di(this,e),pi(this,n,t))}),t)),t.j=e}(t.i,t.h)):(n||(e=ii(e,li)),t.i=new ui(e,t.h))}function ti(t,e,n){t.i.set(e,n)}function ei(t){return ti(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ni(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ii(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,ri),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ri(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Yn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ii(e,oi,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(ii(e,oi,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(ii(n,"/"==n.charAt(0)?ai:si,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ii(n,ci)),t.join("")};var oi=/[#\/\?@]/g,si=/[#\?:]/g,ai=/[#\?]/g,li=/[#\?@]/g,ci=/#/g;function ui(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function hi(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function di(t,e){hi(t),e=gi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function fi(t,e){return hi(t),e=gi(t,e),t.g.has(e)}function pi(t,e,n){di(t,e),0<n.length&&(t.i=null,t.g.set(gi(t,e),Kt(n)),t.h+=n.length)}function gi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(Dt=ui.prototype).add=function(t,e){hi(this),this.i=null,t=gi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Dt.forEach=function(t,e){hi(this),this.g.forEach((function(n,i){n.forEach((function(n){t.call(e,n,i,this)}),this)}),this)},Dt.ta=function(){hi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let t=0;t<r.length;t++)n.push(e[i])}return n},Dt.Z=function(t){hi(this);let e=[];if("string"===typeof t)fi(this,t)&&(e=e.concat(this.g.get(gi(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},Dt.set=function(t,e){return hi(this),this.i=null,fi(this,t=gi(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Dt.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},Dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),t.push(r)}}return this.i=t.join("&")};var mi=class{constructor(t,e){this.g=t,this.map=e}};function yi(t){this.l=t||vi,Nt.PerformanceNavigationTiming?t=0<(t=Nt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(Nt.g&&Nt.g.Ka&&Nt.g.Ka()&&Nt.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var vi=10;function bi(t){return!!t.h||!!t.g&&t.g.size>=t.j}function wi(t){return t.h?1:t.g?t.g.size:0}function xi(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function _i(t,e){t.g?t.g.add(e):t.h=e}function Si(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function ki(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Kt(t.i)}yi.prototype.cancel=function(){if(this.i=ki(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Ei,Ci=class{stringify(t){return Nt.JSON.stringify(t,void 0)}parse(t){return Nt.JSON.parse(t,void 0)}};function Ti(){this.g=new Ci}function Ii(t,e,n){const i=n||"";try{Kn(t,(function(t,n){let r=t;Ft(t)&&(r=He(t)),e.push(i+n+"="+encodeURIComponent(r))}))}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Pi(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(o){}}function Mi(t){this.l=t.ec||null,this.j=t.ob||!1}function Di(t,e){Ve.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Ri,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Wt(Mi,Sn),Mi.prototype.g=function(){return new Di(this.l,this.j)},Mi.prototype.i=(Ei={},function(){return Ei}),Wt(Di,Ve);var Ri=0;function Ai(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Oi(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ni(t)}function Ni(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Dt=Di.prototype).open=function(t,e){if(this.readyState!=Ri)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ni(this)},Dt.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Nt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Oi(this)),this.readyState=Ri},Dt.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ni(this)),this.g&&(this.readyState=3,Ni(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Nt.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ai(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},Dt.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Oi(this):Ni(this),3==this.readyState&&Ai(this)}},Dt.Za=function(t){this.g&&(this.response=this.responseText=t,Oi(this))},Dt.Ya=function(t){this.g&&(this.response=t,Oi(this))},Dt.ka=function(){this.g&&Oi(this)},Dt.setRequestHeader=function(t,e){this.v.append(t,e)},Dt.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Dt.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Di.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Li=Nt.JSON.parse;function Fi(t){Ve.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=zi,this.L=this.M=!1}Wt(Fi,Ve);var zi="",Bi=/^https?$/i,Vi=["POST","PUT"];function ji(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Ui(t),Wi(t)}function Ui(t){t.F||(t.F=!0,je(t,"complete"),je(t,"error"))}function Hi(t){if(t.h&&"undefined"!=typeof Ot&&(!t.C[1]||4!=qi(t)||2!=t.da()))if(t.v&&4==qi(t))nn(t.La,0,t);else if(je(t,"readystatechange"),4==qi(t)){t.h=!1;try{const a=t.da();t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var i;if(i=0===a){var r=String(t.I).match(Qn)[1]||null;!r&&Nt.self&&Nt.self.location&&(r=Nt.self.location.protocol.slice(0,-1)),i=!Bi.test(r?r.toLowerCase():"")}n=i}if(n)je(t,"complete"),je(t,"success");else{t.m=6;try{var o=2<qi(t)?t.g.statusText:""}catch(s){o=""}t.j=o+" ["+t.da()+"]",Ui(t)}}finally{Wi(t)}}}function Wi(t,e){if(t.g){Gi(t);const i=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||je(t,"ready");try{i.onreadystatechange=r}catch(n){}}}function Gi(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Nt.clearTimeout(t.A),t.A=null)}function qi(t){return t.g?t.g.readyState:0}function Ki(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case zi:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(to){return null}}function Qi(t){let e="";return xe(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function Yi(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=Qi(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):ti(t,e,n))}function $i(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Xi(t){this.Ga=0,this.j=[],this.l=new un,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$i("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$i("baseRetryDelayMs",5e3,t),this.hb=$i("retryDelaySeedMs",1e4,t),this.eb=$i("forwardChannelMaxRetries",2,t),this.xa=$i("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new yi(t&&t.concurrentRequestLimit),this.Ja=new Ti,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ji(t){if(tr(t),3==t.H){var e=t.W++,n=$n(t.I);if(ti(n,"SID",t.K),ti(n,"RID",e),ti(n,"TYPE","terminate"),ir(t,n),(e=new Dn(t,t.l,e)).L=2,e.A=ei($n(n)),n=!1,Nt.navigator&&Nt.navigator.sendBeacon)try{n=Nt.navigator.sendBeacon(e.A.toString(),"")}catch(i){}!n&&Nt.Image&&((new Image).src=e.A,n=!0),n||(e.g=gr(e.l,null),e.g.ha(e.A)),e.G=Date.now(),jn(e)}fr(t)}function Zi(t){t.g&&(ar(t),t.g.cancel(),t.g=null)}function tr(t){Zi(t),t.u&&(Nt.clearTimeout(t.u),t.u=null),cr(t),t.i.cancel(),t.m&&("number"===typeof t.m&&Nt.clearTimeout(t.m),t.m=null)}function er(t){if(!bi(t.i)&&!t.m){t.m=!0;var e=t.Na;Ye||Je(),$e||(Ye(),$e=!0),Xe.add(e,t),t.C=0}}function nr(t,e){var n;n=e?e.m:t.W++;const i=$n(t.I);ti(i,"SID",t.K),ti(i,"RID",n),ti(i,"AID",t.V),ir(t,i),t.o&&t.s&&Yi(i,t.o,t.s),n=new Dn(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=rr(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),_i(t.i,n),Ln(n,i,e)}function ir(t,e){t.na&&xe(t.na,(function(t,n){ti(e,n,t)})),t.h&&Kn({},(function(t,n){ti(e,n,t)}))}function rr(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Ut(t.h.Va,t.h,t):null;t:{var r=t.j;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=r[0].g,t.push("ofs="+e)):e=0:t.push("ofs="+e);let s=!0;for(let a=0;a<n;a++){let n=r[a].g;const l=r[a].map;if(n-=e,0>n)e=Math.max(0,r[a].g-100),s=!1;else try{Ii(l,t,"req"+n+"_")}catch(o){i&&i(l)}}if(s){i=t.join("&");break t}}}return t=t.j.splice(0,n),e.F=t,i}function or(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ye||Je(),$e||(Ye(),$e=!0),Xe.add(e,t),t.A=0}}function sr(t){return!(t.g||t.u||3<=t.A)&&(t.ba++,t.u=wn(Ut(t.Ma,t),hr(t,t.A)),t.A++,!0)}function ar(t){null!=t.B&&(Nt.clearTimeout(t.B),t.B=null)}function lr(t){t.g=new Dn(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=$n(t.wa);ti(e,"RID","rpc"),ti(e,"SID",t.K),ti(e,"AID",t.V),ti(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ti(e,"TO",t.qa),ti(e,"TYPE","xmlhttp"),ir(t,e),t.o&&t.s&&Yi(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=ei($n(e)),n.u=null,n.S=!0,Fn(n,t)}function cr(t){null!=t.v&&(Nt.clearTimeout(t.v),t.v=null)}function ur(t,e){var n=null;if(t.g==e){cr(t),ar(t),t.g=null;var i=2}else{if(!xi(t.i,e))return;n=e.F,Si(t.i,e),i=1}if(0!=t.H)if(e.i)if(1==i){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;je(i=pn(),new bn(i,n)),er(t)}else or(t);else if(3==(r=e.s)||0==r&&0<e.ca||!(1==i&&function(t,e){return!(wi(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.j=e.F.concat(t.j),!0):!(1==t.H||2==t.H||t.C>=(t.cb?0:t.eb))&&(t.m=wn(Ut(t.Na,t,e),hr(t,t.C)),t.C++,!0))}(t,e)||2==i&&sr(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:dr(t,5);break;case 4:dr(t,10);break;case 3:dr(t,6);break;default:dr(t,2)}}function hr(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function dr(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var i=Ut(t.pb,t);n||(n=new Yn("//www.google.com/images/cleardot.gif"),Nt.location&&"http"==Nt.location.protocol||Xn(n,"https"),ei(n)),function(t,e){const n=new un;if(Nt.Image){const i=new Image;i.onload=Ht(Pi,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Ht(Pi,n,i,"TestLoadImage: error",!1,e),i.onabort=Ht(Pi,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Ht(Pi,n,i,"TestLoadImage: timeout",!1,e),Nt.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}(n.toString(),i)}else vn(2);t.H=0,t.h&&t.h.za(e),fr(t),tr(t)}function fr(t){if(t.H=0,t.ma=[],t.h){const e=ki(t.i);0==e.length&&0==t.j.length||(Qt(t.ma,e),Qt(t.ma,t.j),t.i.i.length=0,Kt(t.j),t.j.length=0),t.h.ya()}}function pr(t,e,n){var i=n instanceof Yn?$n(n):new Yn(n);if(""!=i.g)e&&(i.g=e+"."+i.g),Jn(i,i.m);else{var r=Nt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Yn(null);i&&Xn(o,i),e&&(o.g=e),r&&Jn(o,r),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&ti(i,n,e),ti(i,"VER",t.ra),ir(t,i),i}function gr(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=t.Ha&&!t.va?new Fi(new Mi({ob:n})):new Fi(t.va)).Oa(t.J),e}function mr(){}function yr(){if(re&&!(10<=Number(pe)))throw Error("Environmental error: no available transport.")}function vr(t,e){Ve.call(this),this.g=new Xi(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Xt(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xt(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new xr(this)}function br(t){In.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function wr(){Pn.call(this),this.status=1}function xr(t){this.g=t}function _r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Sr(t,e,n){n||(n=0);var i=Array(16);if("string"===typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var o=t.g[3],s=e+(o^n&(r^o))+i[0]+3614090360&4294967295;s=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=(n=(r=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(n^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(n^o&(e^n))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(n^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(n^o&(e^n))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(n^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(n^o&(e^n))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(n^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(n^o&(e^n))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(n^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^r&(e^n))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^n&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(n^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^r&(e^n))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^n&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(n^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^r&(e^n))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^n&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(n^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^r&(e^n))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^n&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^n)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^n)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^n)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^n)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(n|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~n))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(n|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~n))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(n|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~n))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(r^(n|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~n))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+o&4294967295}function kr(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var o=0|t[r];i&&o==e||(n[r]=o,i=!1)}this.g=n}(Dt=Fi.prototype).Oa=function(t){this.M=t},Dt.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Cn.g(),this.C=this.u?kn(this.u):kn(Cn),this.g.onreadystatechange=Ut(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void ji(this,o)}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else{if("function"!==typeof i.keys||"function"!==typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const t of i.keys())n.set(t,i.get(t))}i=Array.from(n.keys()).find((t=>"content-type"==t.toLowerCase())),r=Nt.FormData&&t instanceof Nt.FormData,!(0<=qt(Vi,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Gi(this),0<this.B&&((this.L=function(t){return re&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ut(this.ua,this)):this.A=nn(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){ji(this,o)}},Dt.ua=function(){"undefined"!=typeof Ot&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,je(this,"timeout"),this.abort(8))},Dt.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,je(this,"complete"),je(this,"abort"),Wi(this))},Dt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wi(this,!0)),Fi.$.N.call(this)},Dt.La=function(){this.s||(this.G||this.v||this.l?Hi(this):this.kb())},Dt.kb=function(){Hi(this)},Dt.isActive=function(){return!!this.g},Dt.da=function(){try{return 2<qi(this)?this.g.status:-1}catch(Ei){return-1}},Dt.ja=function(){try{return this.g?this.g.responseText:""}catch(Ei){return""}},Dt.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Li(e)}},Dt.Ia=function(){return this.m},Dt.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Dt=Xi.prototype).ra=8,Dt.H=1,Dt.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new Dn(this,this.l,t);let o=this.s;if(this.U&&(o?(o=_e(o),ke(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)t:{for(var e=0,n=0;n<this.j.length;n++){var i=this.j[n];if(void 0===(i="__data__"in i.map&&"string"===typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=n;break t}if(4096===e||n===this.j.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=rr(this,r,e),ti(n=$n(this.I),"RID",t),ti(n,"CVER",22),this.F&&ti(n,"X-HTTP-Session-Id",this.F),ir(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(Qi(o)))+"&"+e:this.o&&Yi(n,this.o,o)),_i(this.i,r),this.bb&&ti(n,"TYPE","init"),this.P?(ti(n,"$req",e),ti(n,"SID","null"),r.aa=!0,Ln(r,n,null)):Ln(r,n,e),this.H=2}}else 3==this.H&&(t?nr(this,t):0==this.j.length||bi(this.i)||nr(this))},Dt.Ma=function(){if(this.u=null,lr(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=wn(Ut(this.jb,this),t)}},Dt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,vn(10),Zi(this),lr(this))},Dt.ib=function(){null!=this.v&&(this.v=null,Zi(this),sr(this),vn(19))},Dt.pb=function(t){t?(this.l.info("Successfully pinged google.com"),vn(2)):(this.l.info("Failed to ping google.com"),vn(1))},Dt.isActive=function(){return!!this.h&&this.h.isActive(this)},(Dt=mr.prototype).Ba=function(){},Dt.Aa=function(){},Dt.za=function(){},Dt.ya=function(){},Dt.isActive=function(){return!0},Dt.Va=function(){},yr.prototype.g=function(t,e){return new vr(t,e)},Wt(vr,Ve),vr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;vn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=pr(t,null,t.Y),er(t)},vr.prototype.close=function(){Ji(this.g)},vr.prototype.u=function(t){var e=this.g;if("string"===typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=He(t),t=n);e.j.push(new mi(e.fb++,t)),3==e.H&&er(e)},vr.prototype.N=function(){this.g.h=null,delete this.j,Ji(this.g),delete this.g,vr.$.N.call(this)},Wt(br,In),Wt(wr,Pn),Wt(xr,mr),xr.prototype.Ba=function(){je(this.g,"a")},xr.prototype.Aa=function(t){je(this.g,new br(t))},xr.prototype.za=function(t){je(this.g,new wr)},xr.prototype.ya=function(){je(this.g,"b")},Wt(_r,(function(){this.blockSize=-1})),_r.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},_r.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=n;)Sr(this,t,o),o+=this.blockSize;if("string"===typeof t){for(;o<e;)if(i[r++]=t.charCodeAt(o++),r==this.blockSize){Sr(this,i),r=0;break}}else for(;o<e;)if(i[r++]=t[o++],r==this.blockSize){Sr(this,i),r=0;break}}this.h=r,this.i+=e},_r.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};var Er={};function Cr(t){return-128<=t&&128>t?function(t,e){var n=Er;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(t){return new kr([0|t],0>t?-1:0)})):new kr([0|t],0>t?-1:0)}function Tr(t){if(isNaN(t)||!isFinite(t))return Pr;if(0>t)return Or(Tr(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=Ir;return new kr(e,0)}var Ir=4294967296,Pr=Cr(0),Mr=Cr(1),Dr=Cr(16777216);function Rr(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Ar(t){return-1==t.h}function Or(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new kr(n,~t.h).add(Mr)}function Nr(t,e){return t.add(Or(e))}function Lr(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Fr(t,e){this.g=t,this.h=e}function zr(t,e){if(Rr(e))throw Error("division by zero");if(Rr(t))return new Fr(Pr,Pr);if(Ar(t))return e=zr(Or(t),e),new Fr(Or(e.g),Or(e.h));if(Ar(e))return e=zr(t,Or(e)),new Fr(Or(e.g),e.h);if(30<t.g.length){if(Ar(t)||Ar(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Mr,i=e;0>=i.X(t);)n=Br(n),i=Br(i);var r=Vr(n,1),o=Vr(i,1);for(i=Vr(i,2),n=Vr(n,2);!Rr(i);){var s=o.add(i);0>=s.X(t)&&(r=r.add(n),o=s),i=Vr(i,1),n=Vr(n,1)}return e=Nr(t,r.R(e)),new Fr(r,e)}for(r=Pr;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,i-48),s=(o=Tr(n)).R(e);Ar(s)||0<s.X(t);)s=(o=Tr(n-=i)).R(e);Rr(o)&&(o=Mr),r=r.add(o),t=Nr(t,s)}return new Fr(r,t)}function Br(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new kr(n,t.h)}function Vr(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],o=0;o<i;o++)r[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new kr(r,t.h)}(Dt=kr.prototype).ea=function(){if(Ar(this))return-Or(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:Ir+i)*e,e*=Ir}return t},Dt.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Rr(this))return"0";if(Ar(this))return"-"+Or(this).toString(t);for(var e=Tr(Math.pow(t,6)),n=this,i="";;){var r=zr(n,e).g,o=((0<(n=Nr(n,r.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Rr(n=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},Dt.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},Dt.X=function(t){return Ar(t=Nr(this,t))?-1:Rr(t)?0:1},Dt.abs=function(){return Ar(this)?Or(this):this},Dt.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&t.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=s>>>16,o&=65535,s&=65535,n[r]=s<<16|o}return new kr(n,-2147483648&n[n.length-1]?-1:0)},Dt.R=function(t){if(Rr(this)||Rr(t))return Pr;if(Ar(this))return Ar(t)?Or(this).R(Or(t)):Or(Or(this).R(t));if(Ar(t))return Or(this.R(Or(t)));if(0>this.X(Dr)&&0>t.X(Dr))return Tr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=t.D(r)>>>16,l=65535&t.D(r);n[2*i+2*r]+=s*l,Lr(n,2*i+2*r),n[2*i+2*r+1]+=o*l,Lr(n,2*i+2*r+1),n[2*i+2*r+1]+=s*a,Lr(n,2*i+2*r+1),n[2*i+2*r+2]+=o*a,Lr(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new kr(n,0)},Dt.gb=function(t){return zr(this,t).h},Dt.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new kr(n,this.h&t.h)},Dt.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new kr(n,this.h|t.h)},Dt.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new kr(n,this.h^t.h)},yr.prototype.createWebChannel=yr.prototype.g,vr.prototype.send=vr.prototype.u,vr.prototype.open=vr.prototype.m,vr.prototype.close=vr.prototype.close,xn.NO_ERROR=0,xn.TIMEOUT=8,xn.HTTP_ERROR=6,_n.COMPLETE="complete",En.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",Ve.prototype.listen=Ve.prototype.O,Fi.prototype.listenOnce=Fi.prototype.P,Fi.prototype.getLastError=Fi.prototype.Sa,Fi.prototype.getLastErrorCode=Fi.prototype.Ia,Fi.prototype.getStatus=Fi.prototype.da,Fi.prototype.getResponseJson=Fi.prototype.Wa,Fi.prototype.getResponseText=Fi.prototype.ja,Fi.prototype.send=Fi.prototype.ha,Fi.prototype.setWithCredentials=Fi.prototype.Oa,_r.prototype.digest=_r.prototype.l,_r.prototype.reset=_r.prototype.reset,_r.prototype.update=_r.prototype.j,kr.prototype.add=kr.prototype.add,kr.prototype.multiply=kr.prototype.R,kr.prototype.modulo=kr.prototype.gb,kr.prototype.compare=kr.prototype.X,kr.prototype.toNumber=kr.prototype.ea,kr.prototype.toString=kr.prototype.toString,kr.prototype.getBits=kr.prototype.D,kr.fromNumber=Tr,kr.fromString=function t(e,n){if(0==e.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return Or(t(e.substring(1),n));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=Tr(Math.pow(n,8)),r=Pr,o=0;o<e.length;o+=8){var s=Math.min(8,e.length-o),a=parseInt(e.substring(o,o+s),n);8>s?(s=Tr(Math.pow(n,s)),r=r.R(s).add(Tr(a))):r=(r=r.R(i)).add(Tr(a))}return r};var jr=At.createWebChannelTransport=function(){return new yr},Ur=At.getStatEventTarget=function(){return pn()},Hr=At.ErrorCode=xn,Wr=At.EventType=_n,Gr=At.Event=dn,qr=At.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Kr=(At.FetchXmlHttpFactory=Mi,At.WebChannel=En),Qr=At.XhrIo=Fi,Yr=At.Md5=_r,$r=At.Integer=kr;const Xr="@firebase/firestore";class Jr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Jr.UNAUTHENTICATED=new Jr(null),Jr.GOOGLE_CREDENTIALS=new Jr("google-credentials-uid"),Jr.FIRST_PARTY=new Jr("first-party-uid"),Jr.MOCK_USER=new Jr("mock-user");let Zr="10.9.0";const to=new z("@firebase/firestore");function eo(){return to.logLevel}function no(t){if(to.logLevel<=A.DEBUG){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r=n.map(oo);to.debug("Firestore (".concat(Zr,"): ").concat(t),...r)}}function io(t){if(to.logLevel<=A.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r=n.map(oo);to.error("Firestore (".concat(Zr,"): ").concat(t),...r)}}function ro(t){if(to.logLevel<=A.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r=n.map(oo);to.warn("Firestore (".concat(Zr,"): ").concat(t),...r)}}function oo(t){if("string"==typeof t)return t;try{return function(t){return JSON.stringify(t)}(t)}catch(e){return t}}function so(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const e="FIRESTORE (".concat(Zr,") INTERNAL ASSERTION FAILED: ")+t;throw io(e),new Error(e)}function ao(t,e){t||so()}function lo(t,e){return t}const co={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class uo extends y{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class ho{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class fo{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))}}class po{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Jr.UNAUTHENTICATED)))}shutdown(){}}class go{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class mo{constructor(t){this.t=t,this.currentUser=Jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const i=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let r=new ho;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new ho,t.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const e=r;t.enqueueRetryable((async()=>{await e.promise,await i(this.currentUser)}))},s=t=>{no("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((t=>s(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?s(t):(no("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new ho)}}),0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(no("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(ao("string"==typeof e.accessToken),new fo(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return ao(null===t||"string"==typeof t),new Jr(t)}}class yo{constructor(t,e,n){this.l=t,this.h=e,this.P=n,this.type="FirstParty",this.user=Jr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class vo{constructor(t,e,n){this.l=t,this.h=e,this.P=n}getToken(){return Promise.resolve(new yo(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable((()=>e(Jr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bo{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wo{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const n=t=>{null!=t.error&&no("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(t.error.message));const n=t.token!==this.R;return this.R=t.token,no("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const i=t=>{no("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.A.onInit((t=>i(t))),setTimeout((()=>{if(!this.appCheck){const t=this.A.getImmediate({optional:!0});t?i(t):no("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(ao("string"==typeof t.token),this.R=t.token,new bo(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function xo(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class _o{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(256/62);let n="";for(;n.length<20;){const i=xo(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%62))}return n}}function So(t,e){return t<e?-1:t>e?1:0}function ko(t,e,n){return t.length===e.length&&t.every(((t,i)=>n(t,e[i])))}class Eo{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new uo(co.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new uo(co.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new uo(co.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new uo(co.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Eo.fromMillis(Date.now())}static fromDate(t){return Eo.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new Eo(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?So(this.nanoseconds,t.nanoseconds):So(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Co{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Co(t)}static min(){return new Co(new Eo(0,0))}static max(){return new Co(new Eo(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class To{constructor(t,e,n){void 0===e?e=0:e>t.length&&so(),void 0===n?n=t.length-e:n>t.length-e&&so(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===To.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof To?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const n=t.get(i),r=e.get(i);if(n<r)return-1;if(n>r)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Io extends To{construct(t,e,n){return new Io(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const t=[];for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(const r of n){if(r.indexOf("//")>=0)throw new uo(co.INVALID_ARGUMENT,"Invalid segment (".concat(r,"). Paths must not contain // in them."));t.push(...r.split("/").filter((t=>t.length>0)))}return new Io(t)}static emptyPath(){return new Io([])}}const Po=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mo extends To{construct(t,e,n){return new Mo(t,e,n)}static isValidIdentifier(t){return Po.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mo.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Mo(["__name__"])}static fromServerFormat(t){const e=[];let n="",i=0;const r=()=>{if(0===n.length)throw new uo(co.INVALID_ARGUMENT,"Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));e.push(n),n=""};let o=!1;for(;i<t.length;){const e=t[i];if("\\"===e){if(i+1===t.length)throw new uo(co.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[i+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new uo(co.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,i+=2}else"`"===e?(o=!o,i++):"."!==e||o?(n+=e,i++):(r(),i++)}if(r(),o)throw new uo(co.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Mo(e)}static emptyPath(){return new Mo([])}}class Do{constructor(t){this.path=t}static fromPath(t){return new Do(Io.fromString(t))}static fromName(t){return new Do(Io.fromString(t).popFirst(5))}static empty(){return new Do(Io.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Io.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Io.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Do(new Io(t.slice()))}}class Ro{constructor(t,e,n,i){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=i}}Ro.UNKNOWN_ID=-1;function Ao(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Co.fromTimestamp(1e9===i?new Eo(n+1,0):new Eo(n,i));return new No(r,Do.empty(),e)}function Oo(t){return new No(t.readTime,t.key,-1)}class No{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new No(Co.min(),Do.empty(),-1)}static max(){return new No(Co.max(),Do.empty(),-1)}}function Lo(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Do.comparator(t.documentKey,e.documentKey),0!==n?n:So(t.largestBatchId,e.largestBatchId))}const Fo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Bo(t){if(t.code!==co.FAILED_PRECONDITION||t.message!==Fo)throw t;no("LocalStore","Unexpectedly lost primary lease")}class Vo{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&so(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Vo(((n,i)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,i)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,i)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Vo?e:Vo.resolve(e)}catch(t){return Vo.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Vo.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Vo.reject(e)}static resolve(t){return new Vo(((e,n)=>{e(t)}))}static reject(t){return new Vo(((e,n)=>{n(t)}))}static waitFor(t){return new Vo(((e,n)=>{let i=0,r=0,o=!1;t.forEach((t=>{++i,t.next((()=>{++r,o&&r===i&&e()}),(t=>n(t)))})),o=!0,r===i&&e()}))}static or(t){let e=Vo.resolve(!1);for(const n of t)e=e.next((t=>t?Vo.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,i)=>{n.push(e.call(this,t,i))})),this.waitFor(n)}static mapArray(t,e){return new Vo(((n,i)=>{const r=t.length,o=new Array(r);let s=0;for(let a=0;a<r;a++){const l=a;e(t[l]).next((t=>{o[l]=t,++s,s===r&&n(o)}),(t=>i(t)))}}))}static doWhile(t,e){return new Vo(((n,i)=>{const r=()=>{!0===t()?e().next((()=>{r()}),i):n()};r()}))}}class jo{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.V=new ho,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{e.error?this.V.reject(new Wo(t,e.error)):this.V.resolve()},this.transaction.onerror=e=>{const n=Yo(e.target.error);this.V.reject(new Wo(t,n))}}static open(t,e,n,i){try{return new jo(e,t.transaction(i,n))}catch(t){throw new Wo(e,t)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(no("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new qo(e)}}class Uo{constructor(t,e,n){this.name=t,this.version=e,this.p=n,12.2===Uo.S(f())&&io("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return no("SimpleDb","Removing database:",t),Ko(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!g())return!1;if(Uo.C())return!0;const t=f(),e=Uo.S(t),n=0<e&&e<10,i=Uo.v(t),r=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||n||r)}static C(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.F)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(t){return this.db||(no("SimpleDb","Opening database:",this.name),this.db=await new Promise(((e,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=t=>{const n=t.target.result;e(n)},i.onblocked=()=>{n(new Wo(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=e=>{const i=e.target.error;"VersionError"===i.name?n(new uo(co.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===i.name?n(new uo(co.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+i)):n(new Wo(t,i))},i.onupgradeneeded=t=>{no("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',t.oldVersion);const e=t.target.result;this.p.N(e,i.transaction,t.oldVersion,this.version).next((()=>{no("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.L&&(this.db.onversionchange=t=>this.L(t)),this.db}B(t){this.L=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,n,i){const r="readonly"===e;let o=0;for(;;){++o;try{this.db=await this.O(t);const e=jo.open(this.db,t,r?"readonly":"readwrite",n),o=i(e).next((t=>(e.g(),t))).catch((t=>(e.abort(t),Vo.reject(t)))).toPromise();return o.catch((()=>{})),await e.m,o}catch(t){const e=t,n="FirebaseError"!==e.name&&o<3;if(no("SimpleDb","Transaction failed with error:",e.message,"Retrying:",n),this.close(),!n)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Ho{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return Ko(this.k.delete())}}class Wo extends uo{constructor(t,e){super(co.UNAVAILABLE,"IndexedDB transaction '".concat(t,"' failed: ").concat(e)),this.name="IndexedDbTransactionError"}}function Go(t){return"IndexedDbTransactionError"===t.name}class qo{constructor(t){this.store=t}put(t,e){let n;return void 0!==e?(no("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(no("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ko(n)}add(t){return no("SimpleDb","ADD",this.store.name,t,t),Ko(this.store.add(t))}get(t){return Ko(this.store.get(t)).next((e=>(void 0===e&&(e=null),no("SimpleDb","GET",this.store.name,t,e),e)))}delete(t){return no("SimpleDb","DELETE",this.store.name,t),Ko(this.store.delete(t))}count(){return no("SimpleDb","COUNT",this.store.name),Ko(this.store.count())}W(t,e){const n=this.options(t,e),i=n.index?this.store.index(n.index):this.store;if("function"==typeof i.getAll){const t=i.getAll(n.range);return new Vo(((e,n)=>{t.onerror=t=>{n(t.target.error)},t.onsuccess=t=>{e(t.target.result)}}))}{const t=this.cursor(n),e=[];return this.G(t,((t,n)=>{e.push(n)})).next((()=>e))}}j(t,e){const n=this.store.getAll(t,null===e?void 0:e);return new Vo(((t,e)=>{n.onerror=t=>{e(t.target.error)},n.onsuccess=e=>{t(e.target.result)}}))}H(t,e){no("SimpleDb","DELETE ALL",this.store.name);const n=this.options(t,e);n.J=!1;const i=this.cursor(n);return this.G(i,((t,e,n)=>n.delete()))}Y(t,e){let n;e?n=t:(n={},e=t);const i=this.cursor(n);return this.G(i,e)}Z(t){const e=this.cursor({});return new Vo(((n,i)=>{e.onerror=t=>{const e=Yo(t.target.error);i(e)},e.onsuccess=e=>{const i=e.target.result;i?t(i.primaryKey,i.value).next((t=>{t?i.continue():n()})):n()}}))}G(t,e){const n=[];return new Vo(((i,r)=>{t.onerror=t=>{r(t.target.error)},t.onsuccess=t=>{const r=t.target.result;if(!r)return void i();const o=new Ho(r),s=e(r.primaryKey,r.value,o);if(s instanceof Vo){const t=s.catch((t=>(o.done(),Vo.reject(t))));n.push(t)}o.isDone?i():null===o.$?r.continue():r.continue(o.$)}})).next((()=>Vo.waitFor(n)))}options(t,e){let n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const n=this.store.index(t.index);return t.J?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Ko(t){return new Vo(((e,n)=>{t.onsuccess=t=>{const n=t.target.result;e(n)},t.onerror=t=>{const e=Yo(t.target.error);n(e)}}))}let Qo=!1;function Yo(t){const e=Uo.S(f());if(e>=12.2&&e<13){const e="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(e)>=0){const t=new uo("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(e,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Qo||(Qo=!0,setTimeout((()=>{throw t}),0)),t}}return t}class $o{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.se(t),this.oe=t=>e.writeSequenceNumber(t))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}function Xo(t){return null==t}function Jo(t){return 0===t&&1/t==-1/0}function Zo(t){return"number"==typeof t&&Number.isInteger(t)&&!Jo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}$o._e=-1;const ts=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],es=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ns=es;function is(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function rs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function os(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class ss{constructor(t,e){this.comparator=t,this.root=e||ls.EMPTY}insert(t,e){return new ss(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ls.BLACK,null,null))}remove(t){return new ss(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ls.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push("".concat(e,":").concat(n)),!1))),"{".concat(t.join(", "),"}")}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new as(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new as(this.root,t,this.comparator,!1)}getReverseIterator(){return new as(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new as(this.root,t,this.comparator,!0)}}class as{constructor(t,e,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=e?n(t.key,e):1,e&&i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ls{constructor(t,e,n,i,r){this.key=t,this.value=e,this.color=null!=n?n:ls.RED,this.left=null!=i?i:ls.EMPTY,this.right=null!=r?r:ls.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,i,r){return new ls(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const r=n(t,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ls.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return ls.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ls.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ls.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw so();if(this.right.isRed())throw so();const t=this.left.check();if(t!==this.right.check())throw so();return t+(this.isRed()?0:1)}}ls.EMPTY=null,ls.RED=!0,ls.BLACK=!1,ls.EMPTY=new class{constructor(){this.size=0}get key(){throw so()}get value(){throw so()}get color(){throw so()}get left(){throw so()}get right(){throw so()}copy(t,e,n,i,r){return this}insert(t,e,n){return new ls(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cs{constructor(t){this.comparator=t,this.data=new ss(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new us(this.data.getIterator())}getIteratorFrom(t){return new us(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof cs))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(t,i))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new cs(this.comparator);return e.data=t,e}}class us{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class hs{constructor(t){this.fields=t,t.sort(Mo.comparator)}static empty(){return new hs([])}unionWith(t){let e=new cs(Mo.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new hs(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return ko(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}class ds extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fs{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new ds("Invalid base64 string: "+t):t}}(t);return new fs(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new fs(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return So(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}fs.EMPTY_BYTE_STRING=new fs("");const ps=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gs(t){if(ao(!!t),"string"==typeof t){let e=0;const n=ps.exec(t);if(ao(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ms(t.seconds),nanos:ms(t.nanos)}}function ms(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ys(t){return"string"==typeof t?fs.fromBase64String(t):fs.fromUint8Array(t)}function vs(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function bs(t){const e=t.mapValue.fields.__previous_value__;return vs(e)?bs(e):e}function ws(t){const e=gs(t.mapValue.fields.__local_write_time__.timestampValue);return new Eo(e.seconds,e.nanos)}class xs{constructor(t,e,n,i,r,o,s,a,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class _s{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new _s("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof _s&&t.projectId===this.projectId&&t.database===this.database}}const Ss={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ks(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vs(t)?4:Fs(t)?9007199254740991:10:so()}function Es(t,e){if(t===e)return!0;const n=ks(t);if(n!==ks(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ws(t).isEqual(ws(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=gs(t.timestampValue),i=gs(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ys(t.bytesValue).isEqual(ys(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ms(t.geoPointValue.latitude)===ms(e.geoPointValue.latitude)&&ms(t.geoPointValue.longitude)===ms(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ms(t.integerValue)===ms(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=ms(t.doubleValue),i=ms(e.doubleValue);return n===i?Jo(n)===Jo(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return ko(t.arrayValue.values||[],e.arrayValue.values||[],Es);case 10:return function(t,e){const n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(is(n)!==is(i))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!Es(n[r],i[r])))return!1;return!0}(t,e);default:return so()}}function Cs(t,e){return void 0!==(t.values||[]).find((t=>Es(t,e)))}function Ts(t,e){if(t===e)return 0;const n=ks(t),i=ks(e);if(n!==i)return So(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return So(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=ms(t.integerValue||t.doubleValue),i=ms(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return Is(t.timestampValue,e.timestampValue);case 4:return Is(ws(t),ws(e));case 5:return So(t.stringValue,e.stringValue);case 6:return function(t,e){const n=ys(t),i=ys(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),i=e.split("/");for(let r=0;r<n.length&&r<i.length;r++){const t=So(n[r],i[r]);if(0!==t)return t}return So(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=So(ms(t.latitude),ms(e.latitude));return 0!==n?n:So(ms(t.longitude),ms(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const t=Ts(n[r],i[r]);if(t)return t}return So(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){if(t===Ss.mapValue&&e===Ss.mapValue)return 0;if(t===Ss.mapValue)return 1;if(e===Ss.mapValue)return-1;const n=t.fields||{},i=Object.keys(n),r=e.fields||{},o=Object.keys(r);i.sort(),o.sort();for(let s=0;s<i.length&&s<o.length;++s){const t=So(i[s],o[s]);if(0!==t)return t;const e=Ts(n[i[s]],r[o[s]]);if(0!==e)return e}return So(i.length,o.length)}(t.mapValue,e.mapValue);default:throw so()}}function Is(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return So(t,e);const n=gs(t),i=gs(e),r=So(n.seconds,i.seconds);return 0!==r?r:So(n.nanos,i.nanos)}function Ps(t){return Ms(t)}function Ms(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=gs(t);return"time(".concat(e.seconds,",").concat(e.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(t){return ys(t).toBase64()}(t.bytesValue):"referenceValue"in t?function(t){return Do.fromName(t).toString()}(t.referenceValue):"geoPointValue"in t?function(t){return"geo(".concat(t.latitude,",").concat(t.longitude,")")}(t.geoPointValue):"arrayValue"in t?function(t){let e="[",n=!0;for(const i of t.values||[])n?n=!1:e+=",",e+=Ms(i);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",i=!0;for(const r of e)i?i=!1:n+=",",n+="".concat(r,":").concat(Ms(t.fields[r]));return n+"}"}(t.mapValue):so()}function Ds(t){return!!t&&"integerValue"in t}function Rs(t){return!!t&&"arrayValue"in t}function As(t){return!!t&&"nullValue"in t}function Os(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ns(t){return!!t&&"mapValue"in t}function Ls(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return rs(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Ls(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ls(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Fs(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class zs{constructor(t){this.value=t}static empty(){return new zs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!Ns(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ls(e)}setAll(t){let e=Mo.emptyPath(),n={},i=[];t.forEach(((t,r)=>{if(!e.isImmediateParentOf(r)){const t=this.getFieldsMap(e);this.applyChanges(t,n,i),n={},i=[],e=r.popLast()}t?n[r.lastSegment()]=Ls(t):i.push(r.lastSegment())}));const r=this.getFieldsMap(e);this.applyChanges(r,n,i)}delete(t){const e=this.field(t.popLast());Ns(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Es(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=e.mapValue.fields[t.get(n)];Ns(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,n){rs(e,((e,n)=>t[e]=n));for(const i of n)delete t[i]}clone(){return new zs(Ls(this.value))}}function Bs(t){const e=[];return rs(t.fields,((t,n)=>{const i=new Mo([t]);if(Ns(n)){const t=Bs(n.mapValue).fields;if(0===t.length)e.push(i);else for(const n of t)e.push(i.child(n))}else e.push(i)})),new hs(e)}class Vs{constructor(t,e,n,i,r,o,s){this.key=t,this.documentType=e,this.version=n,this.readTime=i,this.createTime=r,this.data=o,this.documentState=s}static newInvalidDocument(t){return new Vs(t,0,Co.min(),Co.min(),Co.min(),zs.empty(),0)}static newFoundDocument(t,e,n,i){return new Vs(t,1,e,Co.min(),n,i,0)}static newNoDocument(t,e){return new Vs(t,2,e,Co.min(),Co.min(),zs.empty(),0)}static newUnknownDocument(t,e){return new Vs(t,3,e,Co.min(),Co.min(),zs.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Co.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=zs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=zs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Co.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Vs&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Vs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class js{constructor(t,e){this.position=t,this.inclusive=e}}function Us(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const o=e[r],s=t.position[r];if(i=o.field.isKeyField()?Do.comparator(Do.fromName(s.referenceValue),n.key):Ts(s,n.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function Hs(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Es(t.position[n],e.position[n]))return!1;return!0}class Ws{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=t,this.dir=e}}function Gs(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class qs{}class Ks extends qs{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new ea(t,e,n):"array-contains"===e?new oa(t,n):"in"===e?new sa(t,n):"not-in"===e?new aa(t,n):"array-contains-any"===e?new la(t,n):new Ks(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new na(t,n):new ia(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Ts(e,this.value)):null!==e&&ks(this.value)===ks(e)&&this.matchesComparison(Ts(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return so()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qs extends qs{constructor(t,e){super(),this.filters=t,this.op=e,this.ue=null}static create(t,e){return new Qs(t,e)}matches(t){return Ys(this)?void 0===this.filters.find((e=>!e.matches(t))):void 0!==this.filters.find((e=>e.matches(t)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ys(t){return"and"===t.op}function $s(t){return Xs(t)&&Ys(t)}function Xs(t){for(const e of t.filters)if(e instanceof Qs)return!1;return!0}function Js(t){if(t instanceof Ks)return t.field.canonicalString()+t.op.toString()+Ps(t.value);if($s(t))return t.filters.map((t=>Js(t))).join(",");{const e=t.filters.map((t=>Js(t))).join(",");return"".concat(t.op,"(").concat(e,")")}}function Zs(t,e){return t instanceof Ks?function(t,e){return e instanceof Ks&&t.op===e.op&&t.field.isEqual(e.field)&&Es(t.value,e.value)}(t,e):t instanceof Qs?function(t,e){return e instanceof Qs&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce(((t,n,i)=>t&&Zs(n,e.filters[i])),!0)}(t,e):void so()}function ta(t){return t instanceof Ks?function(t){return"".concat(t.field.canonicalString()," ").concat(t.op," ").concat(Ps(t.value))}(t):t instanceof Qs?function(t){return t.op.toString()+" {"+t.getFilters().map(ta).join(" ,")+"}"}(t):"Filter"}class ea extends Ks{constructor(t,e,n){super(t,e,n),this.key=Do.fromName(n.referenceValue)}matches(t){const e=Do.comparator(t.key,this.key);return this.matchesComparison(e)}}class na extends Ks{constructor(t,e){super(t,"in",e),this.keys=ra("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class ia extends Ks{constructor(t,e){super(t,"not-in",e),this.keys=ra("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function ra(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>Do.fromName(t.referenceValue)))}class oa extends Ks{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Rs(e)&&Cs(e.arrayValue,this.value)}}class sa extends Ks{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Cs(this.value.arrayValue,e)}}class aa extends Ks{constructor(t,e){super(t,"not-in",e)}matches(t){if(Cs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Cs(this.value.arrayValue,e)}}class la extends Ks{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Rs(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>Cs(this.value.arrayValue,t)))}}class ca{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=o,this.endAt=s,this.ce=null}}function ua(t){return new ca(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ha(t){const e=lo(t);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>Js(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),Xo(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>Ps(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>Ps(t))).join(",")),e.ce=t}return e.ce}function da(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Gs(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Zs(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Hs(t.startAt,e.startAt)&&Hs(t.endAt,e.endAt)}function fa(t){return Do.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class pa{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=o,this.startAt=s,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function ga(t,e,n,i,r,o,s,a){return new pa(t,e,n,i,r,o,s,a)}function ma(t){return new pa(t)}function ya(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function va(t){return null!==t.collectionGroup}function ba(t){const e=lo(t);if(null===e.le){e.le=[];const t=new Set;for(const r of e.explicitOrderBy)e.le.push(r),t.add(r.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc",i=function(t){let e=new cs(Mo.comparator);return t.filters.forEach((t=>{t.getFlattenedFilters().forEach((t=>{t.isInequality()&&(e=e.add(t.field))}))})),e}(e);i.forEach((i=>{t.has(i.canonicalString())||i.isKeyField()||e.le.push(new Ws(i,n))})),t.has(Mo.keyField().canonicalString())||e.le.push(new Ws(Mo.keyField(),n))}return e.le}function wa(t){const e=lo(t);return e.he||(e.he=xa(e,ba(t))),e.he}function xa(t,e){if("F"===t.limitType)return ua(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((t=>{const e="desc"===t.dir?"asc":"desc";return new Ws(t.field,e)}));const n=t.endAt?new js(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new js(t.startAt.position,t.startAt.inclusive):null;return ua(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function _a(t,e,n){return new pa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sa(t,e){return da(wa(t),wa(e))&&t.limitType===e.limitType}function ka(t){return"".concat(ha(wa(t)),"|lt:").concat(t.limitType)}function Ea(t){return"Query(target=".concat(function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: [".concat(t.filters.map((t=>ta(t))).join(", "),"]")),Xo(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: [".concat(t.orderBy.map((t=>function(t){return"".concat(t.field.canonicalString()," (").concat(t.dir,")")}(t))).join(", "),"]")),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>Ps(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>Ps(t))).join(",")),"Target(".concat(e,")")}(wa(t)),"; limitType=").concat(t.limitType,")")}function Ca(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Do.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of ba(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const i=Us(t,e,n);return t.inclusive?i<=0:i<0}(t.startAt,ba(t),e))&&!(t.endAt&&!function(t,e,n){const i=Us(t,e,n);return t.inclusive?i>=0:i>0}(t.endAt,ba(t),e))}(t,e)}function Ta(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ia(t){return(e,n)=>{let i=!1;for(const r of ba(t)){const t=Pa(r,e,n);if(0!==t)return t;i=i||r.field.isKeyField()}return 0}}function Pa(t,e,n){const i=t.field.isKeyField()?Do.comparator(e.key,n.key):function(t,e,n){const i=e.data.field(t),r=n.data.field(t);return null!==i&&null!==r?Ts(i,r):so()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return so()}}class Ma{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[i,r]of n)if(this.equalsFn(i,t))return r}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),i=this.inner[n];if(void 0===i)return this.inner[n]=[[t,e]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){rs(this.inner,((e,n)=>{for(const[i,r]of n)t(i,r)}))}isEmpty(){return os(this.inner)}size(){return this.innerSize}}const Da=new ss(Do.comparator);function Ra(){return Da}const Aa=new ss(Do.comparator);function Oa(){let t=Aa;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(const r of n)t=t.insert(r.key,r);return t}function Na(t){let e=Aa;return t.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function La(){return za()}function Fa(){return za()}function za(){return new Ma((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Ba=new ss(Do.comparator),Va=new cs(Do.comparator);function ja(){let t=Va;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(const r of n)t=t.add(r);return t}const Ua=new cs(So);function Ha(){return Ua}function Wa(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jo(e)?"-0":e}}function Ga(t){return{integerValue:""+t}}function qa(t,e){return Zo(e)?Ga(e):Wa(t,e)}class Ka{constructor(){this._=void 0}}function Qa(t,e,n){return t instanceof Xa?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&vs(e)&&(e=bs(e)),e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ja?Za(t,e):t instanceof tl?el(t,e):function(t,e){const n=$a(t,e),i=il(n)+il(t.Ie);return Ds(n)&&Ds(t.Ie)?Ga(i):Wa(t.serializer,i)}(t,e)}function Ya(t,e,n){return t instanceof Ja?Za(t,e):t instanceof tl?el(t,e):n}function $a(t,e){return t instanceof nl?function(t){return Ds(t)||function(t){return!!t&&"doubleValue"in t}(t)}(e)?e:{integerValue:0}:null}class Xa extends Ka{}class Ja extends Ka{constructor(t){super(),this.elements=t}}function Za(t,e){const n=rl(e);for(const i of t.elements)n.some((t=>Es(t,i)))||n.push(i);return{arrayValue:{values:n}}}class tl extends Ka{constructor(t){super(),this.elements=t}}function el(t,e){let n=rl(e);for(const i of t.elements)n=n.filter((t=>!Es(t,i)));return{arrayValue:{values:n}}}class nl extends Ka{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function il(t){return ms(t.integerValue||t.doubleValue)}function rl(t){return Rs(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class ol{constructor(t,e){this.version=t,this.transformResults=e}}class sl{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new sl}static exists(t){return new sl(void 0,t)}static updateTime(t){return new sl(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function al(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class ll{}function cl(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new bl(t.key,sl.none()):new pl(t.key,t.data,sl.none());{const n=t.data,i=zs.empty();let r=new cs(Mo.comparator);for(let t of e.fields)if(!r.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?i.delete(t):i.set(t,e),r=r.add(t)}return new gl(t.key,i,new hs(r.toArray()),sl.none())}}function ul(t,e,n){t instanceof pl?function(t,e,n){const i=t.value.clone(),r=yl(t.fieldTransforms,e,n.transformResults);i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):t instanceof gl?function(t,e,n){if(!al(t.precondition,e))return void e.convertToUnknownDocument(n.version);const i=yl(t.fieldTransforms,e,n.transformResults),r=e.data;r.setAll(ml(t)),r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function hl(t,e,n,i){return t instanceof pl?function(t,e,n,i){if(!al(t.precondition,e))return n;const r=t.value.clone(),o=vl(t.fieldTransforms,i,e);return r.setAll(o),e.convertToFoundDocument(e.version,r).setHasLocalMutations(),null}(t,e,n,i):t instanceof gl?function(t,e,n,i){if(!al(t.precondition,e))return n;const r=vl(t.fieldTransforms,i,e),o=e.data;return o.setAll(ml(t)),o.setAll(r),e.convertToFoundDocument(e.version,o).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,n,i):function(t,e,n){return al(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function dl(t,e){let n=null;for(const i of t.fieldTransforms){const t=e.data.field(i.field),r=$a(i.transform,t||null);null!=r&&(null===n&&(n=zs.empty()),n.set(i.field,r))}return n||null}function fl(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&ko(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ja&&e instanceof Ja||t instanceof tl&&e instanceof tl?ko(t.elements,e.elements,Es):t instanceof nl&&e instanceof nl?Es(t.Ie,e.Ie):t instanceof Xa&&e instanceof Xa}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pl extends ll{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gl extends ll{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function ml(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function yl(t,e,n){const i=new Map;ao(t.length===n.length);for(let r=0;r<n.length;r++){const o=t[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,Ya(s,a,n[r]))}return i}function vl(t,e,n){const i=new Map;for(const r of t){const t=r.transform,o=n.data.field(r.field);i.set(r.field,Qa(t,o,e))}return i}class bl extends ll{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wl extends ll{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xl{constructor(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const e=this.mutations[i];e.key.isEqual(t.key)&&ul(e,t,n[i])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=hl(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=hl(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=Fa();return this.mutations.forEach((i=>{const r=t.get(i.key),o=r.overlayedDocument;let s=this.applyToLocalView(o,r.mutatedFields);s=e.has(i.key)?null:s;const a=cl(o,s);null!==a&&n.set(i.key,a),o.isValidDocument()||o.convertToNoDocument(Co.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),ja())}isEqual(t){return this.batchId===t.batchId&&ko(this.mutations,t.mutations,((t,e)=>fl(t,e)))&&ko(this.baseMutations,t.baseMutations,((t,e)=>fl(t,e)))}}class _l{constructor(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}static from(t,e,n){ao(t.mutations.length===n.length);let i=Ba;const r=t.mutations;for(let o=0;o<r.length;o++)i=i.insert(r[o].key,n[o].version);return new _l(t,e,n,i)}}class Sl{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class kl{constructor(t,e){this.count=t,this.unchangedNames=e}}var El,Cl;function Tl(t){switch(t){default:return so();case co.CANCELLED:case co.UNKNOWN:case co.DEADLINE_EXCEEDED:case co.RESOURCE_EXHAUSTED:case co.INTERNAL:case co.UNAVAILABLE:case co.UNAUTHENTICATED:return!1;case co.INVALID_ARGUMENT:case co.NOT_FOUND:case co.ALREADY_EXISTS:case co.PERMISSION_DENIED:case co.FAILED_PRECONDITION:case co.ABORTED:case co.OUT_OF_RANGE:case co.UNIMPLEMENTED:case co.DATA_LOSS:return!0}}function Il(t){if(void 0===t)return io("GRPC error has no .code"),co.UNKNOWN;switch(t){case El.OK:return co.OK;case El.CANCELLED:return co.CANCELLED;case El.UNKNOWN:return co.UNKNOWN;case El.DEADLINE_EXCEEDED:return co.DEADLINE_EXCEEDED;case El.RESOURCE_EXHAUSTED:return co.RESOURCE_EXHAUSTED;case El.INTERNAL:return co.INTERNAL;case El.UNAVAILABLE:return co.UNAVAILABLE;case El.UNAUTHENTICATED:return co.UNAUTHENTICATED;case El.INVALID_ARGUMENT:return co.INVALID_ARGUMENT;case El.NOT_FOUND:return co.NOT_FOUND;case El.ALREADY_EXISTS:return co.ALREADY_EXISTS;case El.PERMISSION_DENIED:return co.PERMISSION_DENIED;case El.FAILED_PRECONDITION:return co.FAILED_PRECONDITION;case El.ABORTED:return co.ABORTED;case El.OUT_OF_RANGE:return co.OUT_OF_RANGE;case El.UNIMPLEMENTED:return co.UNIMPLEMENTED;case El.DATA_LOSS:return co.DATA_LOSS;default:return so()}}(Cl=El||(El={}))[Cl.OK=0]="OK",Cl[Cl.CANCELLED=1]="CANCELLED",Cl[Cl.UNKNOWN=2]="UNKNOWN",Cl[Cl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cl[Cl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cl[Cl.NOT_FOUND=5]="NOT_FOUND",Cl[Cl.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cl[Cl.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cl[Cl.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cl[Cl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cl[Cl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cl[Cl.ABORTED=10]="ABORTED",Cl[Cl.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cl[Cl.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cl[Cl.INTERNAL=13]="INTERNAL",Cl[Cl.UNAVAILABLE=14]="UNAVAILABLE",Cl[Cl.DATA_LOSS=15]="DATA_LOSS";let Pl=null;function Ml(){return new TextEncoder}const Dl=new $r([4294967295,4294967295],0);function Rl(t){const e=Ml().encode(t),n=new Yr;return n.update(e),new Uint8Array(n.digest())}function Al(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new $r([n,i],0),new $r([r,o],0)]}class Ol{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new Nl("Invalid padding: ".concat(e));if(n<0)throw new Nl("Invalid hash count: ".concat(n));if(t.length>0&&0===this.hashCount)throw new Nl("Invalid hash count: ".concat(n));if(0===t.length&&0!==e)throw new Nl("Invalid padding when bitmap length is 0: ".concat(e));this.Te=8*t.length-e,this.Ee=$r.fromNumber(this.Te)}de(t,e,n){let i=t.add(e.multiply($r.fromNumber(n)));return 1===i.compare(Dl)&&(i=new $r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=Rl(t),[n,i]=Al(e);for(let r=0;r<this.hashCount;r++){const t=this.de(n,i,r);if(!this.Ae(t))return!1}return!0}static create(t,e,n){const i=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),o=new Ol(r,i,e);return n.forEach((t=>o.insert(t))),o}insert(t){if(0===this.Te)return;const e=Rl(t),[n,i]=Al(e);for(let r=0;r<this.hashCount;r++){const t=this.de(n,i,r);this.Re(t)}}Re(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ll{constructor(t,e,n,i,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const i=new Map;return i.set(t,Fl.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new Ll(Co.min(),i,new ss(So),Ra(),ja())}}class Fl{constructor(t,e,n,i,r){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new Fl(n,e,ja(),ja(),ja())}}class zl{constructor(t,e,n,i){this.Ve=t,this.removedTargetIds=e,this.key=n,this.me=i}}class Bl{constructor(t,e){this.targetId=t,this.fe=e}}class Vl{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fs.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i}}class jl{constructor(){this.ge=0,this.pe=Wl(),this.ye=fs.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=ja(),e=ja(),n=ja();return this.pe.forEach(((i,r)=>{switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:so()}})),new Fl(this.ye,this.we,t,e,n)}Fe(){this.Se=!1,this.pe=Wl()}Me(t,e){this.Se=!0,this.pe=this.pe.insert(t,e)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,ao(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class Ul{constructor(t){this.Be=t,this.ke=new Map,this.qe=Ra(),this.Qe=Hl(),this.Ke=new ss(So)}$e(t){for(const e of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(e,t.me):this.We(e,t.key,t.me);for(const e of t.removedTargetIds)this.We(e,t.key,t.me)}Ge(t){this.forEachTarget(t,(e=>{const n=this.ze(e);switch(t.state){case 0:this.je(e)&&n.Ce(t.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(t.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(e);break;case 3:this.je(e)&&(n.Le(),n.Ce(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),n.Ce(t.resumeToken));break;default:so()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ke.forEach(((t,n)=>{this.je(n)&&e(n)}))}Je(t){const e=t.targetId,n=t.fe.count,i=this.Ye(e);if(i){const r=i.target;if(fa(r))if(0===n){const t=new Do(r.path);this.We(e,t,Vs.newNoDocument(t,Co.min()))}else ao(1===n);else{const i=this.Ze(e);if(i!==n){const n=this.Xe(t),r=n?this.et(n,t,i):1;if(0!==r){this.He(e);const t=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(e,t)}null==Pl||Pl.tt(function(t,e,n,i,r){var o,s,a,l,c,u;const h={localCacheCount:t,existenceFilterCount:e.count,databaseId:n.database,projectId:n.projectId},d=e.unchangedNames;return d&&(h.bloomFilter={applied:0===r,hashCount:null!==(o=null==d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==d?void 0:d.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:t=>{var e;return null!==(e=null==i?void 0:i.mightContain(t))&&void 0!==e&&e}}),h}(i,t.fe,this.Be.nt(),n,r))}}}}Xe(t){const e=t.fe.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:r=0}=e;let o,s;try{o=ys(n).toUint8Array()}catch(t){if(t instanceof ds)return ro("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw t}try{s=new Ol(o,i,r)}catch(t){return ro(t instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",t),null}return 0===s.Te?null:s}et(t,e,n){return e.fe.count===n-this.rt(t,e.targetId)?0:2}rt(t,e){const n=this.Be.getRemoteKeysForTarget(e);let i=0;return n.forEach((n=>{const r=this.Be.nt(),o="projects/".concat(r.projectId,"/databases/").concat(r.database,"/documents/").concat(n.path.canonicalString());t.mightContain(o)||(this.We(e,n,null),i++)})),i}it(t){const e=new Map;this.ke.forEach(((n,i)=>{const r=this.Ye(i);if(r){if(n.current&&fa(r.target)){const e=new Do(r.target.path);null!==this.qe.get(e)||this.st(i,e)||this.We(i,e,Vs.newNoDocument(e,t))}n.De&&(e.set(i,n.ve()),n.Fe())}}));let n=ja();this.Qe.forEach(((t,e)=>{let i=!0;e.forEachWhile((t=>{const e=this.Ye(t);return!e||"TargetPurposeLimboResolution"===e.purpose||(i=!1,!1)})),i&&(n=n.add(t))})),this.qe.forEach(((e,n)=>n.setReadTime(t)));const i=new Ll(t,e,this.Ke,this.qe,n);return this.qe=Ra(),this.Qe=Hl(),this.Ke=new ss(So),i}Ue(t,e){if(!this.je(t))return;const n=this.st(t,e.key)?2:0;this.ze(t).Me(e.key,n),this.qe=this.qe.insert(e.key,e),this.Qe=this.Qe.insert(e.key,this.ot(e.key).add(t))}We(t,e,n){if(!this.je(t))return;const i=this.ze(t);this.st(t,e)?i.Me(e,1):i.xe(e),this.Qe=this.Qe.insert(e,this.ot(e).delete(t)),n&&(this.qe=this.qe.insert(e,n))}removeTarget(t){this.ke.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Be.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let e=this.ke.get(t);return e||(e=new jl,this.ke.set(t,e)),e}ot(t){let e=this.Qe.get(t);return e||(e=new cs(So),this.Qe=this.Qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||no("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.ke.get(t);return e&&e.be?null:this.Be._t(t)}He(t){this.ke.set(t,new jl),this.Be.getRemoteKeysForTarget(t).forEach((e=>{this.We(t,e,null)}))}st(t,e){return this.Be.getRemoteKeysForTarget(t).has(e)}}function Hl(){return new ss(Do.comparator)}function Wl(){return new ss(Do.comparator)}const Gl={asc:"ASCENDING",desc:"DESCENDING"},ql={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kl={and:"AND",or:"OR"};class Ql{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Yl(t,e){return t.useProto3Json||Xo(e)?e:{value:e}}function $l(t,e){return t.useProto3Json?"".concat(new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+e.nanoseconds).slice(-9),"Z"):{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xl(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Jl(t,e){return $l(t,e.toTimestamp())}function Zl(t){return ao(!!t),Co.fromTimestamp(function(t){const e=gs(t);return new Eo(e.seconds,e.nanos)}(t))}function tc(t,e){return ec(t,e).canonicalString()}function ec(t,e){const n=function(t){return new Io(["projects",t.projectId,"databases",t.database])}(t).child("documents");return void 0===e?n:n.child(e)}function nc(t){const e=Io.fromString(t);return ao(_c(e)),e}function ic(t,e){return tc(t.databaseId,e.path)}function rc(t,e){const n=nc(e);if(n.get(1)!==t.databaseId.projectId)throw new uo(co.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new uo(co.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Do(lc(n))}function oc(t,e){return tc(t.databaseId,e)}function sc(t){const e=nc(t);return 4===e.length?Io.emptyPath():lc(e)}function ac(t){return new Io(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lc(t){return ao(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function cc(t,e,n){return{name:ic(t,e),fields:n.value.mapValue.fields}}function uc(t,e){let n;if(e instanceof pl)n={update:cc(t,e.key,e.value)};else if(e instanceof bl)n={delete:ic(t,e.key)};else if(e instanceof gl)n={update:cc(t,e.key,e.data),updateMask:xc(e.fieldMask)};else{if(!(e instanceof wl))return so();n={verify:ic(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof Xa)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ja)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof tl)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof nl)return{fieldPath:e.field.canonicalString(),increment:n.Ie};throw so()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Jl(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:so()}(t,e.precondition)),n}function hc(t,e){return{documents:[oc(t,e.path)]}}function dc(t,e){const n={structuredQuery:{}},i=e.path;let r;null!==e.collectionGroup?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=oc(t,r);const o=function(t){if(0!==t.length)return wc(Qs.create(t,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:vc(t.field),direction:gc(t.dir)}}(t)))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Yl(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(t){return{before:t.inclusive,values:t.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),{ut:n,parent:r}}function fc(t){let e=sc(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){ao(1===i);const t=n.from[0];t.allDescendants?r=t.collectionId:e=e.child(t.collectionId)}let o=[];n.where&&(o=function(t){const e=pc(t);return e instanceof Qs&&$s(e)?e.getFilters():[e]}(n.where));let s=[];n.orderBy&&(s=function(t){return t.map((t=>function(t){return new Ws(bc(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)))}(n.orderBy));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,Xo(e)?null:e}(n.limit));let l=null;n.startAt&&(l=function(t){const e=!!t.before,n=t.values||[];return new js(n,e)}(n.startAt));let c=null;return n.endAt&&(c=function(t){const e=!t.before,n=t.values||[];return new js(n,e)}(n.endAt)),ga(e,r,s,o,a,"F",l,c)}function pc(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=bc(t.unaryFilter.field);return Ks.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=bc(t.unaryFilter.field);return Ks.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=bc(t.unaryFilter.field);return Ks.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=bc(t.unaryFilter.field);return Ks.create(r,"!=",{nullValue:"NULL_VALUE"});default:return so()}}(t):void 0!==t.fieldFilter?function(t){return Ks.create(bc(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return so()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return Qs.create(t.compositeFilter.filters.map((t=>pc(t))),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return so()}}(t.compositeFilter.op))}(t):so()}function gc(t){return Gl[t]}function mc(t){return ql[t]}function yc(t){return Kl[t]}function vc(t){return{fieldPath:t.canonicalString()}}function bc(t){return Mo.fromServerFormat(t.fieldPath)}function wc(t){return t instanceof Ks?function(t){if("=="===t.op){if(Os(t.value))return{unaryFilter:{field:vc(t.field),op:"IS_NAN"}};if(As(t.value))return{unaryFilter:{field:vc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Os(t.value))return{unaryFilter:{field:vc(t.field),op:"IS_NOT_NAN"}};if(As(t.value))return{unaryFilter:{field:vc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vc(t.field),op:mc(t.op),value:t.value}}}(t):t instanceof Qs?function(t){const e=t.getFilters().map((t=>wc(t)));return 1===e.length?e[0]:{compositeFilter:{op:yc(t.op),filters:e}}}(t):so()}function xc(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function _c(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Sc{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Co.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Co.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:fs.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(t){return new Sc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Sc(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Sc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Sc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class kc{constructor(t){this.ct=t}}function Ec(t){const e=fc({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?_a(e,e.limit,"L"):e}class Cc{constructor(){}Pt(t,e){this.It(t,e),e.Tt()}It(t,e){if("nullValue"in t)this.Et(e,5);else if("booleanValue"in t)this.Et(e,10),e.dt(t.booleanValue?1:0);else if("integerValue"in t)this.Et(e,15),e.dt(ms(t.integerValue));else if("doubleValue"in t){const n=ms(t.doubleValue);isNaN(n)?this.Et(e,13):(this.Et(e,15),Jo(n)?e.dt(0):e.dt(n))}else if("timestampValue"in t){const n=t.timestampValue;this.Et(e,20),"string"==typeof n?e.At(n):(e.At("".concat(n.seconds||"")),e.dt(n.nanos||0))}else if("stringValue"in t)this.Rt(t.stringValue,e),this.Vt(e);else if("bytesValue"in t)this.Et(e,30),e.ft(ys(t.bytesValue)),this.Vt(e);else if("referenceValue"in t)this.gt(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.Et(e,45),e.dt(n.latitude||0),e.dt(n.longitude||0)}else"mapValue"in t?Fs(t)?this.Et(e,Number.MAX_SAFE_INTEGER):(this.yt(t.mapValue,e),this.Vt(e)):"arrayValue"in t?(this.wt(t.arrayValue,e),this.Vt(e)):so()}Rt(t,e){this.Et(e,25),this.St(t,e)}St(t,e){e.At(t)}yt(t,e){const n=t.fields||{};this.Et(e,55);for(const i of Object.keys(n))this.Rt(i,e),this.It(n[i],e)}wt(t,e){const n=t.values||[];this.Et(e,50);for(const i of n)this.It(i,e)}gt(t,e){this.Et(e,37),Do.fromName(t).path.forEach((t=>{this.Et(e,60),this.St(t,e)}))}Et(t,e){t.dt(e)}Vt(t){t.dt(2)}}Cc.bt=new Cc;class Tc{constructor(){this._n=new Ic}addToCollectionParentIndex(t,e){return this._n.add(e),Vo.resolve()}getCollectionParents(t,e){return Vo.resolve(this._n.getEntries(e))}addFieldIndex(t,e){return Vo.resolve()}deleteFieldIndex(t,e){return Vo.resolve()}deleteAllFieldIndexes(t){return Vo.resolve()}createTargetIndexes(t,e){return Vo.resolve()}getDocumentsMatchingTarget(t,e){return Vo.resolve(null)}getIndexType(t,e){return Vo.resolve(0)}getFieldIndexes(t,e){return Vo.resolve([])}getNextCollectionGroupToUpdate(t){return Vo.resolve(null)}getMinOffset(t,e){return Vo.resolve(No.min())}getMinOffsetFromCollectionGroup(t,e){return Vo.resolve(No.min())}updateCollectionGroup(t,e,n){return Vo.resolve()}updateIndexEntries(t,e){return Vo.resolve()}}class Ic{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new cs(Io.comparator),r=!i.has(n);return this.index[e]=i.add(n),r}has(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)}getEntries(t){return(this.index[t]||new cs(Io.comparator)).toArray()}}new Uint8Array(0);class Pc{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new Pc(t,Pc.DEFAULT_COLLECTION_PERCENTILE,Pc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Pc.DEFAULT_COLLECTION_PERCENTILE=10,Pc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pc.DEFAULT=new Pc(41943040,Pc.DEFAULT_COLLECTION_PERCENTILE,Pc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pc.DISABLED=new Pc(-1,0,0);class Mc{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new Mc(0)}static Ln(){return new Mc(-1)}}class Dc{constructor(){this.changes=new Ma((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Vs.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?Vo.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Rc{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Ac{constructor(t,e,n,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((i=>(n=i,this.remoteDocumentCache.getEntry(t,e)))).next((t=>(null!==n&&hl(n.mutation,t,hs.empty(),Eo.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,ja()).next((()=>e))))}getLocalViewOfDocuments(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ja();const i=La();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,n).next((t=>{let e=Oa();return t.forEach(((t,n)=>{e=e.insert(t,n.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const n=La();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,ja())))}populateOverlays(t,e,n){const i=[];return n.forEach((t=>{e.has(t)||i.push(t)})),this.documentOverlayCache.getOverlays(t,i).next((t=>{t.forEach(((t,n)=>{e.set(t,n)}))}))}computeViews(t,e,n,i){let r=Ra();const o=za(),s=za();return e.forEach(((t,e)=>{const s=n.get(e.key);i.has(e.key)&&(void 0===s||s.mutation instanceof gl)?r=r.insert(e.key,e):void 0!==s?(o.set(e.key,s.mutation.getFieldMask()),hl(s.mutation,e,s.mutation.getFieldMask(),Eo.now())):o.set(e.key,hs.empty())})),this.recalculateAndSaveOverlays(t,r).next((t=>(t.forEach(((t,e)=>o.set(t,e))),e.forEach(((t,e)=>{var n;return s.set(t,new Rc(e,null!==(n=o.get(t))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(t,e){const n=za();let i=new ss(((t,e)=>t-e)),r=ja();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const r of t)r.keys().forEach((t=>{const o=e.get(t);if(null===o)return;let s=n.get(t)||hs.empty();s=r.applyToLocalView(o,s),n.set(t,s);const a=(i.get(r.batchId)||ja()).add(t);i=i.insert(r.batchId,a)}))})).next((()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const i=s.getNext(),a=i.key,l=i.value,c=Fa();l.forEach((t=>{if(!r.has(t)){const i=cl(e.get(t),n.get(t));null!==i&&c.set(t,i),r=r.add(t)}})),o.push(this.documentOverlayCache.saveOverlays(t,a,c))}return Vo.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,n,i){return function(t){return Do.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):va(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,i):this.getDocumentsMatchingCollectionQuery(t,e,n,i)}getNextDocuments(t,e,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,i).next((r=>{const o=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,i-r.size):Vo.resolve(La());let s=-1,a=r;return o.next((e=>Vo.forEach(e,((e,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),r.get(e)?Vo.resolve():this.remoteDocumentCache.getEntry(t,e).next((t=>{a=a.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,r))).next((()=>this.computeViews(t,a,e,ja()))).next((t=>({batchId:s,changes:Na(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Do(e)).next((t=>{let e=Oa();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,n,i){const r=e.collectionGroup;let o=Oa();return this.indexManager.getCollectionParents(t,r).next((s=>Vo.forEach(s,(s=>{const a=function(t,e){return new pa(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(r));return this.getDocumentsMatchingCollectionQuery(t,a,n,i).next((t=>{t.forEach(((t,e)=>{o=o.insert(t,e)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(t,e,n,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,r,i)))).next((t=>{r.forEach(((e,n)=>{const i=n.getKey();null===t.get(i)&&(t=t.insert(i,Vs.newInvalidDocument(i)))}));let n=Oa();return t.forEach(((t,i)=>{const o=r.get(t);void 0!==o&&hl(o.mutation,i,hs.empty(),Eo.now()),Ca(e,i)&&(n=n.insert(t,i))})),n}))}}class Oc{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,e){return Vo.resolve(this.cr.get(e))}saveBundleMetadata(t,e){return this.cr.set(e.id,function(t){return{id:t.id,version:t.version,createTime:Zl(t.createTime)}}(e)),Vo.resolve()}getNamedQuery(t,e){return Vo.resolve(this.lr.get(e))}saveNamedQuery(t,e){return this.lr.set(e.name,function(t){return{name:t.name,query:Ec(t.bundledQuery),readTime:Zl(t.readTime)}}(e)),Vo.resolve()}}class Nc{constructor(){this.overlays=new ss(Do.comparator),this.hr=new Map}getOverlay(t,e){return Vo.resolve(this.overlays.get(e))}getOverlays(t,e){const n=La();return Vo.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((n,i)=>{this.ht(t,e,i)})),Vo.resolve()}removeOverlaysForBatchId(t,e,n){const i=this.hr.get(n);return void 0!==i&&(i.forEach((t=>this.overlays=this.overlays.remove(t))),this.hr.delete(n)),Vo.resolve()}getOverlaysForCollection(t,e,n){const i=La(),r=e.length+1,o=new Do(e.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const t=s.getNext().value,o=t.getKey();if(!e.isPrefixOf(o.path))break;o.path.length===r&&t.largestBatchId>n&&i.set(t.getKey(),t)}return Vo.resolve(i)}getOverlaysForCollectionGroup(t,e,n,i){let r=new ss(((t,e)=>t-e));const o=this.overlays.getIterator();for(;o.hasNext();){const t=o.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=r.get(t.largestBatchId);null===e&&(e=La(),r=r.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const s=La(),a=r.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((t,e)=>s.set(t,e))),!(s.size()>=i)););return Vo.resolve(s)}ht(t,e,n){const i=this.overlays.get(n.key);if(null!==i){const t=this.hr.get(i.largestBatchId).delete(n.key);this.hr.set(i.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new Sl(e,n));let r=this.hr.get(e);void 0===r&&(r=ja(),this.hr.set(e,r)),this.hr.set(e,r.add(n.key))}}class Lc{constructor(){this.Pr=new cs(Fc.Ir),this.Tr=new cs(Fc.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,e){const n=new Fc(t,e);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.Ar(new Fc(t,e))}Rr(t,e){t.forEach((t=>this.removeReference(t,e)))}Vr(t){const e=new Do(new Io([])),n=new Fc(e,t),i=new Fc(e,t+1),r=[];return this.Tr.forEachInRange([n,i],(t=>{this.Ar(t),r.push(t.key)})),r}mr(){this.Pr.forEach((t=>this.Ar(t)))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const e=new Do(new Io([])),n=new Fc(e,t),i=new Fc(e,t+1);let r=ja();return this.Tr.forEachInRange([n,i],(t=>{r=r.add(t.key)})),r}containsKey(t){const e=new Fc(t,0),n=this.Pr.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class Fc{constructor(t,e){this.key=t,this.pr=e}static Ir(t,e){return Do.comparator(t.key,e.key)||So(t.pr,e.pr)}static Er(t,e){return So(t.pr,e.pr)||Do.comparator(t.key,e.key)}}class zc{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.yr=1,this.wr=new cs(Fc.Ir)}checkEmpty(t){return Vo.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,i){const r=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new xl(r,e,n,i);this.mutationQueue.push(o);for(const s of i)this.wr=this.wr.add(new Fc(s.key,r)),this.indexManager.addToCollectionParentIndex(t,s.key.path.popLast());return Vo.resolve(o)}lookupMutationBatch(t,e){return Vo.resolve(this.Sr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,i=this.br(n),r=i<0?0:i;return Vo.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return Vo.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(t){return Vo.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Fc(e,0),i=new Fc(e,Number.POSITIVE_INFINITY),r=[];return this.wr.forEachInRange([n,i],(t=>{const e=this.Sr(t.pr);r.push(e)})),Vo.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new cs(So);return e.forEach((t=>{const e=new Fc(t,0),i=new Fc(t,Number.POSITIVE_INFINITY);this.wr.forEachInRange([e,i],(t=>{n=n.add(t.pr)}))})),Vo.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1;let r=n;Do.isDocumentKey(r)||(r=r.child(""));const o=new Fc(new Do(r),0);let s=new cs(So);return this.wr.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(s=s.add(t.pr)),!0)}),o),Vo.resolve(this.Dr(s))}Dr(t){const e=[];return t.forEach((t=>{const n=this.Sr(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){ao(0===this.Cr(e.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return Vo.forEach(e.mutations,(i=>{const r=new Fc(i.key,e.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((()=>{this.wr=n}))}Mn(t){}containsKey(t,e){const n=new Fc(e,0),i=this.wr.firstAfterOrEqual(n);return Vo.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Vo.resolve()}Cr(t,e){return this.br(t)}br(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Sr(t){const e=this.br(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Bc{constructor(t){this.vr=t,this.docs=new ss(Do.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,i=this.docs.get(n),r=i?i.size:0,o=this.vr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return Vo.resolve(n?n.document.mutableCopy():Vs.newInvalidDocument(e))}getEntries(t,e){let n=Ra();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():Vs.newInvalidDocument(t))})),Vo.resolve(n)}getDocumentsMatchingQuery(t,e,n,i){let r=Ra();const o=e.path,s=new Do(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:t,value:{document:s}}=a.getNext();if(!o.isPrefixOf(t.path))break;t.path.length>o.length+1||Lo(Oo(s),n)<=0||(i.has(s.key)||Ca(e,s))&&(r=r.insert(s.key,s.mutableCopy()))}return Vo.resolve(r)}getAllFromCollectionGroup(t,e,n,i){so()}Fr(t,e){return Vo.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new Vc(this)}getSize(t){return Vo.resolve(this.size)}}class Vc extends Dc{constructor(t){super(),this.ar=t}applyChanges(t){const e=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?e.push(this.ar.addEntry(t,i)):this.ar.removeEntry(n)})),Vo.waitFor(e)}getFromCache(t,e){return this.ar.getEntry(t,e)}getAllFromCache(t,e){return this.ar.getEntries(t,e)}}class jc{constructor(t){this.persistence=t,this.Mr=new Ma((t=>ha(t)),da),this.lastRemoteSnapshotVersion=Co.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Lc,this.targetCount=0,this.Lr=Mc.Nn()}forEachTarget(t,e){return this.Mr.forEach(((t,n)=>e(n))),Vo.resolve()}getLastRemoteSnapshotVersion(t){return Vo.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Vo.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),Vo.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Or&&(this.Or=e),Vo.resolve()}qn(t){this.Mr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Lr=new Mc(e),this.highestTargetId=e),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,e){return this.qn(e),this.targetCount+=1,Vo.resolve()}updateTargetData(t,e){return this.qn(e),Vo.resolve()}removeTargetData(t,e){return this.Mr.delete(e.target),this.Nr.Vr(e.targetId),this.targetCount-=1,Vo.resolve()}removeTargets(t,e,n){let i=0;const r=[];return this.Mr.forEach(((o,s)=>{s.sequenceNumber<=e&&null===n.get(s.targetId)&&(this.Mr.delete(o),r.push(this.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),Vo.waitFor(r).next((()=>i))}getTargetCount(t){return Vo.resolve(this.targetCount)}getTargetData(t,e){const n=this.Mr.get(e)||null;return Vo.resolve(n)}addMatchingKeys(t,e,n){return this.Nr.dr(e,n),Vo.resolve()}removeMatchingKeys(t,e,n){this.Nr.Rr(e,n);const i=this.persistence.referenceDelegate,r=[];return i&&e.forEach((e=>{r.push(i.markPotentiallyOrphaned(t,e))})),Vo.waitFor(r)}removeMatchingKeysForTargetId(t,e){return this.Nr.Vr(e),Vo.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Nr.gr(e);return Vo.resolve(n)}containsKey(t,e){return Vo.resolve(this.Nr.containsKey(e))}}class Uc{constructor(t,e){this.Br={},this.overlays={},this.kr=new $o(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new jc(this),this.indexManager=new Tc,this.remoteDocumentCache=function(t){return new Bc(t)}((t=>this.referenceDelegate.Kr(t))),this.serializer=new kc(e),this.$r=new Oc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Nc,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Br[t.toKey()];return n||(n=new zc(e,this.referenceDelegate),this.Br[t.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,e,n){no("MemoryPersistence","Starting transaction:",t);const i=new Hc(this.kr.next());return this.referenceDelegate.Ur(),n(i).next((t=>this.referenceDelegate.Wr(i).next((()=>t)))).toPromise().then((t=>(i.raiseOnCommittedEvent(),t)))}Gr(t,e){return Vo.or(Object.values(this.Br).map((n=>()=>n.containsKey(t,e))))}}class Hc extends zo{constructor(t){super(),this.currentSequenceNumber=t}}class Wc{constructor(t){this.persistence=t,this.zr=new Lc,this.jr=null}static Hr(t){return new Wc(t)}get Jr(){if(this.jr)return this.jr;throw so()}addReference(t,e,n){return this.zr.addReference(n,e),this.Jr.delete(n.toString()),Vo.resolve()}removeReference(t,e,n){return this.zr.removeReference(n,e),this.Jr.add(n.toString()),Vo.resolve()}markPotentiallyOrphaned(t,e){return this.Jr.add(e.toString()),Vo.resolve()}removeTarget(t,e){this.zr.Vr(e.targetId).forEach((t=>this.Jr.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.Jr.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}Ur(){this.jr=new Set}Wr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Vo.forEach(this.Jr,(n=>{const i=Do.fromPath(n);return this.Yr(t,i).next((t=>{t||e.removeEntry(i,Co.min())}))})).next((()=>(this.jr=null,e.apply(t))))}updateLimboDocument(t,e){return this.Yr(t,e).next((t=>{t?this.Jr.delete(e.toString()):this.Jr.add(e.toString())}))}Kr(t){return 0}Yr(t,e){return Vo.or([()=>Vo.resolve(this.zr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gr(t,e)])}}class Gc{constructor(t,e,n,i){this.targetId=t,this.fromCache=e,this.qi=n,this.Qi=i}static Ki(t,e){let n=ja(),i=ja();for(const r of e.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new Gc(t,e.fromCache,n,i)}}class qc{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Kc{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=p()?8:Uo.v(f())>0?6:4}initialize(t,e){this.zi=t,this.indexManager=e,this.$i=!0}getDocumentsMatchingQuery(t,e,n,i){const r={result:null};return this.ji(t,e).next((t=>{r.result=t})).next((()=>{if(!r.result)return this.Hi(t,e,i,n).next((t=>{r.result=t}))})).next((()=>{if(r.result)return;const n=new qc;return this.Ji(t,e,n).next((i=>{if(r.result=i,this.Ui)return this.Yi(t,e,n,i.size)}))})).next((()=>r.result))}Yi(t,e,n,i){return n.documentReadCount<this.Wi?(eo()<=A.DEBUG&&no("QueryEngine","SDK will not create cache indexes for query:",Ea(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Vo.resolve()):(eo()<=A.DEBUG&&no("QueryEngine","Query:",Ea(e),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Gi*i?(eo()<=A.DEBUG&&no("QueryEngine","The SDK decides to create cache indexes for query:",Ea(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,wa(e))):Vo.resolve())}ji(t,e){if(ya(e))return Vo.resolve(null);let n=wa(e);return this.indexManager.getIndexType(t,n).next((i=>0===i?null:(null!==e.limit&&1===i&&(e=_a(e,null,"F"),n=wa(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((i=>{const r=ja(...i);return this.zi.getDocuments(t,r).next((i=>this.indexManager.getMinOffset(t,n).next((n=>{const o=this.Zi(e,i);return this.Xi(e,o,r,n.readTime)?this.ji(t,_a(e,null,"F")):this.es(t,o,e,n)}))))})))))}Hi(t,e,n,i){return ya(e)||i.isEqual(Co.min())?Vo.resolve(null):this.zi.getDocuments(t,n).next((r=>{const o=this.Zi(e,r);return this.Xi(e,o,n,i)?Vo.resolve(null):(eo()<=A.DEBUG&&no("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ea(e)),this.es(t,o,e,Ao(i,-1)).next((t=>t)))}))}Zi(t,e){let n=new cs(Ia(t));return e.forEach(((e,i)=>{Ca(t,i)&&(n=n.add(i))})),n}Xi(t,e,n,i){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const r="F"===t.limitType?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Ji(t,e,n){return eo()<=A.DEBUG&&no("QueryEngine","Using full collection scan to execute query:",Ea(e)),this.zi.getDocumentsMatchingQuery(t,e,No.min(),n)}es(t,e,n,i){return this.zi.getDocumentsMatchingQuery(t,n,i).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}class Qc{constructor(t,e,n,i){this.persistence=t,this.ts=e,this.serializer=i,this.ns=new ss(So),this.rs=new Ma((t=>ha(t)),da),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(n)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Ac(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.ns)))}}function Yc(t,e,n,i){return new Qc(t,e,n,i)}async function $c(t,e){const n=lo(t);return await n.persistence.runTransaction("Handle user change","readonly",(t=>{let i;return n.mutationQueue.getAllMutationBatches(t).next((r=>(i=r,n._s(e),n.mutationQueue.getAllMutationBatches(t)))).next((e=>{const r=[],o=[];let s=ja();for(const t of i){r.push(t.batchId);for(const e of t.mutations)s=s.add(e.key)}for(const t of e){o.push(t.batchId);for(const e of t.mutations)s=s.add(e.key)}return n.localDocuments.getDocuments(t,s).next((t=>({us:t,removedBatchIds:r,addedBatchIds:o})))}))}))}function Xc(t){const e=lo(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Qr.getLastRemoteSnapshotVersion(t)))}function Jc(t,e,n){let i=ja(),r=ja();return n.forEach((t=>i=i.add(t))),e.getEntries(t,i).next((t=>{let i=Ra();return n.forEach(((n,o)=>{const s=t.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(r=r.add(n)),o.isNoDocument()&&o.version.isEqual(Co.min())?(e.removeEntry(n,o.readTime),i=i.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(o),i=i.insert(n,o)):no("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{cs:i,ls:r}}))}function Zc(t,e){const n=lo(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}function tu(t,e){const n=lo(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let i;return n.Qr.getTargetData(t,e).next((r=>r?(i=r,Vo.resolve(i)):n.Qr.allocateTargetId(t).next((r=>(i=new Sc(e,r,"TargetPurposeListen",t.currentSequenceNumber),n.Qr.addTargetData(t,i).next((()=>i)))))))})).then((t=>{const i=n.ns.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(t.targetId,t),n.rs.set(e,t.targetId)),t}))}async function eu(t,e,n){const i=lo(t),r=i.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,(t=>i.persistence.referenceDelegate.removeTarget(t,r)))}catch(t){if(!Go(t))throw t;no("LocalStore","Failed to update sequence numbers for target ".concat(e,": ").concat(t))}i.ns=i.ns.remove(e),i.rs.delete(r.target)}function nu(t,e,n){const i=lo(t);let r=Co.min(),o=ja();return i.persistence.runTransaction("Execute query","readwrite",(t=>function(t,e,n){const i=lo(t),r=i.rs.get(n);return void 0!==r?Vo.resolve(i.ns.get(r)):i.Qr.getTargetData(e,n)}(i,t,wa(e)).next((e=>{if(e)return r=e.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(t,e.targetId).next((t=>{o=t}))})).next((()=>i.ts.getDocumentsMatchingQuery(t,e,n?r:Co.min(),n?o:ja()))).next((t=>(iu(i,Ta(e),t),{documents:t,hs:o})))))}function iu(t,e,n){let i=t.ss.get(e)||Co.min();n.forEach(((t,e)=>{e.readTime.compareTo(i)>0&&(i=e.readTime)})),t.ss.set(e,i)}class ru{constructor(){this.activeTargetIds=Ha()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ou{constructor(){this.no=new ru,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,e,n){this.ro[t]=e}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new ru,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class su{io(t){}shutdown(){}}class au{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){no("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){no("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let lu=null;function cu(){return null===lu?lu=268435456+Math.round(2147483648*Math.random()):lu++,"0x"+lu.toString(16)}const uu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hu{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}onMessage(t){this.Ao=t}close(){this.ho()}send(t){this.lo(t)}Ro(){this.Io()}Vo(t){this.Eo(t)}mo(t){this.Ao(t)}}const du="WebChannelConnection";class fu extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=e+"://"+t.host,this.po="projects/".concat(n,"/databases/").concat(i),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(i)}get wo(){return!1}So(t,e,n,i,r){const o=cu(),s=this.bo(t,e.toUriEncodedString());no("RestConnection","Sending RPC '".concat(t,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,i,r),this.Co(t,s,a,n).then((e=>(no("RestConnection","Received RPC '".concat(t,"' ").concat(o,": "),e),e)),(e=>{throw ro("RestConnection","RPC '".concat(t,"' ").concat(o," failed with error: "),e,"url: ",s,"request:",n),e}))}vo(t,e,n,i,r,o){return this.So(t,e,n,i,r)}Do(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+Zr,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}bo(t,e){const n=uu[t];return"".concat(this.fo,"/v1/").concat(e,":").concat(n)}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Co(t,e,n,i){const r=cu();return new Promise(((o,s)=>{const a=new Qr;a.setWithCredentials(!0),a.listenOnce(Wr.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Hr.NO_ERROR:const e=a.getResponseJson();no(du,"XHR for RPC '".concat(t,"' ").concat(r," received:"),JSON.stringify(e)),o(e);break;case Hr.TIMEOUT:no(du,"RPC '".concat(t,"' ").concat(r," timed out")),s(new uo(co.DEADLINE_EXCEEDED,"Request time out"));break;case Hr.HTTP_ERROR:const n=a.getStatus();if(no(du,"RPC '".concat(t,"' ").concat(r," failed with status:"),n,"response text:",a.getResponseText()),n>0){let t=a.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(co).indexOf(e)>=0?e:co.UNKNOWN}(e.status);s(new uo(t,e.message))}else s(new uo(co.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new uo(co.UNAVAILABLE,"Connection failed."));break;default:so()}}finally{no(du,"RPC '".concat(t,"' ").concat(r," completed."))}}));const l=JSON.stringify(i);no(du,"RPC '".concat(t,"' ").concat(r," sending request:"),i),a.send(e,"POST",l,n,15)}))}Fo(t,e,n){const i=cu(),r=[this.fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=jr(),s=Ur(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,e,n),a.encodeInitMessageHeaders=!0;const c=r.join("");no(du,"Creating RPC '".concat(t,"' stream ").concat(i,": ").concat(c),a);const u=o.createWebChannel(c,a);let h=!1,d=!1;const f=new hu({lo:e=>{d?no(du,"Not sending because RPC '".concat(t,"' stream ").concat(i," is closed:"),e):(h||(no(du,"Opening RPC '".concat(t,"' stream ").concat(i," transport.")),u.open(),h=!0),no(du,"RPC '".concat(t,"' stream ").concat(i," sending:"),e),u.send(e))},ho:()=>u.close()}),p=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return p(u,Kr.EventType.OPEN,(()=>{d||no(du,"RPC '".concat(t,"' stream ").concat(i," transport opened."))})),p(u,Kr.EventType.CLOSE,(()=>{d||(d=!0,no(du,"RPC '".concat(t,"' stream ").concat(i," transport closed")),f.Vo())})),p(u,Kr.EventType.ERROR,(e=>{d||(d=!0,ro(du,"RPC '".concat(t,"' stream ").concat(i," transport errored:"),e),f.Vo(new uo(co.UNAVAILABLE,"The operation could not be completed")))})),p(u,Kr.EventType.MESSAGE,(e=>{var n;if(!d){const r=e.data[0];ao(!!r);const o=r,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){no(du,"RPC '".concat(t,"' stream ").concat(i," received error:"),s);const e=s.status;let n=function(t){const e=El[t];if(void 0!==e)return Il(e)}(e),r=s.message;void 0===n&&(n=co.INTERNAL,r="Unknown error status: "+e+" with message "+s.message),d=!0,f.Vo(new uo(n,r)),u.close()}else no(du,"RPC '".concat(t,"' stream ").concat(i," received:"),r),f.mo(r)}})),p(s,Gr.STAT_EVENT,(e=>{e.stat===qr.PROXY?no(du,"RPC '".concat(t,"' stream ").concat(i," detected buffering proxy")):e.stat===qr.NOPROXY&&no(du,"RPC '".concat(t,"' stream ").concat(i," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function pu(){return"undefined"!=typeof document?document:null}function gu(t){return new Ql(t,!0)}class mu{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=t,this.timerId=e,this.Mo=n,this.xo=i,this.Oo=r,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(t){this.cancel();const e=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Bo),i=Math.max(0,e-n);i>0&&no("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(e," ms, last attempt: ").concat(n," ms ago)")),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,(()=>(this.Bo=Date.now(),t()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class yu{constructor(t,e,n,i,r,o,s,a){this.oi=t,this.$o=n,this.Uo=i,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new mu(t,e)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(t){this.n_(),this.stream.send(t)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(t,e){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==t?this.jo.reset():e&&e.code===co.RESOURCE_EXHAUSTED?(io(e.toString()),io("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):e&&e.code===co.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.To(e)}i_(){}auth(){this.state=1;const t=this.s_(this.Wo),e=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((t=>{let[n,i]=t;this.Wo===e&&this.o_(n,i)}),(e=>{t((()=>{const t=new uo(co.UNKNOWN,"Fetching auth token failed: "+e.message);return this.__(t)}))}))}o_(t,e){const n=this.s_(this.Wo);this.stream=this.a_(t,e),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((t=>{n((()=>this.__(t)))})),this.stream.onMessage((t=>{n((()=>this.onMessage(t)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(t){return no("PersistentStream","close with error: ".concat(t)),this.stream=null,this.close(4,t)}s_(t){return e=>{this.oi.enqueueAndForget((()=>this.Wo===t?e():(no("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vu extends yu{constructor(t,e,n,i,r,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,i,o),this.serializer=r}a_(t,e){return this.connection.Fo("Listen",t,e)}onMessage(t){this.jo.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:so()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(t,e){return t.useProto3Json?(ao(void 0===e||"string"==typeof e),fs.fromBase64String(e||"")):(ao(void 0===e||e instanceof Uint8Array),fs.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){const e=void 0===t.code?co.UNKNOWN:Il(t.code);return new uo(e,t.message||"")}(s);n=new Vl(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=rc(t,i.document.name),o=Zl(i.document.updateTime),s=i.document.createTime?Zl(i.document.createTime):Co.min(),a=new zs({mapValue:{fields:i.document.fields}}),l=Vs.newFoundDocument(r,o,s,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new zl(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=rc(t,i.document),o=i.readTime?Zl(i.readTime):Co.min(),s=Vs.newNoDocument(r,o),a=i.removedTargetIds||[];n=new zl([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=rc(t,i.document),o=i.removedTargetIds||[];n=new zl([],o,r,null)}else{if(!("filter"in e))return so();{e.filter;const t=e.filter;t.targetId;const{count:i=0,unchangedNames:r}=t,o=new kl(i,r),s=t.targetId;n=new Bl(s,o)}}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Co.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?Co.min():e.readTime?Zl(e.readTime):Co.min()}(t);return this.listener.u_(e,n)}c_(t){const e={};e.database=ac(this.serializer),e.addTarget=function(t,e){let n;const i=e.target;if(n=fa(i)?{documents:hc(t,i)}:{query:dc(t,i).ut},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){n.resumeToken=Xl(t,e.resumeToken);const i=Yl(t,e.expectedCount);null!==i&&(n.expectedCount=i)}else if(e.snapshotVersion.compareTo(Co.min())>0){n.readTime=$l(t,e.snapshotVersion.toTimestamp());const i=Yl(t,e.expectedCount);null!==i&&(n.expectedCount=i)}return n}(this.serializer,t);const n=function(t,e){const n=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return so()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.t_(e)}l_(t){const e={};e.database=ac(this.serializer),e.removeTarget=t,this.t_(e)}}class bu extends yu{constructor(t,e,n,i,r,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,i,o),this.serializer=r,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(t,e){return this.connection.Fo("Write",t,e)}onMessage(t){if(ao(!!t.streamToken),this.lastStreamToken=t.streamToken,this.h_){this.jo.reset();const e=function(t,e){return t&&t.length>0?(ao(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?Zl(t.updateTime):Zl(e);return n.isEqual(Co.min())&&(n=Zl(e)),new ol(n,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),n=Zl(t.commitTime);return this.listener.T_(n,e)}return ao(!t.writeResults||0===t.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const t={};t.database=ac(this.serializer),this.t_(t)}I_(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>uc(this.serializer,t)))};this.t_(e)}}class wu extends class{}{constructor(t,e,n,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new uo(co.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,e,n,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[o,s]=r;return this.connection.So(t,ec(e,n),i,o,s)})).catch((t=>{throw"FirebaseError"===t.name?(t.code===co.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new uo(co.UNKNOWN,t.toString())}))}vo(t,e,n,i,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.vo(t,ec(e,n),i,s,a,r)})).catch((t=>{throw"FirebaseError"===t.name?(t.code===co.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new uo(co.UNKNOWN,t.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class xu{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(t){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(t.toString())),this.y_("Offline")))}set(t){this.b_(),this.m_=0,"Online"===t&&(this.g_=!1),this.y_(t)}y_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}w_(t){const e="Could not reach Cloud Firestore backend. ".concat(t,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(io(e),this.g_=!1):no("OnlineStateTracker",e)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class _u{constructor(t,e,n,i,r){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=r,this.M_.io((t=>{n.enqueueAndForget((async()=>{Du(this)&&(no("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=lo(t);e.v_.add(4),await ku(e),e.x_.set("Unknown"),e.v_.delete(4),await Su(e)}(this))}))})),this.x_=new xu(n,i)}}async function Su(t){if(Du(t))for(const e of t.F_)await e(!0)}async function ku(t){for(const e of t.F_)await e(!1)}function Eu(t,e){const n=lo(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Mu(n)?Pu(n):Yu(n).Jo()&&Tu(n,e))}function Cu(t,e){const n=lo(t),i=Yu(n);n.C_.delete(e),i.Jo()&&Iu(n,e),0===n.C_.size&&(i.Jo()?i.Xo():Du(n)&&n.x_.set("Unknown"))}function Tu(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Co.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yu(t).c_(e)}function Iu(t,e){t.O_.Oe(e),Yu(t).l_(e)}function Pu(t){t.O_=new Ul({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Yu(t).start(),t.x_.p_()}function Mu(t){return Du(t)&&!Yu(t).Ho()&&t.C_.size>0}function Du(t){return 0===lo(t).v_.size}function Ru(t){t.O_=void 0}async function Au(t){t.C_.forEach(((e,n)=>{Tu(t,e)}))}async function Ou(t,e){Ru(t),Mu(t)?(t.x_.S_(e),Pu(t)):t.x_.set("Unknown")}async function Nu(t,e,n){if(t.x_.set("Online"),e instanceof Vl&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const i of e.targetIds)t.C_.has(i)&&(await t.remoteSyncer.rejectListen(i,n),t.C_.delete(i),t.O_.removeTarget(i))}(t,e)}catch(n){no("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Lu(t,n)}else if(e instanceof zl?t.O_.$e(e):e instanceof Bl?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Co.min()))try{const e=await Xc(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.O_.it(e);return n.targetChanges.forEach(((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=t.C_.get(i);r&&t.C_.set(i,r.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach(((e,n)=>{const i=t.C_.get(e);if(!i)return;t.C_.set(e,i.withResumeToken(fs.EMPTY_BYTE_STRING,i.snapshotVersion)),Iu(t,e);const r=new Sc(i.target,e,n,i.sequenceNumber);Tu(t,r)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){no("RemoteStore","Failed to raise snapshot:",e),await Lu(t,e)}}async function Lu(t,e,n){if(!Go(e))throw e;t.v_.add(1),await ku(t),t.x_.set("Offline"),n||(n=()=>Xc(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{no("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Su(t)}))}function Fu(t,e){return e().catch((n=>Lu(t,n,e)))}async function zu(t){const e=lo(t),n=$u(e);let i=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Bu(e);)try{const t=await Zc(e.localStore,i);if(null===t){0===e.D_.length&&n.Xo();break}i=t.batchId,Vu(e,t)}catch(t){await Lu(e,t)}ju(e)&&Uu(e)}function Bu(t){return Du(t)&&t.D_.length<10}function Vu(t,e){t.D_.push(e);const n=$u(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function ju(t){return Du(t)&&!$u(t).Ho()&&t.D_.length>0}function Uu(t){$u(t).start()}async function Hu(t){$u(t).d_()}async function Wu(t){const e=$u(t);for(const n of t.D_)e.I_(n.mutations)}async function Gu(t,e,n){const i=t.D_.shift(),r=_l.from(i,e,n);await Fu(t,(()=>t.remoteSyncer.applySuccessfulWrite(r))),await zu(t)}async function qu(t,e){e&&$u(t).P_&&await async function(t,e){if(function(t){return Tl(t)&&t!==co.ABORTED}(e.code)){const n=t.D_.shift();$u(t).Zo(),await Fu(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await zu(t)}}(t,e),ju(t)&&Uu(t)}async function Ku(t,e){const n=lo(t);n.asyncQueue.verifyOperationInProgress(),no("RemoteStore","RemoteStore received new credentials");const i=Du(n);n.v_.add(3),await ku(n),i&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Su(n)}async function Qu(t,e){const n=lo(t);e?(n.v_.delete(2),await Su(n)):e||(n.v_.add(2),await ku(n),n.x_.set("Unknown"))}function Yu(t){return t.N_||(t.N_=function(t,e,n){const i=lo(t);return i.R_(),new vu(e,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(t.datastore,t.asyncQueue,{Po:Au.bind(null,t),To:Ou.bind(null,t),u_:Nu.bind(null,t)}),t.F_.push((async e=>{e?(t.N_.Zo(),Mu(t)?Pu(t):t.x_.set("Unknown")):(await t.N_.stop(),Ru(t))}))),t.N_}function $u(t){return t.L_||(t.L_=function(t,e,n){const i=lo(t);return i.R_(),new bu(e,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(t.datastore,t.asyncQueue,{Po:Hu.bind(null,t),To:qu.bind(null,t),E_:Wu.bind(null,t),T_:Gu.bind(null,t)}),t.F_.push((async e=>{e?(t.L_.Zo(),await zu(t)):(await t.L_.stop(),t.D_.length>0&&(no("RemoteStore","Stopping write stream with ".concat(t.D_.length," pending writes")),t.D_=[]))}))),t.L_}class Xu{constructor(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new ho,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,i,r){const o=Date.now()+n,s=new Xu(t,e,o,i,r);return s.start(n),s}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new uo(co.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ju(t,e){if(io("AsyncQueue","".concat(e,": ").concat(t)),Go(t))return new uo(co.UNAVAILABLE,"".concat(e,": ").concat(t));throw t}class Zu{constructor(t){this.comparator=t?(e,n)=>t(e,n)||Do.comparator(e.key,n.key):(t,e)=>Do.comparator(t.key,e.key),this.keyedMap=Oa(),this.sortedSet=new ss(this.comparator)}static emptySet(t){return new Zu(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Zu))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(!t.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new Zu;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class th{constructor(){this.B_=new ss(Do.comparator)}track(t){const e=t.doc.key,n=this.B_.get(e);n?0!==t.type&&3===n.type?this.B_=this.B_.insert(e,t):3===t.type&&1!==n.type?this.B_=this.B_.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.B_=this.B_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.B_=this.B_.remove(e):1===t.type&&2===n.type?this.B_=this.B_.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):so():this.B_=this.B_.insert(e,t)}k_(){const t=[];return this.B_.inorderTraversal(((e,n)=>{t.push(n)})),t}}class eh{constructor(t,e,n,i,r,o,s,a,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(t,e,n,i,r){const o=[];return e.forEach((t=>{o.push({type:0,doc:t})})),new eh(t,e,Zu.emptySet(e),o,n,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Sa(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0}}class nh{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some((t=>t.U_()))}}class ih{constructor(){this.queries=new Ma((t=>ka(t)),Sa),this.onlineState="Unknown",this.W_=new Set}}async function rh(t,e){const n=lo(t);let i=3;const r=e.query;let o=n.queries.get(r);o?!o.K_()&&e.U_()&&(i=2):(o=new nh,i=e.U_()?0:1);try{switch(i){case 0:o.q_=await n.onListen(r,!0);break;case 1:o.q_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(t){const n=Ju(t,"Initialization of query '".concat(Ea(e.query),"' failed"));return void e.onError(n)}n.queries.set(r,o),o.Q_.push(e),e.G_(n.onlineState),o.q_&&e.z_(o.q_)&&lh(n)}async function oh(t,e){const n=lo(t),i=e.query;let r=3;const o=n.queries.get(i);if(o){const t=o.Q_.indexOf(e);t>=0&&(o.Q_.splice(t,1),0===o.Q_.length?r=e.U_()?0:1:!o.K_()&&e.U_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function sh(t,e){const n=lo(t);let i=!1;for(const r of e){const t=r.query,e=n.queries.get(t);if(e){for(const t of e.Q_)t.z_(r)&&(i=!0);e.q_=r}}i&&lh(n)}function ah(t,e,n){const i=lo(t),r=i.queries.get(e);if(r)for(const o of r.Q_)o.onError(n);i.queries.delete(e)}function lh(t){t.W_.forEach((t=>{t.next()}))}var ch,uh;(uh=ch||(ch={})).j_="default",uh.Cache="cache";class hh{constructor(t,e,n){this.query=t,this.H_=e,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=n||{}}z_(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new eh(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.J_?this.Z_(t)&&(this.H_.next(t),e=!0):this.X_(t,this.onlineState)&&(this.ea(t),e=!0),this.Y_=t,e}onError(t){this.H_.error(t)}G_(t){this.onlineState=t;let e=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,t)&&(this.ea(this.Y_),e=!0),e}X_(t,e){if(!t.fromCache)return!0;if(!this.U_())return!0;const n="Offline"!==e;return(!this.options.ta||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Z_(t){if(t.docChanges.length>0)return!0;const e=this.Y_&&this.Y_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}ea(t){t=eh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.J_=!0,this.H_.next(t)}U_(){return this.options.source!==ch.Cache}}class dh{constructor(t){this.key=t}}class fh{constructor(t){this.key=t}}class ph{constructor(t,e){this.query=t,this.ua=e,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=ja(),this.mutatedKeys=ja(),this.ha=Ia(t),this.Pa=new Zu(this.ha)}get Ia(){return this.ua}Ta(t,e){const n=e?e.Ea:new th,i=e?e.Pa:this.Pa;let r=e?e.mutatedKeys:this.mutatedKeys,o=i,s=!1;const a="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(((t,e)=>{const c=i.get(t),u=Ca(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.da(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.ha(u,a)>0||l&&this.ha(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),r=d?r.add(t):r.delete(t)):(o=o.delete(t),r=r.delete(t)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const t="F"===this.query.limitType?o.last():o.first();o=o.delete(t.key),r=r.delete(t.key),n.track({type:1,doc:t})}return{Pa:o,Ea:n,Xi:s,mutatedKeys:r}}da(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,i){const r=this.Pa;this.Pa=t.Pa,this.mutatedKeys=t.mutatedKeys;const o=t.Ea.k_();o.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return so()}};return n(t)-n(e)}(t.type,e.type)||this.ha(t.doc,e.doc))),this.Aa(n),i=null!=i&&i;const s=e&&!i?this.Ra():[],a=0===this.la.size&&this.current&&!i?1:0,l=a!==this.ca;return this.ca=a,0!==o.length||l?{snapshot:new eh(this.query,t.Pa,r,o,t.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Va:s}:{Va:s}}G_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new th,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(t){return!this.ua.has(t)&&!!this.Pa.has(t)&&!this.Pa.get(t).hasLocalMutations}Aa(t){t&&(t.addedDocuments.forEach((t=>this.ua=this.ua.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.ua=this.ua.delete(t))),this.current=t.current)}Ra(){if(!this.current)return[];const t=this.la;this.la=ja(),this.Pa.forEach((t=>{this.ma(t.key)&&(this.la=this.la.add(t.key))}));const e=[];return t.forEach((t=>{this.la.has(t)||e.push(new fh(t))})),this.la.forEach((n=>{t.has(n)||e.push(new dh(n))})),e}fa(t){this.ua=t.hs,this.la=ja();const e=this.Ta(t.documents);return this.applyChanges(e,!0)}ga(){return eh.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class gh{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class mh{constructor(t){this.key=t,this.pa=!1}}class yh{constructor(t,e,n,i,r,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new Ma((t=>ka(t)),Sa),this.Sa=new Map,this.ba=new Set,this.Da=new ss(Do.comparator),this.Ca=new Map,this.va=new Lc,this.Fa={},this.Ma=new Map,this.xa=Mc.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}async function vh(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=Bh(t);let r;const o=i.wa.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.ga()):r=await wh(i,e,n,!0),r}async function bh(t,e){const n=Bh(t);await wh(n,e,!0,!1)}async function wh(t,e,n,i){const r=await tu(t.localStore,wa(e)),o=r.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return i&&(a=await xh(t,e,o,"current"===s,r.resumeToken)),t.isPrimaryClient&&n&&Eu(t.remoteStore,r),a}async function xh(t,e,n,i,r){t.Na=(e,n,i)=>async function(t,e,n,i){let r=e.view.Ta(n);r.Xi&&(r=await nu(t.localStore,e.query,!1).then((t=>{let{documents:n}=t;return e.view.Ta(n,r)})));const o=i&&i.targetChanges.get(e.targetId),s=i&&null!=i.targetMismatches.get(e.targetId),a=e.view.applyChanges(r,t.isPrimaryClient,o,s);return Ah(t,e.targetId,a.Va),a.snapshot}(t,e,n,i);const o=await nu(t.localStore,e,!0),s=new ph(e,o.hs),a=s.Ta(o.documents),l=Fl.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState,r),c=s.applyChanges(a,t.isPrimaryClient,l);Ah(t,n,c.Va);const u=new gh(e,n,s);return t.wa.set(e,u),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),c.snapshot}async function _h(t,e,n){const i=lo(t),r=i.wa.get(e),o=i.Sa.get(r.targetId);if(o.length>1)return i.Sa.set(r.targetId,o.filter((t=>!Sa(t,e)))),void i.wa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await eu(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Cu(i.remoteStore,r.targetId),Dh(i,r.targetId)})).catch(Bo)):(Dh(i,r.targetId),await eu(i.localStore,r.targetId,!0))}async function Sh(t,e){const n=lo(t),i=n.wa.get(e),r=n.Sa.get(i.targetId);n.isPrimaryClient&&1===r.length&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Cu(n.remoteStore,i.targetId))}async function kh(t,e){const n=lo(t);try{const t=await function(t,e){const n=lo(t),i=e.snapshotVersion;let r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const o=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;const s=[];e.targetChanges.forEach(((o,a)=>{const l=r.get(a);if(!l)return;s.push(n.Qr.removeMatchingKeys(t,o.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(t,o.addedDocuments,a))));let c=l.withSequenceNumber(t.currentSequenceNumber);null!==e.targetMismatches.get(a)?c=c.withResumeToken(fs.EMPTY_BYTE_STRING,Co.min()).withLastLimboFreeSnapshotVersion(Co.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,i)),r=r.insert(a,c),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.Qr.updateTargetData(t,c))}));let a=Ra(),l=ja();if(e.documentUpdates.forEach((i=>{e.resolvedLimboDocuments.has(i)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))})),s.push(Jc(t,o,e.documentUpdates).next((t=>{a=t.cs,l=t.ls}))),!i.isEqual(Co.min())){const e=n.Qr.getLastRemoteSnapshotVersion(t).next((e=>n.Qr.setTargetsMetadata(t,t.currentSequenceNumber,i)));s.push(e)}return Vo.waitFor(s).next((()=>o.apply(t))).next((()=>n.localDocuments.getLocalViewOfDocuments(t,a,l))).next((()=>a))})).then((t=>(n.ns=r,t)))}(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const i=n.Ca.get(e);i&&(ao(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?i.pa=!0:t.modifiedDocuments.size>0?ao(i.pa):t.removedDocuments.size>0&&(ao(i.pa),i.pa=!1))})),await Lh(n,t,e)}catch(t){await Bo(t)}}function Eh(t,e,n){const i=lo(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const t=[];i.wa.forEach(((n,i)=>{const r=i.view.G_(e);r.snapshot&&t.push(r.snapshot)})),function(t,e){const n=lo(t);n.onlineState=e;let i=!1;n.queries.forEach(((t,n)=>{for(const r of n.Q_)r.G_(e)&&(i=!0)})),i&&lh(n)}(i.eventManager,e),t.length&&i.ya.u_(t),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Ch(t,e,n){const i=lo(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Ca.get(e),o=r&&r.key;if(o){let t=new ss(Do.comparator);t=t.insert(o,Vs.newNoDocument(o,Co.min()));const n=ja().add(o),r=new Ll(Co.min(),new Map,new ss(So),t,n);await kh(i,r),i.Da=i.Da.remove(o),i.Ca.delete(e),Nh(i)}else await eu(i.localStore,e,!1).then((()=>Dh(i,e,n))).catch(Bo)}async function Th(t,e){const n=lo(t),i=e.batch.batchId;try{const t=await function(t,e){const n=lo(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const i=e.batch.keys(),r=n.os.newChangeBuffer({trackRemovals:!0});return function(t,e,n,i){const r=n.batch,o=r.keys();let s=Vo.resolve();return o.forEach((t=>{s=s.next((()=>i.getEntry(e,t))).next((e=>{const o=n.docVersions.get(t);ao(null!==o),e.version.compareTo(o)<0&&(r.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),i.addEntry(e)))}))})),s.next((()=>t.mutationQueue.removeMutationBatch(e,r)))}(n,t,e,r).next((()=>r.apply(t))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=ja();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e)))).next((()=>n.localDocuments.getDocuments(t,i)))}))}(n.localStore,e);Mh(n,i,null),Ph(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Lh(n,t)}catch(t){await Bo(t)}}async function Ih(t,e,n){const i=lo(t);try{const t=await function(t,e){const n=lo(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let i;return n.mutationQueue.lookupMutationBatch(t,e).next((e=>(ao(null!==e),i=e.keys(),n.mutationQueue.removeMutationBatch(t,e)))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,e))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,i))).next((()=>n.localDocuments.getDocuments(t,i)))}))}(i.localStore,e);Mh(i,e,n),Ph(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Lh(i,t)}catch(n){await Bo(n)}}function Ph(t,e){(t.Ma.get(e)||[]).forEach((t=>{t.resolve()})),t.Ma.delete(e)}function Mh(t,e,n){const i=lo(t);let r=i.Fa[i.currentUser.toKey()];if(r){const t=r.get(e);t&&(n?t.reject(n):t.resolve(),r=r.remove(e)),i.Fa[i.currentUser.toKey()]=r}}function Dh(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Sa.get(e))t.wa.delete(i),n&&t.ya.La(i,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach((e=>{t.va.containsKey(e)||Rh(t,e)}))}function Rh(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);null!==n&&(Cu(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),Nh(t))}function Ah(t,e,n){for(const i of n)i instanceof dh?(t.va.addReference(i.key,e),Oh(t,i)):i instanceof fh?(no("SyncEngine","Document no longer in limbo: "+i.key),t.va.removeReference(i.key,e),t.va.containsKey(i.key)||Rh(t,i.key)):so()}function Oh(t,e){const n=e.key,i=n.path.canonicalString();t.Da.get(n)||t.ba.has(i)||(no("SyncEngine","New document in limbo: "+n),t.ba.add(i),Nh(t))}function Nh(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new Do(Io.fromString(e)),i=t.xa.next();t.Ca.set(i,new mh(n)),t.Da=t.Da.insert(n,i),Eu(t.remoteStore,new Sc(wa(ma(n.path)),i,"TargetPurposeLimboResolution",$o._e))}}async function Lh(t,e,n){const i=lo(t),r=[],o=[],s=[];i.wa.isEmpty()||(i.wa.forEach(((t,a)=>{s.push(i.Na(a,e,n).then((t=>{if((t||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(a.targetId,(null==t?void 0:t.fromCache)?"not-current":"current"),t){r.push(t);const e=Gc.Ki(a.targetId,t);o.push(e)}})))})),await Promise.all(s),i.ya.u_(r),await async function(t,e){const n=lo(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>Vo.forEach(e,(e=>Vo.forEach(e.qi,(i=>n.persistence.referenceDelegate.addReference(t,e.targetId,i))).next((()=>Vo.forEach(e.Qi,(i=>n.persistence.referenceDelegate.removeReference(t,e.targetId,i)))))))))}catch(t){if(!Go(t))throw t;no("LocalStore","Failed to update sequence numbers: "+t)}for(const i of e){const t=i.targetId;if(!i.fromCache){const e=n.ns.get(t),i=e.snapshotVersion,r=e.withLastLimboFreeSnapshotVersion(i);n.ns=n.ns.insert(t,r)}}}(i.localStore,o))}async function Fh(t,e){const n=lo(t);if(!n.currentUser.isEqual(e)){no("SyncEngine","User change. New user:",e.toKey());const t=await $c(n.localStore,e);n.currentUser=e,function(t,e){t.Ma.forEach((t=>{t.forEach((t=>{t.reject(new uo(co.CANCELLED,e))}))})),t.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await Lh(n,t.us)}}function zh(t,e){const n=lo(t),i=n.Ca.get(e);if(i&&i.pa)return ja().add(i.key);{let t=ja();const i=n.Sa.get(e);if(!i)return t;for(const e of i){const i=n.wa.get(e);t=t.unionWith(i.view.Ia)}return t}}function Bh(t){const e=lo(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ch.bind(null,e),e.ya.u_=sh.bind(null,e.eventManager),e.ya.La=ah.bind(null,e.eventManager),e}function Vh(t){const e=lo(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Th.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ih.bind(null,e),e}class jh{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=gu(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return Yc(this.persistence,new Kc,t.initialUser,this.serializer)}createPersistence(t){return new Uc(Wc.Hr,this.serializer)}createSharedClientState(t){return new ou}async terminate(){var t,e;null===(t=this.gcScheduler)||void 0===t||t.stop(),null===(e=this.indexBackfillerScheduler)||void 0===e||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Uh{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>Eh(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=Fh.bind(null,this.syncEngine),await Qu(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new ih}createDatastore(t){const e=gu(t.databaseInfo.databaseId),n=function(t){return new fu(t)}(t.databaseInfo);return function(t,e,n,i){return new wu(t,e,n,i)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return function(t,e,n,i,r){return new _u(t,e,n,i,r)}(this.localStore,this.datastore,t.asyncQueue,(t=>Eh(this.syncEngine,t,0)),au.D()?new au:new su)}createSyncEngine(t,e){return function(t,e,n,i,r,o,s){const a=new yh(t,e,n,i,r,o);return s&&(a.Oa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t;await async function(t){const e=lo(t);no("RemoteStore","RemoteStore shutting down."),e.v_.add(5),await ku(e),e.M_.shutdown(),e.x_.set("Unknown")}(this.remoteStore),null===(t=this.datastore)||void 0===t||t.terminate()}}class Hh{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.qa(this.observer.next,t)}error(t){this.observer.error?this.qa(this.observer.error,t):io("Uncaught Error in snapshot listener:",t.toString())}Qa(){this.muted=!0}qa(t,e){this.muted||setTimeout((()=>{this.muted||t(e)}),0)}}class Wh{constructor(t,e,n,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=Jr.UNAUTHENTICATED,this.clientId=_o.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async t=>{no("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(no("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new uo(co.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ho;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=Ju(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function Gh(t,e){t.asyncQueue.verifyOperationInProgress(),no("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async t=>{i.isEqual(t)||(await $c(e.localStore,t),i=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function qh(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Qh(t);no("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((t=>Ku(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>Ku(e.remoteStore,n))),t._onlineComponents=e}function Kh(t){return"FirebaseError"===t.name?t.code===co.FAILED_PRECONDITION||t.code===co.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}async function Qh(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){no("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Kh(n))throw n;ro("Error using user provided cache. Falling back to memory cache: "+n),await Gh(t,new jh)}}else no("FirestoreClient","Using default OfflineComponentProvider"),await Gh(t,new jh);return t._offlineComponents}async function Yh(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(no("FirestoreClient","Using user provided OnlineComponentProvider"),await qh(t,t._uninitializedComponentsProvider._online)):(no("FirestoreClient","Using default OnlineComponentProvider"),await qh(t,new Uh))),t._onlineComponents}function $h(t){return Yh(t).then((t=>t.syncEngine))}async function Xh(t){const e=await Yh(t),n=e.eventManager;return n.onListen=vh.bind(null,e.syncEngine),n.onUnlisten=_h.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bh.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Sh.bind(null,e.syncEngine),n}function Jh(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new ho;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,i,r){const o=new Hh({next:o=>{e.enqueueAndForget((()=>oh(t,s)));const a=o.docs.has(n);!a&&o.fromCache?r.reject(new uo(co.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&i&&"server"===i.source?r.reject(new uo(co.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(o)},error:t=>r.reject(t)}),s=new hh(ma(n.path),o,{includeMetadataChanges:!0,ta:!0});return rh(t,s)}(await Xh(t),t.asyncQueue,e,n,i))),i.promise}function Zh(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new ho;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,i,r){const o=new Hh({next:n=>{e.enqueueAndForget((()=>oh(t,s))),n.fromCache&&"server"===i.source?r.reject(new uo(co.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:t=>r.reject(t)}),s=new hh(n,o,{includeMetadataChanges:!0,ta:!0});return rh(t,s)}(await Xh(t),t.asyncQueue,e,n,i))),i.promise}function td(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const ed=new Map;function nd(t,e,n){if(!n)throw new uo(co.INVALID_ARGUMENT,"Function ".concat(t,"() cannot be called with an empty ").concat(e,"."))}function id(t){if(!Do.isDocumentKey(t))throw new uo(co.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(t," has ").concat(t.length,"."))}function rd(t){if(Do.isDocumentKey(t))throw new uo(co.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(t," has ").concat(t.length,"."))}function od(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t="".concat(t.substring(0,20),"...")),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?"a custom ".concat(e," object"):"an object"}}return"function"==typeof t?"a function":so()}function sd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new uo(co.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=od(t);throw new uo(co.INVALID_ARGUMENT,"Expected type '".concat(e.name,"', but it was: ").concat(n))}}return t}class ad{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new uo(co.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new uo(co.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(t,e,n,i){if(!0===e&&!0===i)throw new uo(co.INVALID_ARGUMENT,"".concat(t," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=td(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new uo(co.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (must not be NaN)"));if(t.timeoutSeconds<5)throw new uo(co.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (minimum allowed value is 5)"));if(t.timeoutSeconds>30)throw new uo(co.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(t,e){return t.timeoutSeconds===e.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ld{constructor(t,e,n,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ad({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new uo(co.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new uo(co.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ad(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new po;switch(t.type){case"firstParty":return new vo(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new uo(co.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=ed.get(t);e&&(no("ComponentProvider","Removing Datastore"),ed.delete(t),e.terminate())}(this),Promise.resolve()}}function cd(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var r;const o=(t=sd(t,ld))._getSettings(),a="".concat(e,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==a&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),i.mockUserToken){let e,n;if("string"==typeof i.mockUserToken)e=i.mockUserToken,n=Jr.MOCK_USER;else{e=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(o)),""].join(".")}(i.mockUserToken,null===(r=t._app)||void 0===r?void 0:r.options.projectId);const o=i.mockUserToken.sub||i.mockUserToken.user_id;if(!o)throw new uo(co.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Jr(o)}t._authCredentials=new go(new fo(e,n))}}class ud{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new ud(this.firestore,t,this._query)}}class hd{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dd(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new hd(this.firestore,t,this._key)}}class dd extends ud{constructor(t,e,n){super(t,e,ma(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new hd(this.firestore,null,new Do(t))}withConverter(t){return new dd(this.firestore,t,this._path)}}function fd(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(t=T(t),nd("collection","path",e),t instanceof ld){const n=Io.fromString(e,...i);return rd(n),new dd(t,null,n)}{if(!(t instanceof hd||t instanceof dd))throw new uo(co.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Io.fromString(e,...i));return rd(n),new dd(t.firestore,null,n)}}function pd(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(t=T(t),1===arguments.length&&(e=_o.newId()),nd("doc","path",e),t instanceof ld){const n=Io.fromString(e,...i);return id(n),new hd(t,null,new Do(n))}{if(!(t instanceof hd||t instanceof dd))throw new uo(co.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Io.fromString(e,...i));return id(n),new hd(t.firestore,t instanceof dd?t.converter:null,new Do(n))}}class gd{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new mu(this,"async_queue_retry"),this.cu=()=>{const t=pu();t&&no("AsyncQueue","Visibility state changed to "+t.visibilityState),this.jo.Ko()};const t=pu();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.lu(),this.hu(t)}enterRestrictedMode(t){if(!this.iu){this.iu=!0,this.au=t||!1;const e=pu();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.cu)}}enqueue(t){if(this.lu(),this.iu)return new Promise((()=>{}));const e=new ho;return this.hu((()=>this.iu&&this.au?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.ru.push(t),this.Pu())))}async Pu(){if(0!==this.ru.length){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(t){if(!Go(t))throw t;no("AsyncQueue","Operation failed with retryable error: "+t)}this.ru.length>0&&this.jo.qo((()=>this.Pu()))}}hu(t){const e=this.nu.then((()=>(this._u=!0,t().catch((t=>{this.ou=t,this._u=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw io("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this._u=!1,t))))));return this.nu=e,e}enqueueAfterDelay(t,e,n){this.lu(),this.uu.indexOf(t)>-1&&(e=0);const i=Xu.createAndSchedule(this,t,e,n,(t=>this.Iu(t)));return this.su.push(i),i}lu(){this.ou&&so()}verifyOperationInProgress(){}async Tu(){let t;do{t=this.nu,await t}while(t!==this.nu)}Eu(t){for(const e of this.su)if(e.timerId===t)return!0;return!1}du(t){return this.Tu().then((()=>{this.su.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.su)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Tu()}))}Au(t){this.uu.push(t)}Iu(t){const e=this.su.indexOf(t);this.su.splice(e,1)}}class md extends ld{constructor(t,e,n,i){super(t,e,n,i),this.type="firestore",this._queue=new gd,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||vd(this),this._firestoreClient.terminate()}}function yd(t){return t._firestoreClient||vd(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function vd(t){var e,n,i;const r=t._freezeSettings(),o=function(t,e,n,i){return new xs(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,td(i.experimentalLongPollingOptions),i.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new Wh(t._authCredentials,t._appCheckCredentials,t._queue,o),(null===(n=r.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(i=r.localCache)||void 0===i?void 0:i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}class bd{constructor(t){this._byteString=t}static fromBase64String(t){try{return new bd(fs.fromBase64String(t))}catch(t){throw new uo(co.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new bd(fs.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class wd{constructor(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(let i=0;i<e.length;++i)if(0===e[i].length)throw new uo(co.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mo(e)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class xd{constructor(t){this._methodName=t}}class _d{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new uo(co.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new uo(co.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return So(this._lat,t._lat)||So(this._long,t._long)}}const Sd=/^__.*__$/;class kd{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new gl(t,this.data,this.fieldMask,e,this.fieldTransforms):new pl(t,this.data,e,this.fieldTransforms)}}function Ed(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw so()}}class Cd{constructor(t,e,n,i,r,o){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===r&&this.Ru(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(t){return new Cd(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.mu({path:n,gu:!1});return i.pu(t),i}yu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.mu({path:n,gu:!1});return i.Ru(),i}wu(t){return this.mu({path:void 0,gu:!0})}Su(t){return Fd(t,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}Ru(){if(this.path)for(let t=0;t<this.path.length;t++)this.pu(this.path.get(t))}pu(t){if(0===t.length)throw this.Su("Document fields must not be empty");if(Ed(this.Vu)&&Sd.test(t))throw this.Su('Document fields cannot begin and end with "__"')}}class Td{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||gu(t)}Cu(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Cd({Vu:t,methodName:e,Du:n,path:Mo.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Id(t){const e=t._freezeSettings(),n=gu(t._databaseId);return new Td(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Pd(t,e,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=t.Cu(o.merge||o.mergeFields?2:0,e,n,r);Ad("Data must be an object, but it was:",s,i);const a=Dd(i,s);let l,c;if(o.merge)l=new hs(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const t=[];for(const i of o.mergeFields){const r=Od(e,i,n);if(!s.contains(r))throw new uo(co.INVALID_ARGUMENT,"Field '".concat(r,"' is specified in your field mask but missing from your input data."));zd(t,r)||t.push(r)}l=new hs(t),c=s.fieldTransforms.filter((t=>l.covers(t.field)))}else l=null,c=s.fieldTransforms;return new kd(new zs(a),l,c)}function Md(t,e){if(Rd(t=T(t)))return Ad("Unsupported field value:",e,t),Dd(t,e);if(t instanceof xd)return function(t,e){if(!Ed(e.Vu))throw e.Su("".concat(t._methodName,"() can only be used with update() and set()"));if(!e.path)throw e.Su("".concat(t._methodName,"() is not currently supported inside arrays"));const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&4!==e.Vu)throw e.Su("Nested arrays are not supported");return function(t,e){const n=[];let i=0;for(const r of t){let t=Md(r,e.wu(i));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=T(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return qa(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=Eo.fromDate(t);return{timestampValue:$l(e.serializer,n)}}if(t instanceof Eo){const n=new Eo(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:$l(e.serializer,n)}}if(t instanceof _d)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof bd)return{bytesValue:Xl(e.serializer,t._byteString)};if(t instanceof hd){const n=e.databaseId,i=t.firestore._databaseId;if(!i.isEqual(n))throw e.Su("Document reference is for database ".concat(i.projectId,"/").concat(i.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:tc(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Su("Unsupported field value: ".concat(od(t)))}(t,e)}function Dd(t,e){const n={};return os(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rs(t,((t,i)=>{const r=Md(i,e.fu(t));null!=r&&(n[t]=r)})),{mapValue:{fields:n}}}function Rd(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Eo||t instanceof _d||t instanceof bd||t instanceof hd||t instanceof xd)}function Ad(t,e,n){if(!Rd(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const i=od(n);throw"an object"===i?e.Su(t+" a custom object"):e.Su(t+" "+i)}}function Od(t,e,n){if((e=T(e))instanceof wd)return e._internalPath;if("string"==typeof e)return Ld(t,e);throw Fd("Field path arguments must be of type string or ",t,!1,void 0,n)}const Nd=new RegExp("[~\\*/\\[\\]]");function Ld(t,e,n){if(e.search(Nd)>=0)throw Fd("Invalid field path (".concat(e,"). Paths must not contain '~', '*', '/', '[', or ']'"),t,!1,void 0,n);try{return new wd(...e.split("."))._internalPath}catch(Wt){throw Fd("Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),t,!1,void 0,n)}}function Fd(t,e,n,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a="Function ".concat(e,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(i)),s&&(l+=" in document ".concat(r)),l+=")"),new uo(co.INVALID_ARGUMENT,a+t+l)}function zd(t,e){return t.some((t=>t.isEqual(e)))}class Bd{constructor(t,e,n,i,r){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new hd(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Vd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(jd("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Vd extends Bd{data(){return super.data()}}function jd(t,e){return"string"==typeof e?Ld(t,e):e instanceof wd?e._internalPath:e._delegate._internalPath}function Ud(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new uo(co.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hd{convertValue(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ks(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ms(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ys(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw so()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return rs(t,((t,i)=>{n[t]=this.convertValue(i,e)})),n}convertGeoPoint(t){return new _d(ms(t.latitude),ms(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=bs(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ws(t));default:return null}}convertTimestamp(t){const e=gs(t);return new Eo(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Io.fromString(t);ao(_c(n));const i=new _s(n.get(1),n.get(3)),r=new Do(n.popFirst(5));return i.isEqual(e)||io("Document ".concat(r," contains a document reference within a different database (").concat(i.projectId,"/").concat(i.database,") which is not supported. It will be treated as a reference in the current database (").concat(e.projectId,"/").concat(e.database,") instead.")),r}}function Wd(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class Gd{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qd extends Bd{constructor(t,e,n,i,r,o){super(t,e,n,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const e=new Kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(jd("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class Kd extends qd{data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(t)}}class Qd{constructor(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Gd(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new Kd(this._firestore,this._userDataWriter,n.key,n,new Gd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const t=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new uo(co.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>{const i=new Kd(t._firestore,t._userDataWriter,n.doc.key,n.doc,new Gd(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:i,oldIndex:-1,newIndex:e++}}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const i=new Kd(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Gd(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let r=-1,o=-1;return 0!==e.type&&(r=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),o=n.indexOf(e.doc.key)),{type:Yd(e.type),doc:i,oldIndex:r,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Yd(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return so()}}class $d extends Hd{constructor(t){super(),this.firestore=t}convertBytes(t){return new bd(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new hd(this.firestore,null,e)}}function Xd(t,e){return function(t,e){const n=new ho;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){const i=Vh(t);try{const t=await function(t,e){const n=lo(t),i=Eo.now(),r=e.reduce(((t,e)=>t.add(e.key)),ja());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let a=Ra(),l=ja();return n.os.getEntries(t,r).next((t=>{a=t,a.forEach(((t,e)=>{e.isValidDocument()||(l=l.add(t))}))})).next((()=>n.localDocuments.getOverlayedDocuments(t,a))).next((r=>{o=r;const s=[];for(const t of e){const e=dl(t,o.get(t.key).overlayedDocument);null!=e&&s.push(new gl(t.key,e,Bs(e.value.mapValue),sl.exists(!0)))}return n.mutationQueue.addMutationBatch(t,i,s,e)})).next((e=>{s=e;const i=e.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(t,e.batchId,i)}))})).then((()=>({batchId:s.batchId,changes:Na(o)})))}(i.localStore,e);i.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let i=t.Fa[t.currentUser.toKey()];i||(i=new ss(So)),i=i.insert(e,n),t.Fa[t.currentUser.toKey()]=i}(i,t.batchId,n),await Lh(i,t.changes),await zu(i.remoteStore)}catch(t){const e=Ju(t,"Failed to persist write");n.reject(e)}}(await $h(t),e,n))),n.promise}(yd(t),e)}function Jd(t,e,n){const i=n.docs.get(e._key),r=new $d(t);return new qd(t,r,e._key,i,new Gd(n.hasPendingWrites,n.fromCache),e.converter)}new WeakMap;!function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(t){Zr=t}("10.9.0"),dt(new I("firestore",((t,n)=>{let{instanceIdentifier:i,options:r}=n;const o=t.getProvider("app").getImmediate(),s=new md(new mo(t.getProvider("auth-internal")),new wo(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new uo(co.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _s(t.options.projectId,e)}(o,i),o);return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s}),"PUBLIC").setMultipleInstances(!0)),vt(Xr,"4.5.0",t),vt(Xr,"4.5.0","esm2017")}();var Zd=n(579);const tf=function(t){let{name:e,placeholder:n,value:i,onChange:r}=t;return(0,Zd.jsx)("input",{type:"text",name:e,placeholder:n,value:i,onChange:r,required:!0})};const ef=function(t){let{name:e,value:n,onChange:i,options:r}=t;return(0,Zd.jsx)("select",{name:e,value:n,onChange:i,required:!0,children:r.map((t=>(0,Zd.jsx)("option",{value:t.value,children:t.label},t.value)))})};const nf=function(t){let{name:e,placeholder:n,value:i,onChange:r,rows:o}=t;return(0,Zd.jsx)("textarea",{name:e,placeholder:n,value:i,onChange:r,required:!0,rows:o})};const rf=function(t){let{addTodo:e,newTodo:n,setNewTodo:i}=t;const r=t=>{const{name:e,value:r}=t.target;i({...n,[e]:r})};return(0,Zd.jsxs)("form",{onSubmit:e,children:[(0,Zd.jsxs)("div",{className:"form-row",children:[(0,Zd.jsx)(ef,{name:"auditor",value:n.auditor,onChange:r,options:[{label:"Auditor",value:""},{label:"Ivan",value:"ivan"},{label:"Yoanli",value:"yoanli"}]}),(0,Zd.jsx)(ef,{name:"period",value:n.period,onChange:r,options:[{label:"Period",value:""},{label:"1 (6:30 -10:00 PM)",value:"1"},{label:"2 (10:30 PM -02:00 AM)",value:"2"},{label:"3 (2:30 AM -05:00 AM)",value:"3"},{label:"4 (5:15 AM -07:00 AM)",value:"4"}]}),(0,Zd.jsx)(tf,{name:"username",placeholder:"Username",value:n.username,onChange:r}),(0,Zd.jsx)(ef,{name:"afe",value:n.afe,onChange:r,options:[{label:"AFE",value:""},{label:"AFE1",value:"AFE1"},{label:"AFE2",value:"AFE2"},{label:"AFE3",value:"AFE3"}]}),(0,Zd.jsx)(ef,{name:"processPath",value:n.processPath,onChange:r,options:[{label:"Process",value:""},{label:"Pack",value:"Pack"},{label:"Induct",value:"Induct"},{label:"Rebin",value:"Rebin"},{label:"Pack Other",value:"Other"},{label:"Smartpac",value:"Smartpac"}]}),(0,Zd.jsx)(ef,{name:"error",value:n.error,onChange:r,options:[{label:"Error",value:""},{label:"Rebin Error Ind",value:"Reb Err Ind"},{label:"Ind Error Ind",value:"Ind Err Ind"},{label:"Induct Shortage",value:"Ind Shor"},{label:"Wrong Box",value:"Wrong Box"},{label:"Slam Kickout",value:"Slam Kic"},{label:"Item Missing ",value:"Item Miss"},{label:"Item Damaged",value:"Item Dam"},{label:"Item Unscannable",value:"Item Unsca"},{label:"Ship Exception",value:"Ship Exce"}]})]}),(0,Zd.jsx)(ef,{name:"coaching",value:n.coaching,onChange:r,options:[{label:"General pre-build coaching",value:""},{label:"Induct",value:"The auditor coached the associate, focusing on item shortages, scanning inaccuracies, placement errors, and the mishandling of damaged goods. The coaching emphasized enhancing observation, adhering to the 'one piece flow' principle for scanning accuracy, ensuring precise item placement in trays, and promptly reporting damaged items."},{label:"Rebin",value:"The associate was coached explicitly on the importance of carefully verifying chute IDs against the screen instructions before placement, emphasizing a methodical approach over speed to ensure accuracy."},{label:"Pack",value:"The team undertook a comprehensive audit of the Pack process to evaluate overall efficiency and accuracy, focusing on critical stages, including box assembly, item scanning, placement, and the final steps of sealing and labeling packages."},{label:"Slam Kickout",value:"The associate faced an audit for repeated kick-outs related to incorrect label placements, including hazmat and spoon labels. The coaching focused on accurately applying labels and adherence to system instructions to decrease kick-outs."},{label:"None",value:" "}]}),(0,Zd.jsx)(nf,{name:"durable",placeholder:"Personalized Coaching",value:n.durable,onChange:r,rows:"2"}),(0,Zd.jsx)("button",{type:"submit",children:"Add Audit"})]})};var of=n(94);function sf(t){return sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(t)}function af(t){var e=function(t,e){if("object"!=sf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=sf(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sf(e)?e:String(e)}function lf(t,e,n){return(e=af(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cf(t){return t+.5|0}const uf=(t,e,n)=>Math.max(Math.min(t,n),e);function hf(t){return uf(cf(2.55*t),0,255)}function df(t){return uf(cf(255*t),0,255)}function ff(t){return uf(cf(t/2.55)/100,0,1)}function pf(t){return uf(cf(100*t),0,100)}const gf={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},mf=[..."0123456789ABCDEF"],yf=t=>mf[15&t],vf=t=>mf[(240&t)>>4]+mf[15&t],bf=t=>(240&t)>>4===(15&t);function wf(t){var e=(t=>bf(t.r)&&bf(t.g)&&bf(t.b)&&bf(t.a))(t)?yf:vf;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}const xf=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function _f(t,e,n){const i=e*Math.min(n,1-n),r=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+t/30)%12;return n-i*Math.max(Math.min(r-3,9-r,1),-1)};return[r(0),r(8),r(4)]}function Sf(t,e,n){const i=function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(i+t/60)%6;return n-n*e*Math.max(Math.min(r,4-r,1),0)};return[i(5),i(3),i(1)]}function kf(t,e,n){const i=_f(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function Ef(t){const e=t.r/255,n=t.g/255,i=t.b/255,r=Math.max(e,n,i),o=Math.min(e,n,i),s=(r+o)/2;let a,l,c;return r!==o&&(c=r-o,l=s>.5?c/(2-r-o):c/(r+o),a=function(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}(e,n,i,c,r),a=60*a+.5),[0|a,l||0,s]}function Cf(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(df)}function Tf(t,e,n){return Cf(_f,t,e,n)}function If(t){return(t%360+360)%360}function Pf(t){const e=xf.exec(t);let n,i=255;if(!e)return;e[5]!==n&&(i=e[6]?hf(+e[5]):df(+e[5]));const r=If(+e[2]),o=+e[3]/100,s=+e[4]/100;return n="hwb"===e[1]?function(t,e,n){return Cf(kf,t,e,n)}(r,o,s):"hsv"===e[1]?function(t,e,n){return Cf(Sf,t,e,n)}(r,o,s):Tf(r,o,s),{r:n[0],g:n[1],b:n[2],a:i}}const Mf={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Df={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Rf;function Af(t){Rf||(Rf=function(){const t={},e=Object.keys(Df),n=Object.keys(Mf);let i,r,o,s,a;for(i=0;i<e.length;i++){for(s=a=e[i],r=0;r<n.length;r++)o=n[r],a=a.replace(o,Mf[o]);o=parseInt(Df[s],16),t[a]=[o>>16&255,o>>8&255,255&o]}return t}(),Rf.transparent=[0,0,0,0]);const e=Rf[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const Of=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Nf=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,Lf=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Ff(t,e,n){if(t){let i=Ef(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,0===e?360:1)),i=Tf(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function zf(t,e){return t?Object.assign(e||{},t):t}function Bf(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=df(t[3]))):(e=zf(t,{r:0,g:0,b:0,a:1})).a=df(e.a),e}function Vf(t){return"r"===t.charAt(0)?function(t){const e=Of.exec(t);let n,i,r,o=255;if(e){if(e[7]!==n){const t=+e[7];o=e[8]?hf(t):uf(255*t,0,255)}return n=+e[1],i=+e[3],r=+e[5],n=255&(e[2]?hf(n):uf(n,0,255)),i=255&(e[4]?hf(i):uf(i,0,255)),r=255&(e[6]?hf(r):uf(r,0,255)),{r:n,g:i,b:r,a:o}}}(t):Pf(t)}class jf{constructor(t){if(t instanceof jf)return t;const e=typeof t;let n;"object"===e?n=Bf(t):"string"===e&&(n=function(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*gf[t[1]],g:255&17*gf[t[2]],b:255&17*gf[t[3]],a:5===n?17*gf[t[4]]:255}:7!==n&&9!==n||(e={r:gf[t[1]]<<4|gf[t[2]],g:gf[t[3]]<<4|gf[t[4]],b:gf[t[5]]<<4|gf[t[6]],a:9===n?gf[t[7]]<<4|gf[t[8]]:255})),e}(t)||Af(t)||Vf(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=zf(this._rgb);return t&&(t.a=ff(t.a)),t}set rgb(t){this._rgb=Bf(t)}rgbString(){return this._valid?function(t){return t&&(t.a<255?"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(ff(t.a),")"):"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")"))}(this._rgb):void 0}hexString(){return this._valid?wf(this._rgb):void 0}hslString(){return this._valid?function(t){if(!t)return;const e=Ef(t),n=e[0],i=pf(e[1]),r=pf(e[2]);return t.a<255?"hsla(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat(ff(t.a),")"):"hsl(".concat(n,", ").concat(i,"%, ").concat(r,"%)")}(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,i=t.rgb;let r;const o=e===r?.5:e,s=2*o-1,a=n.a-i.a,l=((s*a===-1?s:(s+a)/(1+s*a))+1)/2;r=1-l,n.r=255&l*n.r+r*i.r+.5,n.g=255&l*n.g+r*i.g+.5,n.b=255&l*n.b+r*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,n){const i=Lf(ff(t.r)),r=Lf(ff(t.g)),o=Lf(ff(t.b));return{r:df(Nf(i+n*(Lf(ff(e.r))-i))),g:df(Nf(r+n*(Lf(ff(e.g))-r))),b:df(Nf(o+n*(Lf(ff(e.b))-o))),a:t.a+n*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new jf(this.rgb)}alpha(t){return this._rgb.a=df(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=cf(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ff(this._rgb,2,t),this}darken(t){return Ff(this._rgb,2,-t),this}saturate(t){return Ff(this._rgb,1,t),this}desaturate(t){return Ff(this._rgb,1,-t),this}rotate(t){return function(t,e){var n=Ef(t);n[0]=If(n[0]+e),n=Tf(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}}function Uf(){}const Hf=(()=>{let t=0;return()=>t++})();function Wf(t){return null===t||"undefined"===typeof t}function Gf(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function qf(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function Kf(t){return("number"===typeof t||t instanceof Number)&&isFinite(+t)}function Qf(t,e){return Kf(t)?t:e}function Yf(t,e){return"undefined"===typeof t?e:t}const $f=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Xf(t,e,n){if(t&&"function"===typeof t.call)return t.apply(n,e)}function Jf(t,e,n,i){let r,o,s;if(Gf(t))if(o=t.length,i)for(r=o-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<o;r++)e.call(n,t[r],r);else if(qf(t))for(s=Object.keys(t),o=s.length,r=0;r<o;r++)e.call(n,t[s[r]],s[r])}function Zf(t,e){let n,i,r,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],o=e[n],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function tp(t){if(Gf(t))return t.map(tp);if(qf(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=tp(t[n[r]]);return e}return t}function ep(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function np(t,e,n,i){if(!ep(t))return;const r=e[t],o=n[t];qf(r)&&qf(o)?ip(r,o,i):e[t]=tp(o)}function ip(t,e,n){const i=Gf(e)?e:[e],r=i.length;if(!qf(t))return t;const o=(n=n||{}).merger||np;let s;for(let a=0;a<r;++a){if(s=i[a],!qf(s))continue;const e=Object.keys(s);for(let i=0,r=e.length;i<r;++i)o(e[i],t,s,n)}return t}function rp(t,e){return ip(t,e,{merger:op})}function op(t,e,n){if(!ep(t))return;const i=e[t],r=n[t];qf(i)&&qf(r)?rp(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=tp(r))}const sp={"":t=>t,x:t=>t.x,y:t=>t.y};function ap(t,e){const n=sp[e]||(sp[e]=function(t){const e=function(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}(t);return t=>{for(const n of e){if(""===n)break;t=t&&t[n]}return t}}(e));return n(t)}function lp(t){return t.charAt(0).toUpperCase()+t.slice(1)}const cp=t=>"undefined"!==typeof t,up=t=>"function"===typeof t,hp=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};const dp=Math.PI,fp=2*dp,pp=fp+dp,gp=Number.POSITIVE_INFINITY,mp=dp/180,yp=dp/2,vp=dp/4,bp=2*dp/3,wp=Math.log10,xp=Math.sign;function _p(t,e,n){return Math.abs(t-e)<n}function Sp(t){const e=Math.round(t);t=_p(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(wp(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function kp(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Ep(t,e,n){let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Cp(t){return t*(dp/180)}function Tp(t){return t*(180/dp)}function Ip(t){if(!Kf(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Pp(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let o=Math.atan2(i,n);return o<-.5*dp&&(o+=fp),{angle:o,distance:r}}function Mp(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Dp(t,e){return(t-e+pp)%fp-dp}function Rp(t){return(t%fp+fp)%fp}function Ap(t,e,n,i){const r=Rp(t),o=Rp(e),s=Rp(n),a=Rp(o-r),l=Rp(s-r),c=Rp(r-o),u=Rp(r-s);return r===o||r===s||i&&o===s||a>l&&c<u}function Op(t,e,n){return Math.max(e,Math.min(n,t))}function Np(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Lp(t,e,n){n=n||(n=>t[n]<e);let i,r=t.length-1,o=0;for(;r-o>1;)i=o+r>>1,n(i)?o=i:r=i;return{lo:o,hi:r}}const Fp=(t,e,n,i)=>Lp(t,n,i?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),zp=(t,e,n)=>Lp(t,n,(i=>t[i][e]>=n));const Bp=["push","pop","shift","splice","unshift"];function Vp(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);-1!==r&&i.splice(r,1),i.length>0||(Bp.forEach((e=>{delete t[e]})),delete t._chartjs)}function jp(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Up="undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame;function Hp(t,e){let n=[],i=!1;return function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];n=o,i||(i=!0,Up.call(window,(()=>{i=!1,t.apply(e,n)})))}}const Wp=t=>"start"===t?"left":"end"===t?"right":"center",Gp=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2;function qp(t,e,n){const i=e.length;let r=0,o=i;if(t._sorted){const{iScale:s,_parsed:a}=t,l=s.axis,{min:c,max:u,minDefined:h,maxDefined:d}=s.getUserBounds();h&&(r=Op(Math.min(Fp(a,l,c).lo,n?i:Fp(e,l,s.getPixelForValue(c)).lo),0,i-1)),o=d?Op(Math.max(Fp(a,s.axis,u,!0).hi+1,n?0:Fp(e,l,s.getPixelForValue(u),!0).hi+1),r,i)-r:i-r}return{start:r,count:o}}function Kp(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const o=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),o}const Qp=t=>0===t||1===t,Yp=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*fp/n),$p=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*fp/n)+1,Xp={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*yp),easeOutSine:t=>Math.sin(t*yp),easeInOutSine:t=>-.5*(Math.cos(dp*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>Qp(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Qp(t)?t:Yp(t,.075,.3),easeOutElastic:t=>Qp(t)?t:$p(t,.075,.3),easeInOutElastic(t){const e=.1125;return Qp(t)?t:t<.5?.5*Yp(2*t,e,.45):.5+.5*$p(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-Xp.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*Xp.easeInBounce(2*t):.5*Xp.easeOutBounce(2*t-1)+.5};function Jp(t){if(t&&"object"===typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function Zp(t){return Jp(t)?t:new jf(t)}function tg(t){return Jp(t)?t:new jf(t).saturate(.5).darken(.1).hexString()}const eg=["x","y","borderWidth","radius","tension"],ng=["color","borderColor","backgroundColor"];const ig=new Map;function rg(t,e,n){return function(t,e){e=e||{};const n=t+JSON.stringify(e);let i=ig.get(n);return i||(i=new Intl.NumberFormat(t,e),ig.set(n,i)),i}(e,n).format(t)}const og={values:t=>Gf(t)?t:""+t,numeric(t,e,n){if(0===t)return"0";const i=this.chart.options.locale;let r,o=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(r="scientific"),o=function(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t));return n}(t,n)}const s=wp(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),rg(t,i,l)},logarithmic(t,e,n){if(0===t)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(wp(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?og.numeric.call(this,t,e,n):""}};var sg={formatters:og};const ag=Object.create(null),lg=Object.create(null);function cg(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const e=n[i];t=t[e]||(t[e]=Object.create(null))}return t}function ug(t,e,n){return"string"===typeof e?ip(cg(t,e),n):ip(cg(t,""),e)}class hg{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>tg(e.backgroundColor),this.hoverBorderColor=(t,e)=>tg(e.borderColor),this.hoverColor=(t,e)=>tg(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return ug(this,t,e)}get(t){return cg(this,t)}describe(t,e){return ug(lg,t,e)}override(t,e){return ug(ag,t,e)}route(t,e,n,i){const r=cg(this,t),o=cg(this,n),s="_"+e;Object.defineProperties(r,{[s]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[s],e=o[i];return qf(t)?Object.assign({},e,t):Yf(t,e)},set(t){this[s]=t}}})}apply(t){t.forEach((t=>t(this)))}}var dg=new hg({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:ng},numbers:{type:"number",properties:eg}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:sg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function fg(t,e,n,i,r){let o=e[r];return o||(o=e[r]=t.measureText(r).width,n.push(r)),o>i&&(i=o),i}function pg(t,e,n,i){let r=(i=i||{}).data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},o=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let s=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],void 0===h||null===h||Gf(h)){if(Gf(h))for(c=0,u=h.length;c<u;c++)d=h[c],void 0===d||null===d||Gf(d)||(s=fg(t,r,o,s,d))}else s=fg(t,r,o,s,h);t.restore();const f=o.length/2;if(f>n.length){for(l=0;l<f;l++)delete r[o[l]];o.splice(0,f)}return s}function gg(t,e,n){const i=t.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function mg(t,e){(e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function yg(t,e,n,i){vg(t,e,n,i,null)}function vg(t,e,n,i,r){let o,s,a,l,c,u,h,d;const f=e.pointStyle,p=e.rotation,g=e.radius;let m=(p||0)*mp;if(f&&"object"===typeof f&&(o=f.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return t.save(),t.translate(n,i),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void t.restore();if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:r?t.ellipse(n,i,r/2,g,0,0,fp):t.arc(n,i,g,0,fp),t.closePath();break;case"triangle":u=r?r/2:g,t.moveTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=bp,t.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=bp,t.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),t.closePath();break;case"rectRounded":c=.516*g,l=g-c,s=Math.cos(m+vp)*l,h=Math.cos(m+vp)*(r?r/2-c:l),a=Math.sin(m+vp)*l,d=Math.sin(m+vp)*(r?r/2-c:l),t.arc(n-h,i-a,c,m-dp,m-yp),t.arc(n+d,i-s,c,m-yp,m),t.arc(n+h,i+a,c,m,m+yp),t.arc(n-d,i+s,c,m+yp,m+dp),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=r?r/2:l,t.rect(n-u,i-l,2*u,2*l);break}m+=vp;case"rectRot":h=Math.cos(m)*(r?r/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+d,i-s),t.lineTo(n+h,i+a),t.lineTo(n-d,i+s),t.closePath();break;case"crossRot":m+=vp;case"cross":h=Math.cos(m)*(r?r/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-s),t.lineTo(n-d,i+s);break;case"star":h=Math.cos(m)*(r?r/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-s),t.lineTo(n-d,i+s),m+=vp,h=Math.cos(m)*(r?r/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-s),t.lineTo(n-d,i+s);break;case"line":s=r?r/2:Math.cos(m)*g,a=Math.sin(m)*g,t.moveTo(n-s,i-a),t.lineTo(n+s,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(m)*(r?r/2:g),i+Math.sin(m)*g);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function bg(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function wg(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function xg(t){t.restore()}function _g(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if("middle"===r){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else"after"===r!==!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Sg(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function kg(t,e,n,i,r){if(r.strikethrough||r.underline){const o=t.measureText(i),s=e-o.actualBoundingBoxLeft,a=e+o.actualBoundingBoxRight,l=n-o.actualBoundingBoxAscent,c=n+o.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(s,u),t.lineTo(a,u),t.stroke()}}function Eg(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Cg(t,e,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=Gf(e)?e:[e],a=o.strokeWidth>0&&""!==o.strokeColor;let l,c;for(t.save(),t.font=r.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Wf(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,o),l=0;l<s.length;++l)c=s[l],o.backdrop&&Eg(t,o.backdrop),a&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),Wf(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(c,n,i,o.maxWidth)),t.fillText(c,n,i,o.maxWidth),kg(t,n,i,c,o),i+=Number(r.lineHeight);t.restore()}function Tg(t,e){const{x:n,y:i,w:r,h:o,radius:s}=e;t.arc(n+s.topLeft,i+s.topLeft,s.topLeft,1.5*dp,dp,!0),t.lineTo(n,i+o-s.bottomLeft),t.arc(n+s.bottomLeft,i+o-s.bottomLeft,s.bottomLeft,dp,yp,!0),t.lineTo(n+r-s.bottomRight,i+o),t.arc(n+r-s.bottomRight,i+o-s.bottomRight,s.bottomRight,yp,0,!0),t.lineTo(n+r,i+s.topRight),t.arc(n+r-s.topRight,i+s.topRight,s.topRight,0,-yp,!0),t.lineTo(n+s.topLeft,i)}const Ig=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Pg=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Mg(t,e){const n=(""+t).match(Ig);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}const Dg=t=>+t||0;function Rg(t,e){const n={},i=qf(e),r=i?Object.keys(e):e,o=qf(t)?i?n=>Yf(t[n],t[e[n]]):e=>t[e]:()=>t;for(const s of r)n[s]=Dg(o(s));return n}function Ag(t){return Rg(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Og(t){return Rg(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ng(t){const e=Ag(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Lg(t,e){t=t||{},e=e||dg.font;let n=Yf(t.size,e.size);"string"===typeof n&&(n=parseInt(n,10));let i=Yf(t.style,e.style);i&&!(""+i).match(Pg)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Yf(t.family,e.family),lineHeight:Mg(Yf(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:Yf(t.weight,e.weight),string:""};return r.string=function(t){return!t||Wf(t.size)||Wf(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(r),r}function Fg(t,e,n,i){let r,o,s,a=!0;for(r=0,o=t.length;r<o;++r)if(s=t[r],void 0!==s&&(void 0!==e&&"function"===typeof s&&(s=s(e),a=!1),void 0!==n&&Gf(s)&&(s=s[n%s.length],a=!1),void 0!==s))return i&&!a&&(i.cacheable=!1),s}function zg(t,e){return Object.assign(Object.create(t),e)}function Bg(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>t[0];const r=(arguments.length>2?arguments[2]:void 0)||t;"undefined"===typeof n&&(n=$g("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:n,_getTarget:i,override:i=>Bg([i,...t],e,r,n)};return new Proxy(o,{deleteProperty:(e,n)=>(delete e[n],delete e._keys,delete t[0][n],!0),get:(n,i)=>Wg(n,i,(()=>function(t,e,n,i){let r;for(const o of e)if(r=$g(Ug(o,t),n),"undefined"!==typeof r)return Hg(t,r)?Qg(n,i,t,r):r}(i,e,t,n))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>Xg(t).includes(e),ownKeys:t=>Xg(t),set(t,e,n){const r=t._storage||(t._storage=i());return t[e]=r[e]=n,delete t._keys,!0}})}function Vg(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:jg(t,i),setContext:e=>Vg(t,e,n,i),override:r=>Vg(t.override(r),e,n,i)};return new Proxy(r,{deleteProperty:(e,n)=>(delete e[n],delete t[n],!0),get:(t,e,n)=>Wg(t,e,(()=>function(t,e,n){const{_proxy:i,_context:r,_subProxy:o,_descriptors:s}=t;let a=i[e];up(a)&&s.isScriptable(e)&&(a=function(t,e,n,i){const{_proxy:r,_context:o,_subProxy:s,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(o,s||i);a.delete(t),Hg(t,l)&&(l=Qg(r._scopes,r,t,l));return l}(e,a,t,n));Gf(a)&&a.length&&(a=function(t,e,n,i){const{_proxy:r,_context:o,_subProxy:s,_descriptors:a}=n;if("undefined"!==typeof o.index&&i(t))return e[o.index%e.length];if(qf(e[0])){const n=e,i=r._scopes.filter((t=>t!==n));e=[];for(const l of n){const n=Qg(i,r,t,l);e.push(Vg(n,o,s&&s[t],a))}}return e}(e,a,t,s.isIndexable));Hg(e,a)&&(a=Vg(a,r,o&&o[e],s));return a}(t,e,n))),getOwnPropertyDescriptor:(e,n)=>e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,n)=>Reflect.has(t,n),ownKeys:()=>Reflect.ownKeys(t),set:(e,n,i)=>(t[n]=i,delete e[n],!0)})}function jg(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:up(n)?n:()=>n,isIndexable:up(i)?i:()=>i}}const Ug=(t,e)=>t?t+lp(e):e,Hg=(t,e)=>qf(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function Wg(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const i=n();return t[e]=i,i}function Gg(t,e,n){return up(t)?t(e,n):t}const qg=(t,e)=>!0===t?e:"string"===typeof t?ap(e,t):void 0;function Kg(t,e,n,i,r){for(const o of e){const e=qg(n,o);if(e){t.add(e);const o=Gg(e._fallback,n,r);if("undefined"!==typeof o&&o!==n&&o!==i)return o}else if(!1===e&&"undefined"!==typeof i&&n!==i)return null}return!1}function Qg(t,e,n,i){const r=e._rootScopes,o=Gg(e._fallback,n,i),s=[...t,...r],a=new Set;a.add(i);let l=Yg(a,s,n,o||n,i);return null!==l&&(("undefined"===typeof o||o===n||(l=Yg(a,s,o,l,i),null!==l))&&Bg(Array.from(a),[""],r,o,(()=>function(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];if(Gf(r)&&qf(n))return n;return r||{}}(e,n,i))))}function Yg(t,e,n,i,r){for(;n;)n=Kg(t,e,n,i,r);return n}function $g(t,e){for(const n of e){if(!n)continue;const e=n[t];if("undefined"!==typeof e)return e}}function Xg(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}function Jg(t,e,n,i){const{iScale:r}=t,{key:o="r"}=this._parsing,s=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],s[a]={r:r.parse(ap(u,o),c)};return s}const Zg=Number.EPSILON||1e-14,tm=(t,e)=>e<t.length&&!t[e].skip&&t[e],em=t=>"x"===t?"y":"x";function nm(t,e,n,i){const r=t.skip?e:t,o=e,s=n.skip?e:n,a=Mp(o,r),l=Mp(s,o);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:o.x-h*(s.x-r.x),y:o.y-h*(s.y-r.y)},next:{x:o.x+d*(s.x-r.x),y:o.y+d*(s.y-r.y)}}}function im(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=em(e),i=t.length,r=Array(i).fill(0),o=Array(i);let s,a,l,c=tm(t,0);for(s=0;s<i;++s)if(a=l,l=c,c=tm(t,s+1),l){if(c){const t=c[e]-l[e];r[s]=0!==t?(c[n]-l[n])/t:0}o[s]=a?c?xp(r[s-1])!==xp(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}!function(t,e,n){const i=t.length;let r,o,s,a,l,c=tm(t,0);for(let u=0;u<i-1;++u)l=c,c=tm(t,u+1),l&&c&&(_p(e[u],0,Zg)?n[u]=n[u+1]=0:(r=n[u]/e[u],o=n[u+1]/e[u],a=Math.pow(r,2)+Math.pow(o,2),a<=9||(s=3/Math.sqrt(a),n[u]=r*s*e[u],n[u+1]=o*s*e[u])))}(t,r,o),function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const i=em(n),r=t.length;let o,s,a,l=tm(t,0);for(let c=0;c<r;++c){if(s=a,a=l,l=tm(t,c+1),!a)continue;const r=a[n],u=a[i];s&&(o=(r-s[n])/3,a["cp1".concat(n)]=r-o,a["cp1".concat(i)]=u-o*e[c]),l&&(o=(l[n]-r)/3,a["cp2".concat(n)]=r+o,a["cp2".concat(i)]=u+o*e[c])}}(t,o,e)}function rm(t,e,n){return Math.max(Math.min(t,n),e)}function om(t,e,n,i,r){let o,s,a,l;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)im(t,r);else{let n=i?t[t.length-1]:t[0];for(o=0,s=t.length;o<s;++o)a=t[o],l=nm(n,a,t[Math.min(o+1,s-(i?0:1))%s],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}e.capBezierPoints&&function(t,e){let n,i,r,o,s,a=bg(t[0],e);for(n=0,i=t.length;n<i;++n)s=o,o=a,a=n<i-1&&bg(t[n+1],e),o&&(r=t[n],s&&(r.cp1x=rm(r.cp1x,e.left,e.right),r.cp1y=rm(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=rm(r.cp2x,e.left,e.right),r.cp2y=rm(r.cp2y,e.top,e.bottom)))}(t,n)}function sm(){return"undefined"!==typeof window&&"undefined"!==typeof document}function am(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function lm(t,e,n){let i;return"string"===typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}const cm=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);const um=["top","right","bottom","left"];function hm(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const o=um[r];i[o]=parseFloat(t[e+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const dm=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function fm(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=cm(n),o="border-box"===r.boxSizing,s=hm(r,"padding"),a=hm(r,"border","width"),{x:l,y:c,box:u}=function(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:o}=i;let s,a,l=!1;if(dm(r,o,t.target))s=r,a=o;else{const t=e.getBoundingClientRect();s=i.clientX-t.left,a=i.clientY-t.top,l=!0}return{x:s,y:a,box:l}}(t,n),h=s.left+(u&&a.left),d=s.top+(u&&a.top);let{width:f,height:p}=e;return o&&(f-=s.width+a.width,p-=s.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((c-d)/p*n.height/i)}}const pm=t=>Math.round(10*t)/10;function gm(t,e,n,i){const r=cm(t),o=hm(r,"margin"),s=lm(r.maxWidth,t,"clientWidth")||gp,a=lm(r.maxHeight,t,"clientHeight")||gp,l=function(t,e,n){let i,r;if(void 0===e||void 0===n){const o=am(t);if(o){const t=o.getBoundingClientRect(),s=cm(o),a=hm(s,"border","width"),l=hm(s,"padding");e=t.width-l.width-a.width,n=t.height-l.height-a.height,i=lm(s.maxWidth,o,"clientWidth"),r=lm(s.maxHeight,o,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:i||gp,maxHeight:r||gp}}(t,e,n);let{width:c,height:u}=l;if("content-box"===r.boxSizing){const t=hm(r,"border","width"),e=hm(r,"padding");c-=e.width+t.width,u-=e.height+t.height}c=Math.max(0,c-o.width),u=Math.max(0,i?c/i:u-o.height),c=pm(Math.min(c,s,l.maxWidth)),u=pm(Math.min(u,a,l.maxHeight)),c&&!u&&(u=pm(c/2));return(void 0!==e||void 0!==n)&&i&&l.height&&u>l.height&&(u=l.height,c=pm(Math.floor(u*i))),{width:c,height:u}}function mm(t,e,n){const i=e||1,r=Math.floor(t.height*i),o=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const s=t.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height="".concat(t.height,"px"),s.style.width="".concat(t.width,"px")),(t.currentDevicePixelRatio!==i||s.height!==r||s.width!==o)&&(t.currentDevicePixelRatio=i,s.height=r,s.width=o,t.ctx.setTransform(i,0,0,i,0,0),!0)}const ym=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};sm()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(e){}return t}();function vm(t,e){const n=function(t,e){return cm(t).getPropertyValue(e)}(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function bm(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function wm(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:"middle"===i?n<.5?t.y:e.y:"after"===i?n<1?t.y:e.y:n>0?e.y:t.y}}function xm(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},s=bm(t,r,n),a=bm(r,o,n),l=bm(o,e,n),c=bm(s,a,n),u=bm(a,l,n);return bm(c,u,n)}function _m(t,e,n){return t?function(t,e){return{x:n=>t+t+e-n,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,n):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function Sm(t,e){let n,i;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function km(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Em(t){return"angle"===t?{between:Ap,compare:Dp,normalize:Rp}:{between:Np,compare:(t,e)=>t-e,normalize:t=>t}}function Cm(t){let{start:e,end:n,count:i,loop:r,style:o}=t;return{start:e%i,end:n%i,loop:r&&(n-e+1)%i===0,style:o}}function Tm(t,e,n){if(!n)return[t];const{property:i,start:r,end:o}=n,s=e.length,{compare:a,between:l,normalize:c}=Em(i),{start:u,end:h,loop:d,style:f}=function(t,e,n){const{property:i,start:r,end:o}=n,{between:s,normalize:a}=Em(i),l=e.length;let c,u,{start:h,end:d,loop:f}=t;if(f){for(h+=l,d+=l,c=0,u=l;c<u&&s(a(e[h%l][i]),r,o);++c)h--,d--;h%=l,d%=l}return d<h&&(d+=l),{start:h,end:d,loop:f,style:t.style}}(t,e,n),p=[];let g,m,y,v=!1,b=null;const w=()=>v||l(r,y,g)&&0!==a(r,y),x=()=>!v||0===a(o,g)||l(o,y,g);for(let _=u,S=u;_<=h;++_)m=e[_%s],m.skip||(g=c(m[i]),g!==y&&(v=l(g,r,o),null===b&&w()&&(b=0===a(g,r)?_:S),null!==b&&x()&&(p.push(Cm({start:b,end:_,loop:d,count:s,style:f})),b=null),S=_,y=g));return null!==b&&p.push(Cm({start:b,end:h,loop:d,count:s,style:f})),p}function Im(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const o=Tm(i[r],t.points,e);o.length&&n.push(...o)}return n}function Pm(t,e,n,i){return i&&i.setContext&&n?function(t,e,n,i){const r=t._chart.getContext(),o=Mm(t.options),{_datasetIndex:s,options:{spanGaps:a}}=t,l=n.length,c=[];let u=o,h=e[0].start,d=h;function f(t,e,i,r){const o=a?-1:1;if(t!==e){for(t+=l;n[t%l].skip;)t-=o;for(;n[e%l].skip;)e+=o;t%l!==e%l&&(c.push({start:t%l,end:e%l,loop:i,style:r}),u=r,h=e%l)}}for(const p of e){h=a?h:p.start;let t,e=n[h%l];for(d=h+1;d<=p.end;d++){const o=n[d%l];t=Mm(i.setContext(zg(r,{type:"segment",p0:e,p1:o,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:s}))),Dm(t,u)&&f(h,d-1,p.loop,u),e=o,u=t}h<d-1&&f(h,d-1,p.loop,u)}return c}(t,e,n,i):e}function Mm(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Dm(t,e){if(!e)return!1;const n=[],i=function(t,e){return Jp(e)?(n.includes(e)||n.push(e),n.indexOf(e)):e};return JSON.stringify(t,i)!==JSON.stringify(e,i)}class Rm{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,i){const r=e.listeners[i],o=e.duration;r.forEach((i=>i({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(n-e.start,o)})))}_refresh(){this._request||(this._running=!0,this._request=Up.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),e=0;this._charts.forEach(((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let o,s=r.length-1,a=!1;for(;s>=0;--s)o=r[s],o._active?(o._total>n.duration&&(n.duration=o._total),o.tick(t),a=!0):(r[s]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,n,t,"progress")),r.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),e+=r.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Am=new Rm;const Om="transparent",Nm={boolean:(t,e,n)=>n>.5?e:t,color(t,e,n){const i=Zp(t||Om),r=i.valid&&Zp(e||Om);return r&&r.valid?r.mix(i,n).hexString():e},number:(t,e,n)=>t+(e-t)*n};class Lm{constructor(t,e,n,i){const r=e[n];i=Fg([t.to,i,r,t.from]);const o=Fg([t.from,r,i]);this._active=!0,this._fn=t.fn||Nm[t.type||typeof o],this._easing=Xp[t.easing]||Xp.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,o=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Fg([t.to,e,i,t.from]),this._from=Fg([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,i=this._prop,r=this._from,o=this._loop,s=this._to;let a;if(this._active=r!==s&&(o||e<n),!this._active)return this._target[i]=s,void this._notify(!0);e<0?this._target[i]=r:(a=e/n%2,a=o&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[i]=this._fn(r,s,a))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,n)=>{t.push({res:e,rej:n})}))}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][e]()}}class Fm{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!qf(t))return;const e=Object.keys(dg.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach((i=>{const r=t[i];if(!qf(r))return;const o={};for(const t of e)o[t]=r[t];(Gf(r.properties)&&r.properties||[i]).forEach((t=>{t!==i&&n.has(t)||n.set(t,o)}))}))}_animateOptions(t,e){const n=e.options,i=function(t,e){if(!e)return;let n=t.options;if(!n)return void(t.options=e);n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(t,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&function(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const e=t[i[r]];e&&e.active()&&n.push(e.wait())}return Promise.all(n)}(t.options.$animations,n).then((()=>{t.options=n}),(()=>{})),r}_createAnimations(t,e){const n=this._properties,i=[],r=t.$animations||(t.$animations={}),o=Object.keys(e),s=Date.now();let a;for(a=o.length-1;a>=0;--a){const l=o[a];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(t,e));continue}const c=e[l];let u=r[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,s);continue}u.cancel()}h&&h.duration?(r[l]=u=new Lm(h,t,l,c),i.push(u)):t[l]=c}return i}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(Am.add(this._chart,n),!0):void 0}}function zm(t,e){const n=t&&t.options||{},i=n.reverse,r=void 0===n.min?e:0,o=void 0===n.max?e:0;return{start:i?o:r,end:i?r:o}}function Bm(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,o;for(r=0,o=i.length;r<o;++r)n.push(i[r].index);return n}function Vm(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=t.keys,o="single"===i.mode;let s,a,l,c;if(null!==e){for(s=0,a=r.length;s<a;++s){if(l=+r[s],l===n){if(i.all)continue;break}c=t.values[l],Kf(c)&&(o||0===e||xp(e)===xp(c))&&(e+=c)}return e}}function jm(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function Um(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Hm(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const e=t[r.index];if(n&&e>0||!n&&e<0)return r.index}return null}function Wm(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:o,vScale:s,index:a}=i,l=o.axis,c=s.axis,u=function(t,e,n){return"".concat(t.id,".").concat(e.id,".").concat(n.stack||n.type)}(o,s,i),h=e.length;let d;for(let f=0;f<h;++f){const t=e[f],{[l]:n,[c]:o}=t;d=(t._stacks||(t._stacks={}))[c]=Um(r,u,n),d[a]=o,d._top=Hm(d,s,!0,i.type),d._bottom=Hm(d,s,!1,i.type);(d._visualValues||(d._visualValues={}))[a]=o}}function Gm(t,e){const n=t.scales;return Object.keys(n).filter((t=>n[t].axis===e)).shift()}function qm(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[i]||void 0===e[i][n])return;delete e[i][n],void 0!==e[i]._visualValues&&void 0!==e[i]._visualValues[n]&&delete e[i]._visualValues[n]}}}const Km=t=>"reset"===t||"none"===t,Qm=(t,e)=>e?t:Object.assign({},t);class Ym{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=jm(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&qm(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),i=(t,e,n,i)=>"x"===t?e:"r"===t?i:n,r=e.xAxisID=Yf(n.xAxisID,Gm(t,"x")),o=e.yAxisID=Yf(n.yAxisID,Gm(t,"y")),s=e.rAxisID=Yf(n.rAxisID,Gm(t,"r")),a=e.indexAxis,l=e.iAxisID=i(a,r,o,s),c=e.vAxisID=i(a,o,r,s);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(s),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Vp(this._data,this),t._stacked&&qm(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(qf(e))this._data=function(t){const e=Object.keys(t),n=new Array(e.length);let i,r,o;for(i=0,r=e.length;i<r;++i)o=e[i],n[i]={x:o,y:t[o]};return n}(e);else if(n!==e){if(n){Vp(n,this);const t=this._cachedMeta;qm(t),t._parsed=[]}e&&Object.isExtensible(e)&&(r=this,(i=e)._chartjs?i._chartjs.listeners.push(r):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[r]}}),Bp.forEach((t=>{const e="_onData"+lp(t),n=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];const s=n.apply(this,r);return i._chartjs.listeners.forEach((t=>{"function"===typeof t[e]&&t[e](...r)})),s}})})))),this._syncList=[],this._data=e}var i,r}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=e._stacked;e._stacked=jm(e.vScale,e),e.stack!==n.stack&&(i=!0,qm(e),e.stack=n.stack),this._resyncElements(t),(i||r!==e._stacked)&&Wm(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:o}=n,s=r.axis;let a,l,c,u=0===t&&e===i.length||n._sorted,h=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,c=i;else{c=Gf(i[t])?this.parseArrayData(n,i,t,e):qf(i[t])?this.parseObjectData(n,i,t,e):this.parsePrimitiveData(n,i,t,e);const r=()=>null===l[s]||h&&l[s]<h[s];for(a=0;a<e;++a)n._parsed[a+t]=l=c[a],u&&(r()&&(u=!1),h=l);n._sorted=u}o&&Wm(this,c)}parsePrimitiveData(t,e,n,i){const{iScale:r,vScale:o}=t,s=r.axis,a=o.axis,l=r.getLabels(),c=r===o,u=new Array(i);let h,d,f;for(h=0,d=i;h<d;++h)f=h+n,u[h]={[s]:c||r.parse(l[f],f),[a]:o.parse(e[f],f)};return u}parseArrayData(t,e,n,i){const{xScale:r,yScale:o}=t,s=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],s[a]={x:r.parse(u[0],c),y:o.parse(u[1],c)};return s}parseObjectData(t,e,n,i){const{xScale:r,yScale:o}=t,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,l=new Array(i);let c,u,h,d;for(c=0,u=i;c<u;++c)h=c+n,d=e[h],l[c]={x:r.parse(ap(d,s),h),y:o.parse(ap(d,a),h)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const i=this.chart,r=this._cachedMeta,o=e[t.axis];return Vm({keys:Bm(i,!0),values:e._stacks[t.axis]._visualValues},o,r.index,{mode:n})}updateRangeFromParsed(t,e,n,i){const r=n[e.axis];let o=null===r?NaN:r;const s=i&&n._stacks[e.axis];i&&s&&(i.values=s,o=Vm(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&t===n.iScale,o=i.length,s=this._getOtherScale(t),a=((t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Bm(n,!0),values:null})(e,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}(s);let h,d;function f(){d=i[h];const e=d[s.axis];return!Kf(d[t.axis])||c>e||u<e}for(h=0;h<o&&(f()||(this.updateRangeFromParsed(l,t,d,a),!r));++h);if(r)for(h=o-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(l,t,d,a);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let i,r,o;for(i=0,r=e.length;i<r;++i)o=e[i][t.axis],Kf(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,i=e.vScale,r=this.getParsed(t);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,n,i,r;return qf(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:!1===t}}(Yf(this.options.clip,function(t,e,n){if(!1===n)return!1;const i=zm(t,n),r=zm(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,i=n.data||[],r=e.chartArea,o=[],s=this._drawStart||0,a=this._drawCount||i.length-s,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(t,r,s,a),c=s;c<s+a;++c){const e=i[c];e.hidden||(e.active&&l?o.push(e):e.draw(t,r))}for(c=0;c<o.length;++c)o[c].draw(t,r)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const i=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];r=e.$context||(e.$context=function(t,e,n){return zg(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=function(t,e){return zg(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=n,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const i="active"===e,r=this._cachedDataOpts,o=t+"-"+e,s=r[o],a=this.enableOptionSharing&&cp(n);if(s)return Qm(s,a);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,t),u=i?["".concat(t,"Hover"),"hover",t,""]:[t,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(dg.elements[t]),f=l.resolveNamedOptions(h,d,(()=>this.getContext(n,i,e)),u);return f.$shared&&(f.$shared=a,r[o]=Object.freeze(Qm(f,a))),f}_resolveAnimations(t,e,n){const i=this.chart,r=this._cachedDataOpts,o="animation-".concat(e),s=r[o];if(s)return s;let a;if(!1!==i.options.animation){const i=this.chart.config,r=i.datasetAnimationScopeKeys(this._type,e),o=i.getOptionScopes(this.getDataset(),r);a=i.createResolver(o,this.getContext(t,n,e))}const l=new Fm(i,a&&a.animations);return a&&a._cacheable&&(r[o]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Km(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),i=this._sharedOptions,r=this.getSharedOptions(n),o=this.includeOptions(e,r)||r!==i;return this.updateSharedOptions(r,e,n),{sharedOptions:r,includeOptions:o}}updateElement(t,e,n,i){Km(i)?Object.assign(t,n):this._resolveAnimations(e,i).update(t,n)}updateSharedOptions(t,e,n){t&&!Km(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,i){t.active=i;const r=this.getStyle(e,i);this._resolveAnimations(e,n,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[s,a,l]of this._syncList)this[s](a,l);this._syncList=[];const i=n.length,r=e.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this._cachedMeta,r=i.data,o=t+e;let s;const a=t=>{for(t.length+=e,s=t.length-1;s>=o;s--)t[s]=t[s-e]};for(a(r),s=t;s<o;++s)r[s]=new this.dataElementType;this._parsing&&a(i._parsed),this.parse(t,e),n&&this.updateElements(r,t,e,"reset")}updateElements(t,e,n,i){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,e);n._stacked&&qm(n,i)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,i]=t;this[e](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function $m(t){const e=t.iScale,n=function(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let e=0,r=n.length;e<r;e++)i=i.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=jp(i.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let i,r,o,s,a=e._length;const l=()=>{32767!==o&&-32768!==o&&(cp(s)&&(a=Math.min(a,Math.abs(o-s)||a)),s=o)};for(i=0,r=n.length;i<r;++i)o=e.getPixelForValue(n[i]),l();for(s=void 0,i=0,r=e.ticks.length;i<r;++i)o=e.getPixelForTick(i),l();return a}function Xm(t,e,n,i){return Gf(t)?function(t,e,n,i){const r=n.parse(t[0],i),o=n.parse(t[1],i),s=Math.min(r,o),a=Math.max(r,o);let l=s,c=a;Math.abs(s)>Math.abs(a)&&(l=a,c=s),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:o,min:s,max:a}}(t,e,n,i):e[n.axis]=n.parse(t,i),e}function Jm(t,e,n,i){const r=t.iScale,o=t.vScale,s=r.getLabels(),a=r===o,l=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=e[c],h={},h[r.axis]=a||r.parse(s[c],c),l.push(Xm(d,h,o,c));return l}function Zm(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function ty(t,e,n,i){let r=e.borderSkipped;const o={};if(!r)return void(t.borderSkipped=o);if(!0===r)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:a,reverse:l,top:c,bottom:u}=function(t){let e,n,i,r,o;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",o="start"):(r="start",o="end"),{start:n,end:i,reverse:e,top:r,bottom:o}}(t);"middle"===r&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(o[ey(u,s,a,l)]=!0,r=c)),o[ey(r,s,a,l)]=!0,t.borderSkipped=o}function ey(t,e,n,i){var r,o,s;return i?(s=n,t=ny(t=(r=t)===(o=e)?s:r===s?o:r,n,e)):t=ny(t,e,n),t}function ny(t,e,n){return"start"===t?e:"end"===t?n:t}function iy(t,e,n){let{inflateAmount:i}=e;t.inflateAmount="auto"===i?1===n?.33:0:i}lf(Ym,"defaults",{}),lf(Ym,"datasetElementType",null),lf(Ym,"dataElementType",null);class ry extends Ym{parsePrimitiveData(t,e,n,i){return Jm(t,e,n,i)}parseArrayData(t,e,n,i){return Jm(t,e,n,i)}parseObjectData(t,e,n,i){const{iScale:r,vScale:o}=t,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,l="x"===r.axis?s:a,c="x"===o.axis?s:a,u=[];let h,d,f,p;for(h=n,d=n+i;h<d;++h)p=e[h],f={},f[r.axis]=r.parse(ap(p,l),h),u.push(Xm(ap(p,c),f,o,h));return u}updateRangeFromParsed(t,e,n,i){super.updateRangeFromParsed(t,e,n,i);const r=n._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:i}=e,r=this.getParsed(t),o=r._custom,s=Zm(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,i){const r="reset"===i,{index:o,_cachedMeta:{vScale:s}}=this,a=s.getBasePixel(),l=s.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(e,i);for(let d=e;d<e+n;d++){const e=this.getParsed(d),n=r||Wf(e[s.axis])?{base:a,head:a}:this._calculateBarValuePixels(d),f=this._calculateBarIndexPixels(d,c),p=(e._stacks||{})[s.axis],g={horizontal:l,base:n.base,enableBorderRadius:!p||Zm(e._custom)||o===p._top||o===p._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};h&&(g.options=u||this.resolveDataElementOptions(d,t[d].active?"active":i));const m=g.options||t[d].options;ty(g,m,p,o),iy(g,m,c.ratio),this.updateElement(t[d],d,g,i)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),r=n.options.stacked,o=[],s=t=>{const n=t.controller.getParsed(e),i=n&&n[t.vScale.axis];if(Wf(i)||isNaN(i))return!0};for(const a of i)if((void 0===e||!s(a))&&((!1===r||-1===o.indexOf(a.stack)||void 0===r&&void 0===a.stack)&&o.push(a.stack),a.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const i=this._getStacks(t,n),r=void 0!==e?i.indexOf(e):-1;return-1===r?i.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,i=[];let r,o;for(r=0,o=e.data.length;r<o;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const s=t.barThickness;return{min:s||$m(e),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:s?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:i},options:{base:r,minBarLength:o}}=this,s=r||0,a=this.getParsed(t),l=a._custom,c=Zm(l);let u,h,d=a[e.axis],f=0,p=n?this.applyStack(e,a,n):d;p!==d&&(f=p-d,p=d),c&&(d=l.barStart,p=l.barEnd-l.barStart,0!==d&&xp(d)!==xp(l.barEnd)&&(f=0),f+=d);const g=Wf(r)||c?f:r;let m=e.getPixelForValue(g);if(u=this.chart.getDataVisibility(t)?e.getPixelForValue(f+p):m,h=u-m,Math.abs(h)<o){h=function(t,e,n){return 0!==t?xp(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}(h,e,s)*o,d===s&&(m-=h/2);const t=e.getPixelForDecimal(0),r=e.getPixelForDecimal(1),l=Math.min(t,r),f=Math.max(t,r);m=Math.max(Math.min(m,f),l),u=m+h,n&&!c&&(a._stacks[e.axis]._visualValues[i]=e.getValueForPixel(u)-e.getValueForPixel(m))}if(m===e.getPixelForValue(s)){const t=xp(h)*e.getLineWidthForValue(s)/2;m+=t,h-=t}return{size:h,base:m,head:u,center:u+h/2}}_calculateBarIndexPixels(t,e){const n=e.scale,i=this.options,r=i.skipNull,o=Yf(i.maxBarThickness,1/0);let s,a;if(e.grouped){const n=r?this._getStackCount(t):e.stackCount,l="flex"===i.barThickness?function(t,e,n,i){const r=e.pixels,o=r[t];let s=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;null===s&&(s=o-(null===a?e.end-e.start:a-o)),null===a&&(a=o+o-s);const c=o-(o-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/i,ratio:n.barPercentage,start:c}}(t,e,i,n):function(t,e,n,i){const r=n.barThickness;let o,s;return Wf(r)?(o=e.min*n.categoryPercentage,s=n.barPercentage):(o=r*i,s=1),{chunk:o/i,ratio:s,start:e.pixels[t]-o/2}}(t,e,i,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);s=l.start+l.chunk*c+l.chunk/2,a=Math.min(o,l.chunk*l.ratio)}else s=n.getPixelForValue(this.getParsed(t)[n.axis],t),a=Math.min(o,e.min*e.ratio);return{base:s-a/2,head:s+a/2,center:s,size:a}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,i=n.length;let r=0;for(;r<i;++r)null!==this.getParsed(r)[e.axis]&&n[r].draw(this._ctx)}}lf(ry,"id","bar"),lf(ry,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),lf(ry,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class oy extends Ym{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,i){const r=super.parsePrimitiveData(t,e,n,i);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+n).radius;return r}parseArrayData(t,e,n,i){const r=super.parseArrayData(t,e,n,i);for(let o=0;o<r.length;o++){const t=e[n+o];r[o]._custom=Yf(t[2],this.resolveDataElementOptions(o+n).radius)}return r}parseObjectData(t,e,n,i){const r=super.parseObjectData(t,e,n,i);for(let o=0;o<r.length;o++){const t=e[n+o];r[o]._custom=Yf(t&&t.r&&+t.r,this.resolveDataElementOptions(o+n).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=e,o=this.getParsed(t),s=i.getLabelForValue(o.x),a=r.getLabelForValue(o.y),l=o._custom;return{label:n[t]||"",value:"("+s+", "+a+(l?", "+l:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,i){const r="reset"===i,{iScale:o,vScale:s}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(e,i),c=o.axis,u=s.axis;for(let h=e;h<e+n;h++){const e=t[h],n=!r&&this.getParsed(h),d={},f=d[c]=r?o.getPixelForDecimal(.5):o.getPixelForValue(n[c]),p=d[u]=r?s.getBasePixel():s.getPixelForValue(n[u]);d.skip=isNaN(f)||isNaN(p),l&&(d.options=a||this.resolveDataElementOptions(h,e.active?"active":i),r&&(d.options.radius=0)),this.updateElement(e,h,d,i)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let i=super.resolveDataElementOptions(t,e);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return"active"!==e&&(i.radius=0),i.radius+=Yf(n&&n._custom,r),i}}lf(oy,"id","bubble"),lf(oy,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),lf(oy,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class sy extends Ym{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{let r,o,s=t=>+n[t];if(qf(n[t])){const{key:t="value"}=this._parsing;s=e=>+ap(n[e],t)}for(r=t,o=t+e;r<o;++r)i._parsed[r]=s(r)}}_getRotation(){return Cp(this.options.rotation-90)}_getCircumference(){return Cp(this.options.circumference)}_getRotationExtents(){let t=fp,e=-fp;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),o=i._getCircumference();t=Math.min(t,r),e=Math.max(e,r+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,s=Math.max((Math.min(n.width,n.height)-o)/2,0),a=Math.min((l=this.options.cutout,c=s,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const u=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=function(t,e,n){let i=1,r=1,o=0,s=0;if(e<fp){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(t,e,i)=>Ap(t,a,l,!0)?1:Math.max(e,e*n,i,i*n),p=(t,e,i)=>Ap(t,a,l,!0)?-1:Math.min(e,e*n,i,i*n),g=f(0,c,h),m=f(yp,u,d),y=p(dp,c,h),v=p(dp+yp,u,d);i=(g-y)/2,r=(m-v)/2,o=-(g+y)/2,s=-(m+v)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:s}}(d,h,a),y=(n.width-o)/f,v=(n.height-o)/p,b=Math.max(Math.min(y,v)/2,0),w=$f(this.options.radius,b),x=(w-Math.max(w*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=m*w,i.total=this.calculateTotal(),this.outerRadius=w-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*u,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===i._parsed[t]||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*r/fp)}updateElements(t,e,n,i){const r="reset"===i,o=this.chart,s=o.chartArea,a=o.options.animation,l=(s.left+s.right)/2,c=(s.top+s.bottom)/2,u=r&&a.animateScale,h=u?0:this.innerRadius,d=u?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(e,i);let g,m=this._getRotation();for(g=0;g<e;++g)m+=this._circumference(g,r);for(g=e;g<e+n;++g){const e=this._circumference(g,r),n=t[g],o={x:l+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+e,circumference:e,outerRadius:d,innerRadius:h};p&&(o.options=f||this.resolveDataElementOptions(g,n.active?"active":i)),m+=e,this.updateElement(n,g,o,i)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n,i=0;for(n=0;n<e.length;n++){const r=t._parsed[n];null===r||isNaN(r)||!this.chart.getDataVisibility(n)||e[n].hidden||(i+=Math.abs(r))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?fp*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=rg(e._parsed[t],n.options.locale);return{label:i[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const n=this.chart;let i,r,o,s,a;if(!t)for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){o=n.getDatasetMeta(i),t=o.data,s=o.controller;break}if(!t)return 0;for(i=0,r=t.length;i<r;++i)a=s.resolveDataElementOptions(i),"inner"!==a.borderAlign&&(e=Math.max(e,a.borderWidth||0,a.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,i=t.length;n<i;++n){const t=this.resolveDataElementOptions(n);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(Yf(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}lf(sy,"id","doughnut"),lf(sy,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),lf(sy,"descriptors",{_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),lf(sy,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map(((e,r)=>{const o=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:i,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}});class ay extends Ym{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=e,o=this.chart._animationsDisabled;let{start:s,count:a}=qp(e,i,o);this._drawStart=s,this._drawCount=a,Kp(e)&&(s=0,a=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:l},t),this.updateElements(i,s,a,t)}updateElements(t,e,n,i){const r="reset"===i,{iScale:o,vScale:s,_stacked:a,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(e,i),h=o.axis,d=s.axis,{spanGaps:f,segment:p}=this.options,g=kp(f)?f:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||r||"none"===i,y=e+n,v=t.length;let b=e>0&&this.getParsed(e-1);for(let w=0;w<v;++w){const n=t[w],f=m?n:{};if(w<e||w>=y){f.skip=!0;continue}const v=this.getParsed(w),x=Wf(v[d]),_=f[h]=o.getPixelForValue(v[h],w),S=f[d]=r||x?s.getBasePixel():s.getPixelForValue(a?this.applyStack(s,v,a):v[d],w);f.skip=isNaN(_)||isNaN(S)||x,f.stop=w>0&&Math.abs(v[h]-b[h])>g,p&&(f.parsed=v,f.raw=l.data[w]),u&&(f.options=c||this.resolveDataElementOptions(w,n.active?"active":i)),m||this.updateElement(n,w,f,i),b=v}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}lf(ay,"id","line"),lf(ay,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),lf(ay,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ly extends Ym{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=rg(e._parsed[t].r,n.options.locale);return{label:i[t]||"",value:r}}parseObjectData(t,e,n,i){return Jg.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<e.min&&(e.min=i),i>e.max&&(e.max=i))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,i=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(i/2,0),o=(r-Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=r-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(t,e,n,i){const r="reset"===i,o=this.chart,s=o.options.animation,a=this._cachedMeta.rScale,l=a.xCenter,c=a.yCenter,u=a.getIndexAngle(0)-.5*dp;let h,d=u;const f=360/this.countVisibleElements();for(h=0;h<e;++h)d+=this._computeAngle(h,i,f);for(h=e;h<e+n;h++){const e=t[h];let n=d,p=d+this._computeAngle(h,i,f),g=o.getDataVisibility(h)?a.getDistanceFromCenterForValue(this.getParsed(h).r):0;d=p,r&&(s.animateScale&&(g=0),s.animateRotate&&(n=p=u));const m={x:l,y:c,innerRadius:0,outerRadius:g,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(h,e.active?"active":i)};this.updateElement(e,h,m,i)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&e++})),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?Cp(this.resolveDataElementOptions(t,e).angle||n):0}}lf(ly,"id","polarArea"),lf(ly,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),lf(ly,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map(((e,r)=>{const o=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:i,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class cy extends sy{}lf(cy,"id","pie"),lf(cy,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class uy extends Ym{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,i){return Jg.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta,n=e.dataset,i=e.data||[],r=e.iScale.getLabels();if(n.points=i,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const o={_loop:!0,_fullLoop:r.length===i.length,options:e};this.updateElement(n,void 0,o,t)}this.updateElements(i,0,i.length,t)}updateElements(t,e,n,i){const r=this._cachedMeta.rScale,o="reset"===i;for(let s=e;s<e+n;s++){const e=t[s],n=this.resolveDataElementOptions(s,e.active?"active":i),a=r.getPointPositionForValue(s,this.getParsed(s).r),l=o?r.xCenter:a.x,c=o?r.yCenter:a.y,u={x:l,y:c,angle:a.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(e,s,u,i)}}}lf(uy,"id","radar"),lf(uy,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),lf(uy,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class hy extends Ym{getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=e,o=this.getParsed(t),s=i.getLabelForValue(o.x),a=r.getLabelForValue(o.y);return{label:n[t]||"",value:"("+s+", "+a+")"}}update(t){const e=this._cachedMeta,{data:n=[]}=e,i=this.chart._animationsDisabled;let{start:r,count:o}=qp(e,n,i);if(this._drawStart=r,this._drawCount=o,Kp(e)&&(r=0,o=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:r,_dataset:o}=e;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=n;const s=this.resolveDatasetElementOptions(t);s.segment=this.options.segment,this.updateElement(r,void 0,{animated:!i,options:s},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(n,r,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,n,i){const r="reset"===i,{iScale:o,vScale:s,_stacked:a,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(e,i),u=this.getSharedOptions(c),h=this.includeOptions(i,u),d=o.axis,f=s.axis,{spanGaps:p,segment:g}=this.options,m=kp(p)?p:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||"none"===i;let v=e>0&&this.getParsed(e-1);for(let b=e;b<e+n;++b){const e=t[b],n=this.getParsed(b),c=y?e:{},p=Wf(n[f]),w=c[d]=o.getPixelForValue(n[d],b),x=c[f]=r||p?s.getBasePixel():s.getPixelForValue(a?this.applyStack(s,n,a):n[f],b);c.skip=isNaN(w)||isNaN(x)||p,c.stop=b>0&&Math.abs(n[d]-v[d])>m,g&&(c.parsed=n,c.raw=l.data[b]),h&&(c.options=u||this.resolveDataElementOptions(b,e.active?"active":i)),y||this.updateElement(e,b,c,i),v=n}this.updateSharedOptions(u,i,c)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}const n=t.dataset,i=n.options&&n.options.borderWidth||0;if(!e.length)return i;const r=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(i,r,o)/2}}lf(hy,"id","scatter"),lf(hy,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),lf(hy,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var dy=Object.freeze({__proto__:null,BarController:ry,BubbleController:oy,DoughnutController:sy,LineController:ay,PieController:cy,PolarAreaController:ly,RadarController:uy,ScatterController:hy});function fy(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class py{static override(t){Object.assign(py.prototype,t)}constructor(t){lf(this,"options",void 0),this.options=t||{}}init(){}formats(){return fy()}parse(){return fy()}format(){return fy()}add(){return fy()}diff(){return fy()}startOf(){return fy()}endOf(){return fy()}}var gy=py;function my(t,e,n,i){const{controller:r,data:o,_sorted:s}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&"r"!==e&&s&&o.length){const t=a._reversePixels?zp:Fp;if(!i)return t(o,e,n);if(r._sharedOptions){const i=o[0],r="function"===typeof i.getRange&&i.getRange(e);if(r){const i=t(o,e,n-r),s=t(o,e,n+r);return{lo:i.lo,hi:s.hi}}}}return{lo:0,hi:o.length-1}}function yy(t,e,n,i,r){const o=t.getSortedVisibleDatasetMetas(),s=n[e];for(let a=0,l=o.length;a<l;++a){const{index:t,data:n}=o[a],{lo:l,hi:c}=my(o[a],e,s,r);for(let e=l;e<=c;++e){const r=n[e];r.skip||i(r,t,e)}}}function vy(t,e,n,i,r){const o=[];if(!r&&!t.isPointInArea(e))return o;return yy(t,n,e,(function(n,s,a){(r||bg(n,t.chartArea,0))&&n.inRange(e.x,e.y,i)&&o.push({element:n,datasetIndex:s,index:a})}),!0),o}function by(t,e,n,i,r,o){let s=[];const a=function(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,i){const r=e?Math.abs(t.x-i.x):0,o=n?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}(n);let l=Number.POSITIVE_INFINITY;return yy(t,n,e,(function(n,c,u){const h=n.inRange(e.x,e.y,r);if(i&&!h)return;const d=n.getCenterPoint(r);if(!(!!o||t.isPointInArea(d))&&!h)return;const f=a(e,d);f<l?(s=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&s.push({element:n,datasetIndex:c,index:u})})),s}function wy(t,e,n,i,r,o){return o||t.isPointInArea(e)?"r"!==n||i?by(t,e,n,i,r,o):function(t,e,n,i){let r=[];return yy(t,n,e,(function(t,n,o){const{startAngle:s,endAngle:a}=t.getProps(["startAngle","endAngle"],i),{angle:l}=Pp(t,{x:e.x,y:e.y});Ap(l,s,a)&&r.push({element:t,datasetIndex:n,index:o})})),r}(t,e,n,r):[]}function xy(t,e,n,i,r){const o=[],s="x"===n?"inXRange":"inYRange";let a=!1;return yy(t,n,e,((t,i,l)=>{t[s](e[n],r)&&(o.push({element:t,datasetIndex:i,index:l}),a=a||t.inRange(e.x,e.y,r))})),i&&!a?[]:o}var _y={evaluateInteractionItems:yy,modes:{index(t,e,n,i){const r=fm(e,t),o=n.axis||"x",s=n.includeInvisible||!1,a=n.intersect?vy(t,r,o,i,s):wy(t,r,o,!1,i,s),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=a[0].index,n=t.data[e];n&&!n.skip&&l.push({element:n,datasetIndex:t.index,index:e})})),l):[]},dataset(t,e,n,i){const r=fm(e,t),o=n.axis||"xy",s=n.includeInvisible||!1;let a=n.intersect?vy(t,r,o,i,s):wy(t,r,o,!1,i,s);if(a.length>0){const e=a[0].datasetIndex,n=t.getDatasetMeta(e).data;a=[];for(let t=0;t<n.length;++t)a.push({element:n[t],datasetIndex:e,index:t})}return a},point:(t,e,n,i)=>vy(t,fm(e,t),n.axis||"xy",i,n.includeInvisible||!1),nearest(t,e,n,i){const r=fm(e,t),o=n.axis||"xy",s=n.includeInvisible||!1;return wy(t,r,o,n.intersect,i,s)},x:(t,e,n,i)=>xy(t,fm(e,t),"x",n.intersect,i),y:(t,e,n,i)=>xy(t,fm(e,t),"y",n.intersect,i)}};const Sy=["left","top","right","bottom"];function ky(t,e){return t.filter((t=>t.pos===e))}function Ey(t,e){return t.filter((t=>-1===Sy.indexOf(t.pos)&&t.box.axis===e))}function Cy(t,e){return t.sort(((t,n)=>{const i=e?n:t,r=e?t:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight}))}function Ty(t,e){const n=function(t){const e={};for(const n of t){const{stack:t,pos:i,stackWeight:r}=n;if(!t||!Sy.includes(i))continue;const o=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let o,s,a;for(o=0,s=t.length;o<s;++o){a=t[o];const{fullSize:s}=a.box,l=n[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*i:s&&e.availableWidth,a.height=r):(a.width=i,a.height=c?c*r:s&&e.availableHeight)}return n}function Iy(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function Py(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function My(t,e,n,i){const{pos:r,box:o}=n,s=t.maxPadding;if(!qf(r)){n.size&&(t[r]-=n.size);const e=i[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?o.height:o.width),n.size=e.size/e.count,t[r]+=n.size}o.getPadding&&Py(s,o.getPadding());const a=Math.max(0,e.outerWidth-Iy(s,t,"left","right")),l=Math.max(0,e.outerHeight-Iy(s,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Dy(t,e){const n=e.maxPadding;function i(t){const i={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{i[t]=Math.max(e[t],n[t])})),i}return i(t?["left","right"]:["top","bottom"])}function Ry(t,e,n,i){const r=[];let o,s,a,l,c,u;for(o=0,s=t.length,c=0;o<s;++o){a=t[o],l=a.box,l.update(a.width||e.w,a.height||e.h,Dy(a.horizontal,e));const{same:s,other:h}=My(e,n,a,i);c|=s&&r.length,u=u||h,l.fullSize||r.push(a)}return c&&Ry(r,e,n,i)||u}function Ay(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function Oy(t,e,n,i){const r=n.padding;let{x:o,y:s}=e;for(const a of t){const t=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const i=e.w*c,o=l.size||t.height;cp(l.start)&&(s=l.start),t.fullSize?Ay(t,r.left,s,n.outerWidth-r.right-r.left,o):Ay(t,e.left+l.placed,s,i,o),l.start=s,l.placed+=i,s=t.bottom}else{const i=e.h*c,s=l.size||t.width;cp(l.start)&&(o=l.start),t.fullSize?Ay(t,o,r.top,s,n.outerHeight-r.bottom-r.top):Ay(t,o,e.top+l.placed,s,i),l.start=o,l.placed+=i,o=t.right}}e.x=o,e.y=s}var Ny={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=Ng(t.options.layout.padding),o=Math.max(e-r.width,0),s=Math.max(n-r.height,0),a=function(t){const e=function(t){const e=[];let n,i,r,o,s,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],({position:o,options:{stack:s,stackWeight:a=1}}=r),e.push({index:n,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&o+s,stackWeight:a});return e}(t),n=Cy(e.filter((t=>t.box.fullSize)),!0),i=Cy(ky(e,"left"),!0),r=Cy(ky(e,"right")),o=Cy(ky(e,"top"),!0),s=Cy(ky(e,"bottom")),a=Ey(e,"x"),l=Ey(e,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:r.concat(l).concat(s).concat(a),chartArea:ky(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:o.concat(s).concat(a)}}(t.boxes),l=a.vertical,c=a.horizontal;Jf(t.boxes,(t=>{"function"===typeof t.beforeLayout&&t.beforeLayout()}));const u=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/u,hBoxMaxHeight:s/2}),d=Object.assign({},r);Py(d,Ng(i));const f=Object.assign({maxPadding:d,w:o,h:s,x:r.left,y:r.top},r),p=Ty(l.concat(c),h);Ry(a.fullSize,f,h,p),Ry(l,f,h,p),Ry(c,f,h,p)&&Ry(l,f,h,p),function(t){const e=t.maxPadding;function n(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(f),Oy(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,Oy(a.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Jf(a.chartArea,(e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class Ly{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,i){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):n)}}isAttached(t){return!0}updateConfig(t){}}class Fy extends Ly{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const zy="$chartjs",By={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Vy=t=>null===t||""===t;const jy=!!ym&&{passive:!0};function Uy(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,jy)}function Hy(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Wy(t,e,n){const i=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||Hy(n.addedNodes,i),e=e&&!Hy(n.removedNodes,i);e&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}function Gy(t,e,n){const i=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||Hy(n.removedNodes,i),e=e&&!Hy(n.addedNodes,i);e&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}const qy=new Map;let Ky=0;function Qy(){const t=window.devicePixelRatio;t!==Ky&&(Ky=t,qy.forEach(((e,n)=>{n.currentDevicePixelRatio!==t&&e()})))}function Yy(t,e,n){const i=t.canvas,r=i&&am(i);if(!r)return;const o=Hp(((t,e)=>{const i=r.clientWidth;n(t,e),i<r.clientWidth&&n()}),window),s=new ResizeObserver((t=>{const e=t[0],n=e.contentRect.width,i=e.contentRect.height;0===n&&0===i||o(n,i)}));return s.observe(r),function(t,e){qy.size||window.addEventListener("resize",Qy),qy.set(t,e)}(t,o),s}function $y(t,e,n){n&&n.disconnect(),"resize"===e&&function(t){qy.delete(t),qy.size||window.removeEventListener("resize",Qy)}(t)}function Xy(t,e,n){const i=t.canvas,r=Hp((e=>{null!==t.ctx&&n(function(t,e){const n=By[t.type]||t.type,{x:i,y:r}=fm(t,e);return{type:n,chart:e,native:t,x:void 0!==i?i:null,y:void 0!==r?r:null}}(e,t))}),t);return function(t,e,n){t&&t.addEventListener(e,n,jy)}(i,e,r),r}class Jy extends Ly{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[zy]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Vy(r)){const e=vm(t,"width");void 0!==e&&(t.width=e)}if(Vy(i))if(""===t.style.height)t.height=t.width/(e||2);else{const e=vm(t,"height");void 0!==e&&(t.height=e)}}(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[zy])return!1;const n=e[zy].initial;["height","width"].forEach((t=>{const i=n[t];Wf(i)?e.removeAttribute(t):e.setAttribute(t,i)}));const i=n.style||{};return Object.keys(i).forEach((t=>{e.style[t]=i[t]})),e.width=e.width,delete e[zy],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),r={attach:Wy,detach:Gy,resize:Yy}[e]||Xy;i[e]=r(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),i=n[e];if(!i)return;({attach:$y,detach:$y,resize:$y}[e]||Uy)(t,e,i),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,i){return gm(t,e,n,i)}isAttached(t){const e=am(t);return!(!e||!e.isConnected)}}class Zy{constructor(){lf(this,"x",void 0),lf(this,"y",void 0),lf(this,"active",!1),lf(this,"options",void 0),lf(this,"$animations",void 0)}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return kp(this.x)&&kp(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const i={};return t.forEach((t=>{i[t]=n[t]&&n[t].active()?n[t]._to:this[t]})),i}}function tv(t,e){const n=t.options.ticks,i=function(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}(t),r=Math.min(n.maxTicksLimit||i,i),o=n.major.enabled?function(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}(e):[],s=o.length,a=o[0],l=o[s-1],c=[];if(s>r)return function(t,e,n,i){let r,o=0,s=n[0];for(i=Math.ceil(i),r=0;r<t.length;r++)r===s&&(e.push(t[r]),o++,s=n[o*i])}(e,c,o,s/r),c;const u=function(t,e,n){const i=function(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}(t),r=e.length/n;if(!i)return Math.max(r,1);const o=function(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(0|n)&&e.push(n),e.sort(((t,e)=>t-e)).pop(),e}(i);for(let s=0,a=o.length-1;s<a;s++){const t=o[s];if(t>r)return t}return Math.max(r,1)}(o,e,r);if(s>0){let t,n;const i=s>1?Math.round((l-a)/(s-1)):null;for(ev(e,c,u,Wf(i)?0:a-i,a),t=0,n=s-1;t<n;t++)ev(e,c,u,o[t],o[t+1]);return ev(e,c,u,l,Wf(i)?e.length:l+i),c}return ev(e,c,u),c}function ev(t,e,n,i,r){const o=Yf(i,0),s=Math.min(Yf(r,t.length),t.length);let a,l,c,u=0;for(n=Math.ceil(n),r&&(a=r-i,n=a/Math.floor(a/n)),c=o;c<0;)u++,c=Math.round(o+u*n);for(l=Math.max(o,0);l<s;l++)l===c&&(e.push(t[l]),u++,c=Math.round(o+u*n))}lf(Zy,"defaults",{}),lf(Zy,"defaultRoutes",void 0);const nv=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n,iv=(t,e)=>Math.min(e||t,t);function rv(t,e){const n=[],i=t.length/e,r=t.length;let o=0;for(;o<r;o+=i)n.push(t[Math.floor(o)]);return n}function ov(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),o=t._startPixel,s=t._endPixel,a=1e-6;let l,c=t.getPixelForTick(r);if(!(n&&(l=1===i?Math.max(c-o,s-c):0===e?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(r-1))/2,c+=r<e?l:-l,c<o-a||c>s+a)))return c}function sv(t){return t.drawTicks?t.tickLength:0}function av(t,e){if(!t.display)return 0;const n=Lg(t.font,e),i=Ng(t.padding);return(Gf(t.text)?t.text.length:1)*n.lineHeight+i.height}function lv(t,e,n){let i=Wp(t);return(n&&"right"!==e||!n&&"right"===e)&&(i=(t=>"left"===t?"right":"right"===t?"left":t)(i)),i}class cv extends Zy{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:i}=this;return t=Qf(t,Number.POSITIVE_INFINITY),e=Qf(e,Number.NEGATIVE_INFINITY),n=Qf(n,Number.POSITIVE_INFINITY),i=Qf(i,Number.NEGATIVE_INFINITY),{min:Qf(t,n),max:Qf(e,i),minDefined:Kf(t),maxDefined:Kf(e)}}getMinMax(t){let e,{min:n,max:i,minDefined:r,maxDefined:o}=this.getUserBounds();if(r&&o)return{min:n,max:i};const s=this.getMatchingVisibleMetas();for(let a=0,l=s.length;a<l;++a)e=s[a].controller.getMinMax(this,t),r||(n=Math.min(n,e.min)),o||(i=Math.max(i,e.max));return n=o&&n>i?i:n,i=r&&n>i?n:i,{min:Qf(n,Qf(i,n)),max:Qf(i,Qf(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Xf(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:i,grace:r,ticks:o}=this.options,s=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,n){const{min:i,max:r}=t,o=$f(e,(r-i)/2),s=(t,e)=>n&&0===t?0:t+e;return{min:s(i,-Math.abs(o)),max:s(r,o)}}(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=s<this.ticks.length;this._convertTicksToLabels(a?rv(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=tv(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Xf(this.options.afterUpdate,[this])}beforeSetDimensions(){Xf(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Xf(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Xf(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Xf(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,i,r;for(n=0,i=t.length;n<i;n++)r=t[n],r.label=Xf(e.callback,[r.value,n,t],this)}afterTickToLabelConversion(){Xf(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Xf(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=iv(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,r=e.maxRotation;let o,s,a,l=i;if(!this._isVisible()||!e.display||i>=r||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=Op(this.chart.width-u,0,this.maxWidth);o=t.offset?this.maxWidth/n:d/(n-1),u+6>o&&(o=d/(n-(t.offset?.5:1)),s=this.maxHeight-sv(t.grid)-e.padding-av(t.title,this.chart.options.font),a=Math.sqrt(u*u+h*h),l=Tp(Math.min(Math.asin(Op((c.highest.height+6)/o,-1,1)),Math.asin(Op(s/a,-1,1))-Math.asin(Op(h/a,-1,1)))),l=Math.max(i,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){Xf(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Xf(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:i,grid:r}}=this,o=this._isVisible(),s=this.isHorizontal();if(o){const o=av(i,e.options.font);if(s?(t.width=this.maxWidth,t.height=sv(r)+o):(t.height=this.maxHeight,t.width=sv(r)+o),n.display&&this.ticks.length){const{first:e,last:i,widest:r,highest:o}=this._getLabelSizes(),a=2*n.padding,l=Cp(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(s){const e=n.mirror?0:u*r.width+c*o.height;t.height=Math.min(this.maxHeight,t.height+e+a)}else{const e=n.mirror?0:c*r.width+u*o.height;t.width=Math.min(this.maxWidth,t.width+e+a)}this._calculatePadding(e,i,u,c)}}this._handleMargins(),s?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,i){const{ticks:{align:r,padding:o},position:s}=this.options,a=0!==this.labelRotation,l="top"!==s&&"x"===this.axis;if(this.isHorizontal()){const s=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;a?l?(u=i*t.width,h=n*e.height):(u=n*t.height,h=i*e.width):"start"===r?h=e.width:"end"===r?u=t.width:"inner"!==r&&(u=t.width/2,h=e.width/2),this.paddingLeft=Math.max((u-s+o)*this.width/(this.width-s),0),this.paddingRight=Math.max((h-c+o)*this.width/(this.width-c),0)}else{let n=e.height/2,i=t.height/2;"start"===r?(n=0,i=t.height):"end"===r&&(n=e.height,i=0),this.paddingTop=n+o,this.paddingBottom=i+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Xf(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)Wf(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=rv(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:i,_longestTextCache:r}=this,o=[],s=[],a=Math.floor(e/iv(e,n));let l,c,u,h,d,f,p,g,m,y,v,b=0,w=0;for(l=0;l<e;l+=a){if(h=t[l].label,d=this._resolveTickFontOptions(l),i.font=f=d.string,p=r[f]=r[f]||{data:{},gc:[]},g=d.lineHeight,m=y=0,Wf(h)||Gf(h)){if(Gf(h))for(c=0,u=h.length;c<u;++c)v=h[c],Wf(v)||Gf(v)||(m=fg(i,p.data,p.gc,m,v),y+=g)}else m=fg(i,p.data,p.gc,m,h),y=g;o.push(m),s.push(y),b=Math.max(m,b),w=Math.max(y,w)}!function(t,e){Jf(t,(t=>{const n=t.gc,i=n.length/2;let r;if(i>e){for(r=0;r<i;++r)delete t.data[n[r]];n.splice(0,i)}}))}(r,e);const x=o.indexOf(b),_=s.indexOf(w),S=t=>({width:o[t]||0,height:s[t]||0});return{first:S(0),last:S(e-1),widest:S(x),highest:S(_),widths:o,heights:s}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Op(this._alignToPixels?gg(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=function(t,e,n){return zg(t,{tick:n,index:e,type:"tick"})}(this.getContext(),t,n))}return this.$context||(this.$context=zg(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=Cp(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,s=r?r.widest.width+o:0,a=r?r.highest.height+o:0;return this.isHorizontal()?a*n>s*i?s/n:a/i:a*i<s*n?a/n:s/i}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,i=this.options,{grid:r,position:o,border:s}=i,a=r.offset,l=this.isHorizontal(),c=this.ticks.length+(a?1:0),u=sv(r),h=[],d=s.setContext(this.getContext()),f=d.display?d.width:0,p=f/2,g=function(t){return gg(n,t,f)};let m,y,v,b,w,x,_,S,k,E,C,T;if("top"===o)m=g(this.bottom),x=this.bottom-u,S=m-p,E=g(t.top)+p,T=t.bottom;else if("bottom"===o)m=g(this.top),E=t.top,T=g(t.bottom)-p,x=m+p,S=this.top+u;else if("left"===o)m=g(this.right),w=this.right-u,_=m-p,k=g(t.left)+p,C=t.right;else if("right"===o)m=g(this.left),k=t.left,C=g(t.right)-p,w=m+p,_=this.left+u;else if("x"===e){if("center"===o)m=g((t.top+t.bottom)/2+.5);else if(qf(o)){const t=Object.keys(o)[0],e=o[t];m=g(this.chart.scales[t].getPixelForValue(e))}E=t.top,T=t.bottom,x=m+p,S=x+u}else if("y"===e){if("center"===o)m=g((t.left+t.right)/2);else if(qf(o)){const t=Object.keys(o)[0],e=o[t];m=g(this.chart.scales[t].getPixelForValue(e))}w=m-p,_=w-u,k=t.left,C=t.right}const I=Yf(i.ticks.maxTicksLimit,c),P=Math.max(1,Math.ceil(c/I));for(y=0;y<c;y+=P){const t=this.getContext(y),e=r.setContext(t),i=s.setContext(t),o=e.lineWidth,c=e.color,u=i.dash||[],d=i.dashOffset,f=e.tickWidth,p=e.tickColor,g=e.tickBorderDash||[],m=e.tickBorderDashOffset;v=ov(this,y,a),void 0!==v&&(b=gg(n,v,o),l?w=_=k=C=b:x=S=E=T=b,h.push({tx1:w,ty1:x,tx2:_,ty2:S,x1:k,y1:E,x2:C,y2:T,width:o,color:c,borderDash:u,borderDashOffset:d,tickWidth:f,tickColor:p,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=c,this._borderValue=m,h}_computeLabelItems(t){const e=this.axis,n=this.options,{position:i,ticks:r}=n,o=this.isHorizontal(),s=this.ticks,{align:a,crossAlign:l,padding:c,mirror:u}=r,h=sv(n.grid),d=h+c,f=u?-c:d,p=-Cp(this.labelRotation),g=[];let m,y,v,b,w,x,_,S,k,E,C,T,I="middle";if("top"===i)x=this.bottom-f,_=this._getXAxisLabelAlignment();else if("bottom"===i)x=this.top+f,_=this._getXAxisLabelAlignment();else if("left"===i){const t=this._getYAxisLabelAlignment(h);_=t.textAlign,w=t.x}else if("right"===i){const t=this._getYAxisLabelAlignment(h);_=t.textAlign,w=t.x}else if("x"===e){if("center"===i)x=(t.top+t.bottom)/2+d;else if(qf(i)){const t=Object.keys(i)[0],e=i[t];x=this.chart.scales[t].getPixelForValue(e)+d}_=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===i)w=(t.left+t.right)/2-d;else if(qf(i)){const t=Object.keys(i)[0],e=i[t];w=this.chart.scales[t].getPixelForValue(e)}_=this._getYAxisLabelAlignment(h).textAlign}"y"===e&&("start"===a?I="top":"end"===a&&(I="bottom"));const P=this._getLabelSizes();for(m=0,y=s.length;m<y;++m){v=s[m],b=v.label;const t=r.setContext(this.getContext(m));S=this.getPixelForTick(m)+r.labelOffset,k=this._resolveTickFontOptions(m),E=k.lineHeight,C=Gf(b)?b.length:1;const e=C/2,n=t.color,a=t.textStrokeColor,c=t.textStrokeWidth;let h,d=_;if(o?(w=S,"inner"===_&&(d=m===y-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),T="top"===i?"near"===l||0!==p?-C*E+E/2:"center"===l?-P.highest.height/2-e*E+E:-P.highest.height+E/2:"near"===l||0!==p?E/2:"center"===l?P.highest.height/2-e*E:P.highest.height-C*E,u&&(T*=-1),0===p||t.showLabelBackdrop||(w+=E/2*Math.sin(p))):(x=S,T=(1-C)*E/2),t.showLabelBackdrop){const e=Ng(t.backdropPadding),n=P.heights[m],i=P.widths[m];let r=T-e.top,o=0-e.left;switch(I){case"middle":r-=n/2;break;case"bottom":r-=n}switch(_){case"center":o-=i/2;break;case"right":o-=i;break;case"inner":m===y-1?o-=i:m>0&&(o-=i/2)}h={left:o,top:r,width:i+e.width,height:n+e.height,color:t.backdropColor}}g.push({label:b,font:k,textOffset:T,options:{rotation:p,color:n,strokeColor:a,strokeWidth:c,textAlign:d,textBaseline:I,translation:[w,x],backdrop:h}})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Cp(this.labelRotation))return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align?n="right":"inner"===e.align&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,o=t+r,s=this._getLabelSizes().widest.width;let a,l;return"left"===e?i?(l=this.right+r,"near"===n?a="left":"center"===n?(a="center",l+=s/2):(a="right",l+=s)):(l=this.right-o,"near"===n?a="right":"center"===n?(a="center",l-=s/2):(a="left",l=this.left)):"right"===e?i?(l=this.left+r,"near"===n?a="right":"center"===n?(a="center",l-=s/2):(a="left",l-=s)):(l=this.left+o,"near"===n?a="left":"center"===n?(a="center",l+=s/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:i,width:r,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,i,r,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks.findIndex((e=>e.value===t));if(n>=0){return e.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const s=(t,e,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(r=0,o=i.length;r<o;++r){const t=i[r];e.drawOnChartArea&&s({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&s({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),o=n.display?r.width:0;if(!o)return;const s=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=gg(t,this.left,o)-o/2,c=gg(t,this.right,s)+s/2,u=h=a):(u=gg(t,this.top,o)-o/2,h=gg(t,this.bottom,s)+s/2,l=c=a),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(l,u),e.lineTo(c,h),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,n=this._computeLabelArea();n&&wg(e,n);const i=this.getLabelItems(t);for(const r of i){const t=r.options,n=r.font;Cg(e,r.label,0,r.textOffset,n,t)}n&&xg(e)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:i}}=this;if(!n.display)return;const r=Lg(n.font),o=Ng(n.padding),s=n.align;let a=r.lineHeight/2;"bottom"===e||"center"===e||qf(e)?(a+=o.bottom,Gf(n.text)&&(a+=r.lineHeight*(n.text.length-1))):a+=o.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=function(t,e,n,i){const{top:r,left:o,bottom:s,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h,d,f,p=0;const g=s-r,m=a-o;if(t.isHorizontal()){if(d=Gp(i,o,a),qf(n)){const t=Object.keys(n)[0],i=n[t];f=u[t].getPixelForValue(i)+g-e}else f="center"===n?(c.bottom+c.top)/2+g-e:nv(t,n,e);h=a-o}else{if(qf(n)){const t=Object.keys(n)[0],i=n[t];d=u[t].getPixelForValue(i)-m+e}else d="center"===n?(c.left+c.right)/2-m+e:nv(t,n,e);f=Gp(i,s,r),p="left"===n?-yp:yp}return{titleX:d,titleY:f,maxWidth:h,rotation:p}}(this,a,e,s);Cg(t,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:h,textAlign:lv(s,e,i),textBaseline:"middle",translation:[l,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=Yf(t.grid&&t.grid.z,-1),i=Yf(t.border&&t.border.z,0);return this._isVisible()&&this.draw===cv.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,o;for(r=0,o=e.length;r<o;++r){const o=e[r];o[n]!==this.id||t&&o.type!==t||i.push(o)}return i}_resolveTickFontOptions(t){return Lg(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class uv{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;(function(t){return"id"in t&&"defaults"in t})(e)&&(n=this.register(e));const i=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,function(t,e,n){const i=ip(Object.create(null),[n?dg.get(n):{},dg.get(e),t.defaults]);dg.set(e,i),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((n=>{const i=n.split("."),r=i.pop(),o=[t].concat(i).join("."),s=e[n].split("."),a=s.pop(),l=s.join(".");dg.route(o,r,l,a)}))}(e,t.defaultRoutes);t.descriptors&&dg.describe(e,t.descriptors)}(t,o,n),this.override&&dg.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,i=this.scope;n in e&&delete e[n],i&&n in dg[i]&&(delete dg[i][n],this.override&&delete ag[n])}}class hv{constructor(){this.controllers=new uv(Ym,"datasets",!0),this.elements=new uv(Zy,"elements"),this.plugins=new uv(Object,"plugins"),this.scales=new uv(cv,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e)}remove(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e)}addControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.controllers)}addElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.elements)}addPlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.plugins)}addScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.controllers)}removeElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.elements)}removePlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.plugins)}removeScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.scales)}_each(t,e,n){[...e].forEach((e=>{const i=n||this._getRegistryForType(e);n||i.isForType(e)||i===this.plugins&&e.id?this._exec(t,i,e):Jf(e,(e=>{const i=n||this._getRegistryForType(e);this._exec(t,i,e)}))}))}_exec(t,e,n){const i=lp(t);Xf(n["before"+i],[],n),e[t](n),Xf(n["after"+i],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const i=e.get(t);if(void 0===i)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var dv=new hv;class fv{constructor(){this._init=[]}notify(t,e,n,i){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(r,t,e,n);return"afterDestroy"===e&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,n,i){i=i||{};for(const r of t){const t=r.plugin;if(!1===Xf(t[n],[e,i,r.options],t)&&i.cancelable)return!1}return!0}invalidate(){Wf(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,i=Yf(n.options&&n.options.plugins,{}),r=function(t){const e={},n=[],i=Object.keys(dv.plugins.items);for(let o=0;o<i.length;o++)n.push(dv.getPlugin(i[o]));const r=t.plugins||[];for(let o=0;o<r.length;o++){const t=r[o];-1===n.indexOf(t)&&(n.push(t),e[t.id]=!0)}return{plugins:n,localIds:e}}(n);return!1!==i||e?function(t,e,n,i){let{plugins:r,localIds:o}=e;const s=[],a=t.getContext();for(const l of r){const e=l.id,r=pv(n[e],i);null!==r&&s.push({plugin:l,options:gv(t.config,{plugin:l,local:o[e]},r,a)})}return s}(t,r,i,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,i=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(i(e,n),t,"stop"),this._notify(i(n,e),t,"start")}}function pv(t,e){return e||!1!==t?!0===t?{}:t:null}function gv(t,e,n,i){let{plugin:r,local:o}=e;const s=t.pluginScopeKeys(r),a=t.getOptionScopes(n,s);return o&&r.defaults&&a.push(r.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function mv(t,e){const n=dg.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function yv(t){if("x"===t||"y"===t||"r"===t)return t}function vv(t){if(yv(t))return t;for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(const o of n){const e=o.axis||("top"===(r=o.position)||"bottom"===r?"x":"left"===r||"right"===r?"y":void 0)||t.length>1&&yv(t[0].toLowerCase());if(e)return e}var r;throw new Error("Cannot determine type of '".concat(t,"' axis. Please provide 'axis' or 'position' option."))}function bv(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function wv(t,e){const n=ag[t.type]||{scales:{}},i=e.scales||{},r=mv(t.type,e),o=Object.create(null);return Object.keys(i).forEach((e=>{const s=i[e];if(!qf(s))return console.error("Invalid scale configuration for scale: ".concat(e));if(s._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(e));const a=vv(e,s,function(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter((e=>e.xAxisID===t||e.yAxisID===t));if(n.length)return bv(t,"x",n[0])||bv(t,"y",n[0])}return{}}(e,t),dg.scales[s.type]),l=function(t,e){return t===e?"_index_":"_value_"}(a,r),c=n.scales||{};o[e]=rp(Object.create(null),[{axis:a},s,c[a],c[l]])})),t.data.datasets.forEach((n=>{const r=n.type||t.type,s=n.indexAxis||mv(r,e),a=(ag[r]||{}).scales||{};Object.keys(a).forEach((t=>{const e=function(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,s),r=n[e+"AxisID"]||e;o[r]=o[r]||Object.create(null),rp(o[r],[{axis:e},i[r],a[t]])}))})),Object.keys(o).forEach((t=>{const e=o[t];rp(e,[dg.scales[e.type],dg.scale])})),o}function xv(t){const e=t.options||(t.options={});e.plugins=Yf(e.plugins,{}),e.scales=wv(t,e)}function _v(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const Sv=new Map,kv=new Set;function Ev(t,e){let n=Sv.get(t);return n||(n=e(),Sv.set(t,n),kv.add(n)),n}const Cv=(t,e,n)=>{const i=ap(e,n);void 0!==i&&t.add(i)};class Tv{constructor(t){this._config=function(t){return(t=t||{}).data=_v(t.data),xv(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=_v(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),xv(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ev(t,(()=>[["datasets.".concat(t),""]]))}datasetAnimationScopeKeys(t,e){return Ev("".concat(t,".transition.").concat(e),(()=>[["datasets.".concat(t,".transitions.").concat(e),"transitions.".concat(e)],["datasets.".concat(t),""]]))}datasetElementScopeKeys(t,e){return Ev("".concat(t,"-").concat(e),(()=>[["datasets.".concat(t,".elements.").concat(e),"datasets.".concat(t),"elements.".concat(e),""]]))}pluginScopeKeys(t){const e=t.id,n=this.type;return Ev("".concat(n,"-plugin-").concat(e),(()=>[["plugins.".concat(e),...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const n=this._scopeCache;let i=n.get(t);return i&&!e||(i=new Map,n.set(t,i)),i}getOptionScopes(t,e,n){const{options:i,type:r}=this,o=this._cachedScopes(t,n),s=o.get(e);if(s)return s;const a=new Set;e.forEach((e=>{t&&(a.add(t),e.forEach((e=>Cv(a,t,e)))),e.forEach((t=>Cv(a,i,t))),e.forEach((t=>Cv(a,ag[r]||{},t))),e.forEach((t=>Cv(a,dg,t))),e.forEach((t=>Cv(a,lg,t)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),kv.has(e)&&o.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,ag[e]||{},dg.datasets[e]||{},{type:e},dg,lg]}resolveNamedOptions(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const r={$shared:!0},{resolver:o,subPrefixes:s}=Iv(this._resolverCache,t,i);let a=o;if(function(t,e){const{isScriptable:n,isIndexable:i}=jg(t);for(const r of e){const e=n(r),o=i(r),s=(o||e)&&t[r];if(e&&(up(s)||Pv(s))||o&&Gf(s))return!0}return!1}(o,e)){r.$shared=!1;a=Vg(o,n=up(n)?n():n,this.createResolver(t,n,s))}for(const l of e)r[l]=a[l];return r}createResolver(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],i=arguments.length>3?arguments[3]:void 0;const{resolver:r}=Iv(this._resolverCache,t,n);return qf(e)?Vg(r,e,void 0,i):r}}function Iv(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let o=i.get(r);if(!o){o={resolver:Bg(e,n),subPrefixes:n.filter((t=>!t.toLowerCase().includes("hover")))},i.set(r,o)}return o}const Pv=t=>qf(t)&&Object.getOwnPropertyNames(t).some((e=>up(t[e])));const Mv=["top","bottom","left","right","chartArea"];function Dv(t,e){return"top"===t||"bottom"===t||-1===Mv.indexOf(t)&&"x"===e}function Rv(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Av(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Xf(n&&n.onComplete,[t],e)}function Ov(t){const e=t.chart,n=e.options.animation;Xf(n&&n.onProgress,[t],e)}function Nv(t){return sm()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Lv={},Fv=t=>{const e=Nv(t);return Object.values(Lv).filter((t=>t.canvas===e)).pop()};function zv(t,e,n){const i=Object.keys(t);for(const r of i){const i=+r;if(i>=e){const o=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=o)}}}function Bv(t,e,n){return t.options.clip?t[n]:e[n]}class Vv{static register(){dv.add(...arguments),jv()}static unregister(){dv.remove(...arguments),jv()}constructor(t,e){const n=this.config=new Tv(e),i=Nv(t),r=Fv(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(t){return!sm()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?Fy:Jy}(i)),this.platform.updateConfig(n);const s=this.platform.acquireContext(i,o.aspectRatio),a=s&&s.canvas,l=a&&a.height,c=a&&a.width;this.id=Hf(),this.ctx=s,this.canvas=a,this.width=c,this.height=l,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new fv,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let n;return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}((t=>this.update(t)),o.resizeDelay||0),this._dataChanges=[],Lv[this.id]=this,s&&a?(Am.listen(this,"complete",Av),Am.listen(this,"progress",Ov),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:i,_aspectRatio:r}=this;return Wf(t)?e&&r?r:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return dv}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():mm(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return mg(this.canvas,this.ctx),this}stop(){return Am.stop(this),this}resize(t,e){Am.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,e,r),s=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,mm(this,s,!0)&&(this.notifyPlugins("resize",{size:o}),Xf(n.onResize,[this,o],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){Jf(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,i=Object.keys(n).reduce(((t,e)=>(t[e]=!1,t)),{});let r=[];e&&(r=r.concat(Object.keys(e).map((t=>{const n=e[t],i=vv(t,n),r="r"===i,o="x"===i;return{options:n,dposition:r?"chartArea":o?"bottom":"left",dtype:r?"radialLinear":o?"category":"linear"}})))),Jf(r,(e=>{const r=e.options,o=r.id,s=vv(o,r),a=Yf(r.type,e.dtype);void 0!==r.position&&Dv(r.position,s)===Dv(e.dposition)||(r.position=e.dposition),i[o]=!0;let l=null;if(o in n&&n[o].type===a)l=n[o];else{l=new(dv.getScale(a))({id:o,type:a,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(r,t)})),Jf(i,((t,e)=>{t||delete n[e]})),Jf(n,(t=>{Ny.configure(this,t,t.options),Ny.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort(((t,e)=>t.index-e.index)),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(Rv("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,n)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=e.length;n<i;n++){const i=e[n];let r=this.getDatasetMeta(n);const o=i.type||this.config.type;if(r.type&&r.type!==o&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=o,r.indexAxis=i.indexAxis||mv(o,this.options),r.order=i.order||0,r.index=n,r.label=""+i.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const e=dv.getController(o),{datasetElementType:i,dataElementType:s}=dg.datasets[o];Object.assign(e,{dataElementType:dv.getElement(s),datasetElementType:i&&dv.getElement(i)}),r.controller=new e(this,n),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){Jf(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:t}=this.getDatasetMeta(l),e=!i&&-1===r.indexOf(t);t.buildOrUpdateElements(e),o=Math.max(+t.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||Jf(r,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Rv("z","_idx"));const{_active:s,_lastEvent:a}=this;a?this._eventHandler(a,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){Jf(this.scales,(t=>{Ny.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);hp(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of e){zv(t,i,"_removeElements"===n?-r:r)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),i=n(0);for(let r=1;r<e;r++)if(!hp(i,n(r)))return;return Array.from(i).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Ny.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],Jf(this.boxes,(t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,up(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Am.has(this)?this.attached&&!Am.running(this)&&Am.start(this):(this.draw(),Av({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let i,r;for(i=0,r=e.length;i<r;++i){const r=e[i];t&&!r.visible||n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,i=!n.disabled,r=function(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Bv(n,e,"left"),right:Bv(n,e,"right"),top:Bv(i,e,"top"),bottom:Bv(i,e,"bottom")}:e}(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(i&&wg(e,{left:!1===n.left?0:r.left-n.left,right:!1===n.right?this.width:r.right+n.right,top:!1===n.top?0:r.top-n.top,bottom:!1===n.bottom?this.height:r.bottom+n.bottom}),t.controller.draw(),i&&xg(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return bg(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,i){const r=_y.modes[e];return"function"===typeof r?r(this,t,n,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let i=n.filter((t=>t&&t._dataset===e)).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=zg(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"===typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const i=n?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,i);cp(e)?(r.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(r,{visible:n}),this.update((e=>e.datasetIndex===t?i:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Am.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),mg(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Lv[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};Jf(this.options.events,(t=>n(t,i)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(n,i)=>{t[n]&&(e.removeEventListener(this,n,i),delete t[n])},r=(t,e)=>{this.canvas&&this.resize(t,e)};let o;const s=()=>{i("attach",s),this.attached=!0,this.resize(),n("resize",r),n("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",s)},e.isAttached(this.canvas)?s():o()}unbindEvents(){Jf(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},Jf(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const i=n?"set":"remove";let r,o,s,a;for("dataset"===e&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),s=0,a=t.length;s<a;++s){o=t[s];const e=o&&this.getDatasetMeta(o.datasetIndex).controller;e&&e[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map((t=>{let{datasetIndex:e,index:n}=t;const i=this.getDatasetMeta(e);if(!i)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:i.data[n],index:n}}));!Zf(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,n){const i=this.options.hover,r=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),o=r(e,t),s=n?t:r(t,e);o.length&&this.updateHoverStyle(o,i.mode,!1),s.length&&i.mode&&this.updateHoverStyle(s,i.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const r=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:i=[],options:r}=this,o=e,s=this._getActiveElements(t,i,n,o),a=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),l=function(t,e,n,i){return n&&"mouseout"!==t.type?i?e:t:null}(t,this._lastEvent,n,a);n&&(this._lastEvent=null,Xf(r.onHover,[t,s,this],this),a&&Xf(r.onClick,[t,s,this],this));const c=!Zf(s,i);return(c||e)&&(this._active=s,this._updateHoverStyles(s,i,e)),this._lastEvent=l,c}_getActiveElements(t,e,n,i){if("mouseout"===t.type)return[];if(!n)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}}function jv(){return Jf(Vv.instances,(t=>t._plugins.invalidate()))}function Uv(t,e,n,i){const r=Rg(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const o=(n-e)/2,s=Math.min(o,i*e/2),a=t=>{const e=(n-Math.min(o,t))*i/2;return Op(t,0,Math.min(o,e))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Op(r.innerStart,0,s),innerEnd:Op(r.innerEnd,0,s)}}function Hv(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Wv(t,e,n,i,r,o){const{x:s,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+i+n-c,0),d=u>0?u+i+n+c:0;let f=0;const p=r-l;if(i){const t=((u>0?u-i:0)+(h>0?h-i:0))/2;f=(p-(0!==t?p*t/(t+i):p))/2}const g=(p-Math.max(.001,p*h-n/dp)/h)/2,m=l+g+f,y=r-g-f,{outerStart:v,outerEnd:b,innerStart:w,innerEnd:x}=Uv(e,d,h,y-m),_=h-v,S=h-b,k=m+v/_,E=y-b/S,C=d+w,T=d+x,I=m+w/C,P=y-x/T;if(t.beginPath(),o){const e=(k+E)/2;if(t.arc(s,a,h,k,e),t.arc(s,a,h,e,E),b>0){const e=Hv(S,E,s,a);t.arc(e.x,e.y,b,E,y+yp)}const n=Hv(T,y,s,a);if(t.lineTo(n.x,n.y),x>0){const e=Hv(T,P,s,a);t.arc(e.x,e.y,x,y+yp,P+Math.PI)}const i=(y-x/d+(m+w/d))/2;if(t.arc(s,a,d,y-x/d,i,!0),t.arc(s,a,d,i,m+w/d,!0),w>0){const e=Hv(C,I,s,a);t.arc(e.x,e.y,w,I+Math.PI,m-yp)}const r=Hv(_,m,s,a);if(t.lineTo(r.x,r.y),v>0){const e=Hv(_,k,s,a);t.arc(e.x,e.y,v,m-yp,k)}}else{t.moveTo(s,a);const e=Math.cos(k)*h+s,n=Math.sin(k)*h+a;t.lineTo(e,n);const i=Math.cos(E)*h+s,r=Math.sin(E)*h+a;t.lineTo(i,r)}t.closePath()}function Gv(t,e,n,i,r){const{fullCircles:o,startAngle:s,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d}=l,f="inner"===l.borderAlign;if(!c)return;t.setLineDash(h||[]),t.lineDashOffset=d,f?(t.lineWidth=2*c,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let p=e.endAngle;if(o){Wv(t,e,n,i,p,r);for(let e=0;e<o;++e)t.stroke();isNaN(a)||(p=s+(a%fp||fp))}f&&function(t,e,n){const{startAngle:i,pixelMargin:r,x:o,y:s,outerRadius:a,innerRadius:l}=e;let c=r/a;t.beginPath(),t.arc(o,s,a,i-c,n+c),l>r?(c=r/l,t.arc(o,s,l,n+c,i-c,!0)):t.arc(o,s,r,n+yp,i-yp),t.closePath(),t.clip()}(t,e,p),o||(Wv(t,e,n,i,p,r),t.stroke())}lf(Vv,"defaults",dg),lf(Vv,"instances",Lv),lf(Vv,"overrides",ag),lf(Vv,"registry",dv),lf(Vv,"version","4.4.2"),lf(Vv,"getChart",Fv);class qv extends Zy{constructor(t){super(),lf(this,"circumference",void 0),lf(this,"endAngle",void 0),lf(this,"fullCircles",void 0),lf(this,"innerRadius",void 0),lf(this,"outerRadius",void 0),lf(this,"pixelMargin",void 0),lf(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.getProps(["x","y"],n),{angle:r,distance:o}=Pp(i,{x:t,y:e}),{startAngle:s,endAngle:a,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,d=Yf(u,a-s)>=fp||Ap(r,s,a),f=Np(o,l+h,c+h);return d&&f}getCenterPoint(t){const{x:e,y:n,startAngle:i,endAngle:r,innerRadius:o,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:a,spacing:l}=this.options,c=(i+r)/2,u=(o+s+l+a)/2;return{x:e+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,i=(e.offset||0)/4,r=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>fp?Math.floor(n/fp):0,0===n||this.innerRadius<0||this.outerRadius<0)return;t.save();const s=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(s)*i,Math.sin(s)*i);const a=i*(1-Math.sin(Math.min(dp,n||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,n,i,r){const{fullCircles:o,startAngle:s,circumference:a}=e;let l=e.endAngle;if(o){Wv(t,e,n,i,l,r);for(let e=0;e<o;++e)t.fill();isNaN(a)||(l=s+(a%fp||fp))}Wv(t,e,n,i,l,r),t.fill()}(t,this,a,r,o),Gv(t,this,a,r,o),t.restore()}}function Kv(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;t.lineCap=Yf(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Yf(n.borderDash,e.borderDash)),t.lineDashOffset=Yf(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Yf(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Yf(n.borderWidth,e.borderWidth),t.strokeStyle=Yf(n.borderColor,e.borderColor)}function Qv(t,e,n){t.lineTo(n.x,n.y)}function Yv(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.length,{start:r=0,end:o=i-1}=n,{start:s,end:a}=e,l=Math.max(r,s),c=Math.min(o,a),u=r<s&&o<s||r>a&&o>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function $v(t,e,n,i){const{points:r,options:o}=e,{count:s,start:a,loop:l,ilen:c}=Yv(r,n,i),u=function(t){return t.stepped?_g:t.tension||"monotone"===t.cubicInterpolationMode?Sg:Qv}(o);let h,d,f,{move:p=!0,reverse:g}=i||{};for(h=0;h<=c;++h)d=r[(a+(g?c-h:h))%s],d.skip||(p?(t.moveTo(d.x,d.y),p=!1):u(t,f,d,g,o.stepped),f=d);return l&&(d=r[(a+(g?c:0))%s],u(t,f,d,g,o.stepped)),!!l}function Xv(t,e,n,i){const r=e.points,{count:o,start:s,ilen:a}=Yv(r,n,i),{move:l=!0,reverse:c}=i||{};let u,h,d,f,p,g,m=0,y=0;const v=t=>(s+(c?a-t:t))%o,b=()=>{f!==p&&(t.lineTo(m,p),t.lineTo(m,f),t.lineTo(m,g))};for(l&&(h=r[v(0)],t.moveTo(h.x,h.y)),u=0;u<=a;++u){if(h=r[v(u)],h.skip)continue;const e=h.x,n=h.y,i=0|e;i===d?(n<f?f=n:n>p&&(p=n),m=(y*m+e)/++y):(b(),t.lineTo(e,n),d=i,y=0,f=p=n),g=n}b()}function Jv(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&"monotone"!==e.cubicInterpolationMode&&!e.stepped&&!n?Xv:$v}lf(qv,"id","arc"),lf(qv,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),lf(qv,"defaultRoutes",{backgroundColor:"backgroundColor"}),lf(qv,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t});const Zv="function"===typeof Path2D;function tb(t,e,n,i){Zv&&!e.options.segment?function(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),Kv(t,e.options),t.stroke(r)}(t,e,n,i):function(t,e,n,i){const{segments:r,options:o}=e,s=Jv(e);for(const a of r)Kv(t,o,a.style),t.beginPath(),s(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}(t,e,n,i)}class eb extends Zy{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;om(this._points,n,t,i,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const o=!!t._loop,{start:s,end:a}=function(t,e,n,i){let r=0,o=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(o+=r);o>r&&t[o%e].skip;)o--;return o%=e,{start:r,end:o}}(n,r,o,i);return Pm(t,!0===i?[{start:s,end:a,loop:o}]:function(t,e,n,i){const r=t.length,o=[];let s,a=e,l=t[e];for(s=e+1;s<=n;++s){const n=t[s%r];n.skip||n.stop?l.skip||(i=!1,o.push({start:e%r,end:(s-1)%r,loop:i}),e=a=n.stop?s:null):(a=s,l.skip&&(e=s)),l=n}return null!==a&&o.push({start:e%r,end:a%r,loop:i}),o}(n,s,a<s?a+r:a,!!t._fullLoop&&0===s&&a===r-1),n,e)}(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,i=t[e],r=this.points,o=Im(this,{property:e,start:i,end:i});if(!o.length)return;const s=[],a=function(t){return t.stepped?wm:t.tension||"monotone"===t.cubicInterpolationMode?xm:bm}(n);let l,c;for(l=0,c=o.length;l<c;++l){const{start:c,end:u}=o[l],h=r[c],d=r[u];if(h===d){s.push(h);continue}const f=a(h,d,Math.abs((i-h[e])/(d[e]-h[e])),n.stepped);f[e]=t[e],s.push(f)}return 1===s.length?s[0]:s}pathSegment(t,e,n){return Jv(this)(t,this,e,n)}path(t,e,n){const i=this.segments,r=Jv(this);let o=this._loop;e=e||0,n=n||this.points.length-e;for(const s of i)o&=r(t,this,s,{start:e,end:e+n-1});return!!o}draw(t,e,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),tb(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function nb(t,e,n,i){const r=t.options,{[n]:o}=t.getProps([n],i);return Math.abs(e-o)<r.radius+r.hitRadius}lf(eb,"id","line"),lf(eb,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),lf(eb,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),lf(eb,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t});class ib extends Zy{constructor(t){super(),lf(this,"parsed",void 0),lf(this,"skip",void 0),lf(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.options,{x:r,y:o}=this.getProps(["x","y"],n);return Math.pow(t-r,2)+Math.pow(e-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,e){return nb(this,t,"x",e)}inYRange(t,e){return nb(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const n=this.options;this.skip||n.radius<.1||!bg(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,yg(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function rb(t,e){const{x:n,y:i,base:r,width:o,height:s}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=s/2,a=Math.min(n,r),l=Math.max(n,r),c=i-h,u=i+h):(h=o/2,a=n-h,l=n+h,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function ob(t,e,n,i){return t?0:Op(e,n,i)}function sb(t){const e=rb(t),n=e.right-e.left,i=e.bottom-e.top,r=function(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,o=Ag(i);return{t:ob(r.top,o.top,0,n),r:ob(r.right,o.right,0,e),b:ob(r.bottom,o.bottom,0,n),l:ob(r.left,o.left,0,e)}}(t,n/2,i/2),o=function(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,o=Og(r),s=Math.min(e,n),a=t.borderSkipped,l=i||qf(r);return{topLeft:ob(!l||a.top||a.left,o.topLeft,0,s),topRight:ob(!l||a.top||a.right,o.topRight,0,s),bottomLeft:ob(!l||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:ob(!l||a.bottom||a.right,o.bottomRight,0,s)}}(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:o},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function ab(t,e,n,i){const r=null===e,o=null===n,s=t&&!(r&&o)&&rb(t,i);return s&&(r||Np(e,s.left,s.right))&&(o||Np(n,s.top,s.bottom))}function lb(t,e){t.rect(e.x,e.y,e.w,e.h)}function cb(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-i,s=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+o,h:t.h+s,radius:t.radius}}lf(ib,"id","point"),lf(ib,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),lf(ib,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class ub extends Zy{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:o}=sb(this),s=(a=o.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?Tg:lb;var a;t.save(),o.w===r.w&&o.h===r.h||(t.beginPath(),s(t,cb(o,e,r)),t.clip(),s(t,cb(r,-e,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),s(t,cb(r,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,n){return ab(this,t,e,n)}inXRange(t,e){return ab(this,t,null,e)}inYRange(t,e){return ab(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+i)/2:e,y:r?n:(n+i)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}lf(ub,"id","bar"),lf(ub,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),lf(ub,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var hb=Object.freeze({__proto__:null,ArcElement:qv,BarElement:ub,LineElement:eb,PointElement:ib});const db=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],fb=db.map((t=>t.replace("rgb(","rgba(").replace(")",", 0.5)")));function pb(t){return db[t%db.length]}function gb(t){return fb[t%fb.length]}function mb(t){let e=0;return(n,i)=>{const r=t.getDatasetMeta(i).controller;r instanceof sy?e=function(t,e){return t.backgroundColor=t.data.map((()=>pb(e++))),e}(n,e):r instanceof ly?e=function(t,e){return t.backgroundColor=t.data.map((()=>gb(e++))),e}(n,e):r&&(e=function(t,e){return t.borderColor=pb(e),t.backgroundColor=gb(e),++e}(n,e))}}function yb(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}var vb={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:i},options:r}=t.config,{elements:o}=r;if(!n.forceOverride&&(yb(i)||(s=r)&&(s.borderColor||s.backgroundColor)||o&&yb(o)))return;var s;const a=mb(t);i.forEach(a)}};function bb(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function wb(t){t.data.datasets.forEach((t=>{bb(t)}))}var xb={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled)return void wb(t);const i=t.width;t.data.datasets.forEach(((e,r)=>{const{_data:o,indexAxis:s}=e,a=t.getDatasetMeta(r),l=o||e.data;if("y"===Fg([s,t.options.indexAxis]))return;if(!a.controller.supportsDecimation)return;const c=t.scales[a.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(t.options.parsing)return;let{start:u,count:h}=function(t,e){const n=e.length;let i,r=0;const{iScale:o}=t,{min:s,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(r=Op(Fp(e,o.axis,s).lo,0,n-1)),i=c?Op(Fp(e,o.axis,a).hi+1,r,n)-r:n-r,{start:r,count:i}}(a,l);if(h<=(n.threshold||4*i))return void bb(e);let d;switch(Wf(o)&&(e._data=l,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),n.algorithm){case"lttb":d=function(t,e,n,i,r){const o=r.samples||i;if(o>=n)return t.slice(e,e+n);const s=[],a=(n-2)/(o-2);let l=0;const c=e+n-1;let u,h,d,f,p,g=e;for(s[l++]=t[g],u=0;u<o-2;u++){let i,r=0,o=0;const c=Math.floor((u+1)*a)+1+e,m=Math.min(Math.floor((u+2)*a)+1,n)+e,y=m-c;for(i=c;i<m;i++)r+=t[i].x,o+=t[i].y;r/=y,o/=y;const v=Math.floor(u*a)+1+e,b=Math.min(Math.floor((u+1)*a)+1,n)+e,{x:w,y:x}=t[g];for(d=f=-1,i=v;i<b;i++)f=.5*Math.abs((w-r)*(t[i].y-x)-(w-t[i].x)*(o-x)),f>d&&(d=f,h=t[i],p=i);s[l++]=h,g=p}return s[l++]=t[c],s}(l,u,h,i,n);break;case"min-max":d=function(t,e,n,i){let r,o,s,a,l,c,u,h,d,f,p=0,g=0;const m=[],y=e+n-1,v=t[e].x,b=t[y].x-v;for(r=e;r<e+n;++r){o=t[r],s=(o.x-v)/b*i,a=o.y;const e=0|s;if(e===l)a<d?(d=a,c=r):a>f&&(f=a,u=r),p=(g*p+o.x)/++g;else{const n=r-1;if(!Wf(c)&&!Wf(u)){const e=Math.min(c,u),i=Math.max(c,u);e!==h&&e!==n&&m.push({...t[e],x:p}),i!==h&&i!==n&&m.push({...t[i],x:p})}r>0&&n!==h&&m.push(t[n]),m.push(o),l=e,g=0,d=f=a,c=u=h=r}}return m}(l,u,h,i);break;default:throw new Error("Unsupported decimation algorithm '".concat(n.algorithm,"'"))}e._decimated=d}))},destroy(t){wb(t)}};function _b(t,e,n,i){if(i)return;let r=e[t],o=n[t];return"angle"===t&&(r=Rp(r),o=Rp(o)),{property:t,start:r,end:o}}function Sb(t,e,n){for(;e>t;e--){const t=n[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function kb(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function Eb(t,e){let n=[],i=!1;return Gf(t)?(i=!0,n=t):n=function(t,e){const{x:n=null,y:i=null}=t||{},r=e.points,o=[];return e.segments.forEach((t=>{let{start:e,end:s}=t;s=Sb(e,s,r);const a=r[e],l=r[s];null!==i?(o.push({x:a.x,y:i}),o.push({x:l.x,y:i})):null!==n&&(o.push({x:n,y:a.y}),o.push({x:n,y:l.y}))})),o}(t,e),n.length?new eb({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function Cb(t){return t&&!1!==t.fill}function Tb(t,e,n){let i=t[e].fill;const r=[e];let o;if(!n)return i;for(;!1!==i&&-1===r.indexOf(i);){if(!Kf(i))return i;if(o=t[i],!o)return!1;if(o.visible)return i;r.push(i),i=o.fill}return!1}function Ib(t,e,n){const i=function(t){const e=t.options,n=e.fill;let i=Yf(n&&n.target,n);void 0===i&&(i=!!e.backgroundColor);if(!1===i||null===i)return!1;if(!0===i)return"origin";return i}(t);if(qf(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return Kf(r)&&Math.floor(r)===r?function(t,e,n,i){"-"!==t&&"+"!==t||(n=e+n);if(n===e||n<0||n>=i)return!1;return n}(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Pb(t,e,n){const i=[];for(let r=0;r<n.length;r++){const o=n[r],{first:s,last:a,point:l}=Mb(o,e,"x");if(!(!l||s&&a))if(s)i.unshift(l);else if(t.push(l),!a)break}t.push(...i)}function Mb(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const r=i[n],o=t.segments,s=t.points;let a=!1,l=!1;for(let c=0;c<o.length;c++){const t=o[c],e=s[t.start][n],i=s[t.end][n];if(Np(r,e,i)){a=r===e,l=r===i;break}}return{first:a,last:l,point:i}}class Db{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:i,y:r,radius:o}=this;return e=e||{start:0,end:fp},t.arc(i,r,o,e.end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:i}=this,r=t.angle;return{x:e+Math.cos(r)*i,y:n+Math.sin(r)*i,angle:r}}}function Rb(t){const{chart:e,fill:n,line:i}=t;if(Kf(n))return function(t,e){const n=t.getDatasetMeta(e),i=n&&t.isDatasetVisible(e);return i?n.dataset:null}(e,n);if("stack"===n)return function(t){const{scale:e,index:n,line:i}=t,r=[],o=i.segments,s=i.points,a=function(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const t=i[r];if(t.index===e)break;t.hidden||n.unshift(t.dataset)}return n}(e,n);a.push(Eb({x:null,y:e.bottom},i));for(let l=0;l<o.length;l++){const t=o[l];for(let e=t.start;e<=t.end;e++)Pb(r,s[e],a)}return new eb({points:r,options:{}})}(t);if("shape"===n)return!0;const r=function(t){const e=t.scale||{};if(e.getPointPositionForValue)return function(t){const{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,o=i.reverse?e.max:e.min,s=function(t,e,n){let i;return i="start"===t?n:"end"===t?e.options.reverse?e.min:e.max:qf(t)?t.value:e.getBaseValue(),i}(n,e,o),a=[];if(i.grid.circular){const t=e.getPointPositionForValue(0,o);return new Db({x:t.x,y:t.y,radius:e.getDistanceFromCenterForValue(s)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,s));return a}(t);return function(t){const{scale:e={},fill:n}=t,i=function(t,e){let n=null;return"start"===t?n=e.bottom:"end"===t?n=e.top:qf(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}(n,e);if(Kf(i)){const t=e.isHorizontal();return{x:t?i:null,y:t?null:i}}return null}(t)}(t);return r instanceof Db?r:Eb(r,i)}function Ab(t,e,n){const i=Rb(e),{line:r,scale:o,axis:s}=e,a=r.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};i&&r.points.length&&(wg(t,n),function(t,e){const{line:n,target:i,above:r,below:o,area:s,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),"x"===l&&o!==r&&(Ob(t,i,s.top),Nb(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore(),t.save(),Ob(t,i,s.bottom));Nb(t,{line:n,target:i,color:o,scale:a,property:l}),t.restore()}(t,{line:r,target:i,above:u,below:h,area:n,scale:o,axis:s}),xg(t))}function Ob(t,e,n){const{segments:i,points:r}=e;let o=!0,s=!1;t.beginPath();for(const a of i){const{start:i,end:l}=a,c=r[i],u=r[Sb(i,l,r)];o?(t.moveTo(c.x,c.y),o=!1):(t.lineTo(c.x,n),t.lineTo(c.x,c.y)),s=!!e.pathSegment(t,a,{move:s}),s?t.closePath():t.lineTo(u.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Nb(t,e){const{line:n,target:i,property:r,color:o,scale:s}=e,a=function(t,e,n){const i=t.segments,r=t.points,o=e.points,s=[];for(const a of i){let{start:t,end:i}=a;i=Sb(t,i,r);const l=_b(n,r[t],r[i],a.loop);if(!e.segments){s.push({source:a,target:l,start:r[t],end:r[i]});continue}const c=Im(e,l);for(const e of c){const t=_b(n,o[e.start],o[e.end],e.loop),i=Tm(a,r,t);for(const r of i)s.push({source:r,target:e,start:{[n]:kb(l,t,"start",Math.max)},end:{[n]:kb(l,t,"end",Math.min)}})}}return s}(n,i,r);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:e=o}={}}=l,a=!0!==i;t.save(),t.fillStyle=e,Lb(t,s,a&&_b(r,u,h)),t.beginPath();const d=!!n.pathSegment(t,l);let f;if(a){d?t.closePath():Fb(t,i,h,r);const e=!!i.pathSegment(t,c,{move:d,reverse:!0});f=d&&e,f||Fb(t,i,u,r)}t.closePath(),t.fill(f?"evenodd":"nonzero"),t.restore()}}function Lb(t,e,n){const{top:i,bottom:r}=e.chart.chartArea,{property:o,start:s,end:a}=n||{};"x"===o&&(t.beginPath(),t.rect(s,i,a-s,r-i),t.clip())}function Fb(t,e,n,i){const r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var zb={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,r=[];let o,s,a,l;for(s=0;s<i;++s)o=t.getDatasetMeta(s),a=o.dataset,l=null,a&&a.options&&a instanceof eb&&(l={visible:t.isDatasetVisible(s),index:s,fill:Ib(a,s,i),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,r.push(l);for(s=0;s<i;++s)l=r[s],l&&!1!==l.fill&&(l.fill=Tb(r,s,n.propagate))},beforeDraw(t,e,n){const i="beforeDraw"===n.drawTime,r=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let s=r.length-1;s>=0;--s){const e=r[s].$filler;e&&(e.line.updateControlPoints(o,e.axis),i&&e.fill&&Ab(t.ctx,e,o))}},beforeDatasetsDraw(t,e,n){if("beforeDatasetsDraw"!==n.drawTime)return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const e=i[r].$filler;Cb(e)&&Ab(t.ctx,e,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;Cb(i)&&"beforeDatasetDraw"===n.drawTime&&Ab(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Bb=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}};class Vb extends Zy{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Xf(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,n)=>t.sort(e,n,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,i=Lg(n.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:s,itemHeight:a}=Bb(n,r);let l,c;e.font=i.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(o,r,s,a)+10):(c=this.maxHeight,l=this._fitCols(o,i,s,a)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,i){const{ctx:r,maxWidth:o,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=i+s;let u=t;r.textAlign="left",r.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach(((t,f)=>{const p=n+e/2+r.measureText(t.text).width;(0===f||l[l.length-1]+p+2*s>o)&&(u+=c,l[l.length-(f>0?0:1)]=0,d+=c,h++),a[f]={left:0,top:d,row:h,width:p,height:i},l[l.length-1]+=p+s})),u}_fitCols(t,e,n,i){const{ctx:r,maxHeight:o,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=o-t;let u=s,h=0,d=0,f=0,p=0;return this.legendItems.forEach(((t,o)=>{const{itemWidth:g,itemHeight:m}=function(t,e,n,i,r){const o=function(t,e,n,i){let r=t.text;r&&"string"!==typeof r&&(r=r.reduce(((t,e)=>t.length>e.length?t:e)));return e+n.size/2+i.measureText(r).width}(i,t,e,n),s=function(t,e,n){let i=t;"string"!==typeof e.text&&(i=jb(e,n));return i}(r,i,e.lineHeight);return{itemWidth:o,itemHeight:s}}(n,e,r,t,i);o>0&&d+m+2*s>c&&(u+=h+s,l.push({width:h,height:d}),f+=h+s,p++,h=d=0),a[o]={left:f,top:d,col:p,width:g,height:m},h=Math.max(h,g),d+=m+s})),u+=h,l.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:i},rtl:r}}=this,o=_m(r,this.left,this.width);if(this.isHorizontal()){let r=0,s=Gp(n,this.left+i,this.right-this.lineWidths[r]);for(const a of e)r!==a.row&&(r=a.row,s=Gp(n,this.left+i,this.right-this.lineWidths[r])),a.top+=this.top+t+i,a.left=o.leftForLtr(o.x(s),a.width),s+=a.width+i}else{let r=0,s=Gp(n,this.top+t+i,this.bottom-this.columnSizes[r].height);for(const a of e)a.col!==r&&(r=a.col,s=Gp(n,this.top+t+i,this.bottom-this.columnSizes[r].height)),a.top=s,a.left+=this.left+i,a.left=o.leftForLtr(o.x(a.left),a.width),s+=a.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;wg(t,this),this._draw(),xg(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:i}=this,{align:r,labels:o}=t,s=dg.color,a=_m(t.rtl,this.left,this.width),l=Lg(o.font),{padding:c}=o,u=l.size,h=u/2;let d;this.drawTitle(),i.textAlign=a.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:g}=Bb(o,u),m=this.isHorizontal(),y=this._computeTitleHeight();d=m?{x:Gp(r,this.left+c,this.right-n[0]),y:this.top+c+y,line:0}:{x:this.left+c,y:Gp(r,this.top+y+c,this.bottom-e[0].height),line:0},Sm(this.ctx,t.textDirection);const v=g+c;this.legendItems.forEach(((b,w)=>{i.strokeStyle=b.fontColor,i.fillStyle=b.fontColor;const x=i.measureText(b.text).width,_=a.textAlign(b.textAlign||(b.textAlign=o.textAlign)),S=f+h+x;let k=d.x,E=d.y;a.setWidth(this.width),m?w>0&&k+S+c>this.right&&(E=d.y+=v,d.line++,k=d.x=Gp(r,this.left+c,this.right-n[d.line])):w>0&&E+v>this.bottom&&(k=d.x=k+e[d.line].width+c,d.line++,E=d.y=Gp(r,this.top+y+c,this.bottom-e[d.line].height));if(function(t,e,n){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;i.save();const r=Yf(n.lineWidth,1);if(i.fillStyle=Yf(n.fillStyle,s),i.lineCap=Yf(n.lineCap,"butt"),i.lineDashOffset=Yf(n.lineDashOffset,0),i.lineJoin=Yf(n.lineJoin,"miter"),i.lineWidth=r,i.strokeStyle=Yf(n.strokeStyle,s),i.setLineDash(Yf(n.lineDash,[])),o.usePointStyle){const s={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},l=a.xPlus(t,f/2);vg(i,s,l,e+h,o.pointStyleWidth&&f)}else{const o=e+Math.max((u-p)/2,0),s=a.leftForLtr(t,f),l=Og(n.borderRadius);i.beginPath(),Object.values(l).some((t=>0!==t))?Tg(i,{x:s,y:o,w:f,h:p,radius:l}):i.rect(s,o,f,p),i.fill(),0!==r&&i.stroke()}i.restore()}(a.x(k),E,b),k=((t,e,n,i)=>t===(i?"left":"right")?n:"center"===t?(e+n)/2:e)(_,k+f+h,m?k+S:this.right,t.rtl),function(t,e,n){Cg(i,n.text,t,e+g/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(k),E,b),m)d.x+=S+c;else if("string"!==typeof b.text){const t=l.lineHeight;d.y+=jb(b,t)+c}else d.y+=v})),km(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=Lg(e.font),i=Ng(e.padding);if(!e.display)return;const r=_m(t.rtl,this.left,this.width),o=this.ctx,s=e.position,a=n.size/2,l=i.top+a;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=Gp(t.align,u,this.right-h);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);c=l+Gp(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const d=Gp(s,u,u+h);o.textAlign=r.textAlign(Wp(s)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=n.string,Cg(o,e.text,d,c,n)}_computeTitleHeight(){const t=this.options.title,e=Lg(t.font),n=Ng(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,i,r;if(Np(t,this.left,this.right)&&Np(e,this.top,this.bottom))for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],Np(t,i.left,i.left+i.width)&&Np(e,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!function(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const i=this._hoveredItem,r=((t,e)=>null!==t&&null!==e&&t.datasetIndex===e.datasetIndex&&t.index===e.index)(i,n);i&&!r&&Xf(e.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!r&&Xf(e.onHover,[t,n,this],this)}else n&&Xf(e.onClick,[t,n,this],this)}}function jb(t,e){return e*(t.text?t.text.length:0)}var Ub={id:"legend",_element:Vb,start(t,e,n){const i=t.legend=new Vb({ctx:t.ctx,options:n,chart:t});Ny.configure(t,i,n),Ny.addBox(t,i)},stop(t){Ny.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Ny.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:o,useBorderRadius:s,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const l=t.controller.getStyle(n?0:void 0),c=Ng(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:o,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:s&&(a||l.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Hb extends Zy{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const i=Gf(n.text)?n.text.length:1;this._padding=Ng(n.padding);const r=i*Lg(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:i,right:r,options:o}=this,s=o.align;let a,l,c,u=0;return this.isHorizontal()?(l=Gp(s,n,r),c=e+t,a=r-n):("left"===o.position?(l=n+t,c=Gp(s,i,e),u=-.5*dp):(l=r-t,c=Gp(s,e,i),u=.5*dp),a=i-e),{titleX:l,titleY:c,maxWidth:a,rotation:u}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=Lg(e.font),i=n.lineHeight/2+this._padding.top,{titleX:r,titleY:o,maxWidth:s,rotation:a}=this._drawArgs(i);Cg(t,e.text,0,0,n,{color:e.color,maxWidth:s,rotation:a,textAlign:Wp(e.align),textBaseline:"middle",translation:[r,o]})}}var Wb={id:"title",_element:Hb,start(t,e,n){!function(t,e){const n=new Hb({ctx:t.ctx,options:e,chart:t});Ny.configure(t,n,e),Ny.addBox(t,n),t.titleBlock=n}(t,n)},stop(t){const e=t.titleBlock;Ny.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Ny.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Gb=new WeakMap;var qb={id:"subtitle",start(t,e,n){const i=new Hb({ctx:t.ctx,options:n,chart:t});Ny.configure(t,i,n),Ny.addBox(t,i),Gb.set(t,i)},stop(t){Ny.removeBox(t,Gb.get(t)),Gb.delete(t)},beforeUpdate(t,e,n){const i=Gb.get(t);Ny.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Kb={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,o=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();i.add(t.x),r+=t.y,++o}}const s=[...i].reduce(((t,e)=>t+e))/i.size;return{x:s,y:r/o}},nearest(t,e){if(!t.length)return!1;let n,i,r,o=e.x,s=e.y,a=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){const i=t[n].element;if(i&&i.hasValue()){const t=Mp(e,i.getCenterPoint());t<a&&(a=t,r=i)}}if(r){const t=r.tooltipPosition();o=t.x,s=t.y}return{x:o,y:s}}};function Qb(t,e){return e&&(Gf(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Yb(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function $b(t,e){const{element:n,datasetIndex:i,index:r}=e,o=t.getDatasetMeta(i).controller,{label:s,value:a}=o.getLabelAndValue(r);return{chart:t,label:s,parsed:o.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function Xb(t,e){const n=t.chart.ctx,{body:i,footer:r,title:o}=t,{boxWidth:s,boxHeight:a}=e,l=Lg(e.bodyFont),c=Lg(e.titleFont),u=Lg(e.footerFont),h=o.length,d=r.length,f=i.length,p=Ng(e.padding);let g=p.height,m=0,y=i.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(y+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){g+=f*(e.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(y-f)*l.lineHeight+(y-1)*e.bodySpacing}d&&(g+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let v=0;const b=function(t){m=Math.max(m,n.measureText(t).width+v)};return n.save(),n.font=c.string,Jf(t.title,b),n.font=l.string,Jf(t.beforeBody.concat(t.afterBody),b),v=e.displayColors?s+2+e.boxPadding:0,Jf(i,(t=>{Jf(t.before,b),Jf(t.lines,b),Jf(t.after,b)})),v=0,n.font=u.string,Jf(t.footer,b),n.restore(),m+=p.width,{width:m,height:g}}function Jb(t,e,n,i){const{x:r,width:o}=n,{width:s,chartArea:{left:a,right:l}}=t;let c="center";return"center"===i?c=r<=(a+l)/2?"left":"right":r<=o/2?c="left":r>=s-o/2&&(c="right"),function(t,e,n,i){const{x:r,width:o}=i,s=n.caretSize+n.caretPadding;return"left"===t&&r+o+s>e.width||"right"===t&&r-o-s<0||void 0}(c,t,e,n)&&(c="center"),c}function Zb(t,e,n){const i=n.yAlign||e.yAlign||function(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}(t,n);return{xAlign:n.xAlign||e.xAlign||Jb(t,e,n,i),yAlign:i}}function tw(t,e,n,i){const{caretSize:r,caretPadding:o,cornerRadius:s}=t,{xAlign:a,yAlign:l}=n,c=r+o,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Og(s);let p=function(t,e){let{x:n,width:i}=t;return"right"===e?n-=i:"center"===e&&(n-=i/2),n}(e,a);const g=function(t,e,n){let{y:i,height:r}=t;return"top"===e?i+=n:i-="bottom"===e?r+n:r/2,i}(e,l,c);return"center"===l?"left"===a?p+=c:"right"===a&&(p-=c):"left"===a?p-=Math.max(u,d)+r:"right"===a&&(p+=Math.max(h,f)+r),{x:Op(p,0,i.width-e.width),y:Op(g,0,i.height-e.height)}}function ew(t,e,n){const i=Ng(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-i.right:t.x+i.left}function nw(t){return Qb([],Yb(t))}function iw(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const rw={beforeTitle:Uf,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Uf,beforeBody:Uf,beforeLabel:Uf,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Wf(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Uf,afterBody:Uf,beforeFooter:Uf,footer:Uf,afterFooter:Uf};function ow(t,e,n,i){const r=t[e].call(n,i);return"undefined"===typeof r?rw[e].call(n,i):r}class sw extends Zy{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&e.options.animation&&n.animations,r=new Fm(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,n=this._tooltipItems,zg(t,{tooltip:e,tooltipItems:n,type:"tooltip"})));var t,e,n}getTitle(t,e){const{callbacks:n}=e,i=ow(n,"beforeTitle",this,t),r=ow(n,"title",this,t),o=ow(n,"afterTitle",this,t);let s=[];return s=Qb(s,Yb(i)),s=Qb(s,Yb(r)),s=Qb(s,Yb(o)),s}getBeforeBody(t,e){return nw(ow(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,i=[];return Jf(t,(t=>{const e={before:[],lines:[],after:[]},r=iw(n,t);Qb(e.before,Yb(ow(r,"beforeLabel",this,t))),Qb(e.lines,ow(r,"label",this,t)),Qb(e.after,Yb(ow(r,"afterLabel",this,t))),i.push(e)})),i}getAfterBody(t,e){return nw(ow(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,i=ow(n,"beforeFooter",this,t),r=ow(n,"footer",this,t),o=ow(n,"afterFooter",this,t);let s=[];return s=Qb(s,Yb(i)),s=Qb(s,Yb(r)),s=Qb(s,Yb(o)),s}_createItems(t){const e=this._active,n=this.chart.data,i=[],r=[],o=[];let s,a,l=[];for(s=0,a=e.length;s<a;++s)l.push($b(this.chart,e[s]));return t.filter&&(l=l.filter(((e,i,r)=>t.filter(e,i,r,n)))),t.itemSort&&(l=l.sort(((e,i)=>t.itemSort(e,i,n)))),Jf(l,(e=>{const n=iw(t.callbacks,e);i.push(ow(n,"labelColor",this,e)),r.push(ow(n,"labelPointStyle",this,e)),o.push(ow(n,"labelTextColor",this,e))})),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(i.length){const t=Kb[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const e=this._size=Xb(this,n),s=Object.assign({},t,e),a=Zb(this.chart,n,s),l=tw(n,s,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,r={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,i){const r=this.getCaretPosition(t,n,i);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,n){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:s}=n,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:u}=Og(s),{x:h,y:d}=t,{width:f,height:p}=e;let g,m,y,v,b,w;return"center"===r?(b=d+p/2,"left"===i?(g=h,m=g-o,v=b+o,w=b-o):(g=h+f,m=g+o,v=b-o,w=b+o),y=g):(m="left"===i?h+Math.max(a,c)+o:"right"===i?h+f-Math.max(l,u)-o:this.caretX,"top"===r?(v=d,b=v-o,g=m-o,y=m+o):(v=d+p,b=v+o,g=m+o,y=m-o),w=v),{x1:g,x2:m,x3:y,y1:v,y2:b,y3:w}}drawTitle(t,e,n){const i=this.title,r=i.length;let o,s,a;if(r){const l=_m(n.rtl,this.x,this.width);for(t.x=ew(this,n.titleAlign,n),e.textAlign=l.textAlign(n.titleAlign),e.textBaseline="middle",o=Lg(n.titleFont),s=n.titleSpacing,e.fillStyle=n.titleColor,e.font=o.string,a=0;a<r;++a)e.fillText(i[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+s,a+1===r&&(t.y+=n.titleMarginBottom-s)}}_drawColorBox(t,e,n,i,r){const o=this.labelColors[n],s=this.labelPointStyles[n],{boxHeight:a,boxWidth:l}=r,c=Lg(r.bodyFont),u=ew(this,"left",r),h=i.x(u),d=a<c.lineHeight?(c.lineHeight-a)/2:0,f=e.y+d;if(r.usePointStyle){const e={radius:Math.min(l,a)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},n=i.leftForLtr(h,l)+l/2,c=f+a/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,yg(t,e,n,c),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,yg(t,e,n,c)}else{t.lineWidth=qf(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const e=i.leftForLtr(h,l),n=i.leftForLtr(i.xPlus(h,1),l-2),s=Og(o.borderRadius);Object.values(s).some((t=>0!==t))?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Tg(t,{x:e,y:f,w:l,h:a,radius:s}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Tg(t,{x:n,y:f+1,w:l-2,h:a-2,radius:s}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(e,f,l,a),t.strokeRect(e,f,l,a),t.fillStyle=o.backgroundColor,t.fillRect(n,f+1,l-2,a-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:s,boxHeight:a,boxWidth:l,boxPadding:c}=n,u=Lg(n.bodyFont);let h=u.lineHeight,d=0;const f=_m(n.rtl,this.x,this.width),p=function(n){e.fillText(n,f.x(t.x+d),t.y+h/2),t.y+=h+r},g=f.textAlign(o);let m,y,v,b,w,x,_;for(e.textAlign=o,e.textBaseline="middle",e.font=u.string,t.x=ew(this,g,n),e.fillStyle=n.bodyColor,Jf(this.beforeBody,p),d=s&&"right"!==g?"center"===o?l/2+c:l+2+c:0,b=0,x=i.length;b<x;++b){for(m=i[b],y=this.labelTextColors[b],e.fillStyle=y,Jf(m.before,p),v=m.lines,s&&v.length&&(this._drawColorBox(e,t,b,f,n),h=Math.max(u.lineHeight,a)),w=0,_=v.length;w<_;++w)p(v[w]),h=u.lineHeight;Jf(m.after,p)}d=0,h=u.lineHeight,Jf(this.afterBody,p),t.y-=r}drawFooter(t,e,n){const i=this.footer,r=i.length;let o,s;if(r){const a=_m(n.rtl,this.x,this.width);for(t.x=ew(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=a.textAlign(n.footerAlign),e.textBaseline="middle",o=Lg(n.footerFont),e.fillStyle=n.footerColor,e.font=o.string,s=0;s<r;++s)e.fillText(i[s],a.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,e,n,i){const{xAlign:r,yAlign:o}=this,{x:s,y:a}=t,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Og(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(s+u,a),"top"===o&&this.drawCaret(t,e,n,i),e.lineTo(s+l-h,a),e.quadraticCurveTo(s+l,a,s+l,a+h),"center"===o&&"right"===r&&this.drawCaret(t,e,n,i),e.lineTo(s+l,a+c-f),e.quadraticCurveTo(s+l,a+c,s+l-f,a+c),"bottom"===o&&this.drawCaret(t,e,n,i),e.lineTo(s+d,a+c),e.quadraticCurveTo(s,a+c,s,a+c-d),"center"===o&&"left"===r&&this.drawCaret(t,e,n,i),e.lineTo(s,a+u),e.quadraticCurveTo(s,a,s+u,a),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const n=Kb[t.position].call(this,this._active,this._eventPosition);if(!n)return;const o=this._size=Xb(this,t),s=Object.assign({},n,this._size),a=Zb(e,t,s),l=tw(t,s,a,e);i._to===l.x&&r._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=o.width,this.height=o.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Ng(e.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&s&&(t.save(),t.globalAlpha=n,this.drawBackground(r,t,i,e),Sm(t,e.textDirection),r.y+=o.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),km(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,i=t.map((t=>{let{datasetIndex:e,index:n}=t;const i=this.chart.getDatasetMeta(e);if(!i)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:i.data[n],index:n}})),r=!Zf(n,i),o=this._positionChanged(i,e);(r||o)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(t,r,e,n),s=this._positionChanged(o,t),a=e||!Zf(o,r)||s;return a&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,n,i){const r=this.options;if("mouseout"===t.type)return[];if(!i)return e.filter((t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index)));const o=this.chart.getElementsAtEventForMode(t,r.mode,r,n);return r.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:n,caretY:i,options:r}=this,o=Kb[r.position].call(this,t,e);return!1!==o&&(n!==o.x||i!==o.y)}}lf(sw,"positioners",Kb);var aw={id:"tooltip",_element:sw,positioners:Kb,afterInit(t,e,n){n&&(t.tooltip=new sw({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:rw},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},lw=Object.freeze({__proto__:null,Colors:vb,Decimation:xb,Filler:zb,Legend:Ub,SubTitle:qb,Title:Wb,Tooltip:aw});function cw(t,e,n,i){const r=t.indexOf(e);if(-1===r)return((t,e,n,i)=>("string"===typeof e?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n))(t,e,n,i);return r!==t.lastIndexOf(e)?n:r}function uw(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class hw extends cv{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:i}of e)t[n]===i&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Wf(t))return null;const n=this.getLabels();return((t,e)=>null===t?null:Op(Math.round(t),0,e))(e=isFinite(e)&&n[e]===t?e:cw(n,t,Yf(e,t),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=0===t&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=t;o<=e;o++)i.push({value:o});return i}getLabelForValue(t){return uw.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!==typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function dw(t,e){const n=[],{bounds:i,step:r,min:o,max:s,precision:a,count:l,maxTicks:c,maxDigits:u,includeBounds:h}=t,d=r||1,f=c-1,{min:p,max:g}=e,m=!Wf(o),y=!Wf(s),v=!Wf(l),b=(g-p)/(u+1);let w,x,_,S,k=Sp((g-p)/f/d)*d;if(k<1e-14&&!m&&!y)return[{value:p},{value:g}];S=Math.ceil(g/k)-Math.floor(p/k),S>f&&(k=Sp(S*k/f/d)*d),Wf(a)||(w=Math.pow(10,a),k=Math.ceil(k*w)/w),"ticks"===i?(x=Math.floor(p/k)*k,_=Math.ceil(g/k)*k):(x=p,_=g),m&&y&&r&&function(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}((s-o)/r,k/1e3)?(S=Math.round(Math.min((s-o)/k,c)),k=(s-o)/S,x=o,_=s):v?(x=m?o:x,_=y?s:_,S=l-1,k=(_-x)/S):(S=(_-x)/k,S=_p(S,Math.round(S),k/1e3)?Math.round(S):Math.ceil(S));const E=Math.max(Ip(k),Ip(x));w=Math.pow(10,Wf(a)?E:a),x=Math.round(x*w)/w,_=Math.round(_*w)/w;let C=0;for(m&&(h&&x!==o?(n.push({value:o}),x<o&&C++,_p(Math.round((x+C*k)*w)/w,o,fw(o,b,t))&&C++):x<o&&C++);C<S;++C){const t=Math.round((x+C*k)*w)/w;if(y&&t>s)break;n.push({value:t})}return y&&h&&_!==s?n.length&&_p(n[n.length-1].value,s,fw(s,b,t))?n[n.length-1].value=s:n.push({value:s}):y&&_!==s||n.push({value:_}),n}function fw(t,e,n){let{horizontal:i,minRotation:r}=n;const o=Cp(r),s=(i?Math.sin(o):Math.cos(o))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}lf(hw,"id","category"),lf(hw,"defaults",{ticks:{callback:uw}});class pw extends cv{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Wf(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const o=t=>i=e?i:t,s=t=>r=n?r:t;if(t){const t=xp(i),e=xp(r);t<0&&e<0?s(0):t>0&&e>0&&o(0)}if(i===r){let e=0===r?1:Math.abs(.05*r);s(r+e),t||o(i-e)}this.min=i,this.max=r}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:i}=t;return i?(e=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,e>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(i," would result generating up to ").concat(e," ticks. Limiting to 1000.")),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i=dw({maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&Ep(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-e)/Math.max(t.length-1,1)/2;e-=i,n+=i}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return rg(t,this.chart.options.locale,this.options.ticks.format)}}class gw extends pw{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Kf(t)?t:0,this.max=Kf(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=Cp(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}lf(gw,"id","linear"),lf(gw,"defaults",{ticks:{callback:sg.formatters.numeric}});const mw=t=>Math.floor(wp(t)),yw=(t,e)=>Math.pow(10,mw(t)+e);function vw(t){return 1===t/Math.pow(10,mw(t))}function bw(t,e,n){const i=Math.pow(10,n),r=Math.floor(t/i);return Math.ceil(e/i)-r}function ww(t,e){let{min:n,max:i}=e;n=Qf(t.min,n);const r=[],o=mw(n);let s=function(t,e){let n=mw(e-t);for(;bw(t,e,n)>10;)n++;for(;bw(t,e,n)<10;)n--;return Math.min(n,mw(t))}(n,i),a=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),c=o>s?Math.pow(10,o):0,u=Math.round((n-c)*a)/a,h=Math.floor((n-c)/l/10)*l*10;let d=Math.floor((u-h)/Math.pow(10,s)),f=Qf(t.min,Math.round((c+h+d*Math.pow(10,s))*a)/a);for(;f<i;)r.push({value:f,major:vw(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,a=s>=0?1:a),f=Math.round((c+h+d*Math.pow(10,s))*a)/a;const p=Qf(t.max,f);return r.push({value:p,major:vw(p),significand:d}),r}class xw extends cv{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=pw.prototype.parse.apply(this,[t,e]);if(0!==n)return Kf(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Kf(t)?Math.max(0,t):null,this.max=Kf(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Kf(this._userMin)&&(this.min=t===yw(this.min,0)?yw(this.min,-1):yw(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,i=this.max;const r=e=>n=t?n:e,o=t=>i=e?i:t;n===i&&(n<=0?(r(1),o(10)):(r(yw(n,-1)),o(yw(i,1)))),n<=0&&r(yw(i,-1)),i<=0&&o(yw(n,1)),this.min=n,this.max=i}buildTicks(){const t=this.options,e=ww({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&Ep(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":rg(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=wp(t),this._valueRange=wp(this.max)-wp(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(wp(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function _w(t){const e=t.ticks;if(e.display&&t.display){const t=Ng(e.backdropPadding);return Yf(e.font&&e.font.size,dg.font.size)+t.height}return 0}function Sw(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function kw(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],o=t._pointLabels.length,s=t.options.pointLabels,a=s.centerPointLabels?dp/o:0;for(let h=0;h<o;h++){const o=s.setContext(t.getPointLabelContext(h));r[h]=o.padding;const d=t.getPointPosition(h,t.drawingArea+r[h],a),f=Lg(o.font),p=(l=t.ctx,c=f,u=Gf(u=t._pointLabels[h])?u:[u],{w:pg(l,c.string,u),h:u.length*c.lineHeight});i[h]=p;const g=Rp(t.getIndexAngle(h)+a),m=Math.round(Tp(g));Ew(n,e,g,Sw(m,d.x,p.w,0,180),Sw(m,d.y,p.h,90,270))}var l,c,u;t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=function(t,e,n){const i=[],r=t._pointLabels.length,o=t.options,{centerPointLabels:s,display:a}=o.pointLabels,l={extra:_w(o)/2,additionalAngle:s?dp/r:0};let c;for(let u=0;u<r;u++){l.padding=n[u],l.size=e[u];const r=Cw(t,u,l);i.push(r),"auto"===a&&(r.visible=Tw(r,c),r.visible&&(c=r))}return i}(t,i,r)}function Ew(t,e,n,i,r){const o=Math.abs(Math.sin(n)),s=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/o,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/o,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/s,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/s,t.b=Math.max(t.b,e.b+l))}function Cw(t,e,n){const i=t.drawingArea,{extra:r,additionalAngle:o,padding:s,size:a}=n,l=t.getPointPosition(e,i+r+s,o),c=Math.round(Tp(Rp(l.angle+yp))),u=function(t,e,n){90===n||270===n?t-=e/2:(n>270||n<90)&&(t-=e);return t}(l.y,a.h,c),h=function(t){if(0===t||180===t)return"center";if(t<180)return"left";return"right"}(c),d=function(t,e,n){"right"===n?t-=e:"center"===n&&(t-=e/2);return t}(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+a.w,bottom:u+a.h}}function Tw(t,e){if(!e)return!0;const{left:n,top:i,right:r,bottom:o}=t;return!(bg({x:n,y:i},e)||bg({x:n,y:o},e)||bg({x:r,y:i},e)||bg({x:r,y:o},e))}function Iw(t,e,n){const{left:i,top:r,right:o,bottom:s}=n,{backdropColor:a}=e;if(!Wf(a)){const n=Og(e.borderRadius),l=Ng(e.backdropPadding);t.fillStyle=a;const c=i-l.left,u=r-l.top,h=o-i+l.width,d=s-r+l.height;Object.values(n).some((t=>0!==t))?(t.beginPath(),Tg(t,{x:c,y:u,w:h,h:d,radius:n}),t.fill()):t.fillRect(c,u,h,d)}}function Pw(t,e,n,i){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,fp);else{let n=t.getPointPosition(0,e);r.moveTo(n.x,n.y);for(let o=1;o<i;o++)n=t.getPointPosition(o,e),r.lineTo(n.x,n.y)}}lf(xw,"id","logarithmic"),lf(xw,"defaults",{ticks:{callback:sg.formatters.logarithmic,major:{enabled:!0}}});class Mw extends pw{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Ng(_w(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Kf(t)&&!isNaN(t)?t:0,this.max=Kf(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/_w(this.options))}generateTickLabels(t){pw.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const n=Xf(this.options.pointLabels.callback,[t,e],this);return n||0===n?n:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?kw(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,i))}getIndexAngle(t){return Rp(t*(fp/(this._pointLabels.length||1))+Cp(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(Wf(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Wf(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return function(t,e,n){return zg(t,{label:n,index:e,type:"pointLabel"})}(this.getContext(),t,n)}}getPointPosition(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=this.getIndexAngle(t)-yp+n;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:i,bottom:r}=this._pointLabelItems[t];return{left:e,top:n,right:i,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),Pw(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:i,border:r}=e,o=this._pointLabels.length;let s,a,l;if(e.pointLabels.display&&function(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){const e=t._pointLabelItems[r];if(!e.visible)continue;const o=i.setContext(t.getPointLabelContext(r));Iw(n,o,e);const s=Lg(o.font),{x:a,y:l,textAlign:c}=e;Cg(n,t._pointLabels[r],a,l+s.lineHeight/2,s,{color:o.color,textAlign:c,textBaseline:"middle"})}}(this,o),i.display&&this.ticks.forEach(((t,e)=>{if(0!==e||0===e&&this.min<0){a=this.getDistanceFromCenterForValue(t.value);const n=this.getContext(e),s=i.setContext(n),l=r.setContext(n);!function(t,e,n,i,r){const o=t.ctx,s=e.circular,{color:a,lineWidth:l}=e;!s&&!i||!a||!l||n<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(r.dash),o.lineDashOffset=r.dashOffset,o.beginPath(),Pw(t,n,s,i),o.closePath(),o.stroke(),o.restore())}(this,s,a,o,l)}})),n.display){for(t.save(),s=o-1;s>=0;s--){const i=n.setContext(this.getPointLabelContext(s)),{color:r,lineWidth:o}=i;o&&r&&(t.lineWidth=o,t.strokeStyle=r,t.setLineDash(i.borderDash),t.lineDashOffset=i.borderDashOffset,a=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(s,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((i,s)=>{if(0===s&&this.min>=0&&!e.reverse)return;const a=n.setContext(this.getContext(s)),l=Lg(a.font);if(r=this.getDistanceFromCenterForValue(this.ticks[s].value),a.showLabelBackdrop){t.font=l.string,o=t.measureText(i.label).width,t.fillStyle=a.backdropColor;const e=Ng(a.backdropPadding);t.fillRect(-o/2-e.left,-r-l.size/2-e.top,o+e.width,l.size+e.height)}Cg(t,i.label,0,-r,l,{color:a.color,strokeColor:a.textStrokeColor,strokeWidth:a.textStrokeWidth})})),t.restore()}drawTitle(){}}lf(Mw,"id","radialLinear"),lf(Mw,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:sg.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}}),lf(Mw,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),lf(Mw,"descriptors",{angleLines:{_fallback:"grid"}});const Dw={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Rw=Object.keys(Dw);function Aw(t,e){return t-e}function Ow(t,e){if(Wf(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:o}=t._parseOpts;let s=e;return"function"===typeof i&&(s=i(s)),Kf(s)||(s="string"===typeof i?n.parse(s,i):n.parse(s)),null===s?null:(r&&(s="week"!==r||!kp(o)&&!0!==o?n.startOf(s,r):n.startOf(s,"isoWeek",o)),+s)}function Nw(t,e,n,i){const r=Rw.length;for(let o=Rw.indexOf(t);o<r-1;++o){const t=Dw[Rw[o]],r=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(r*t.size))<=i)return Rw[o]}return Rw[r-1]}function Lw(t,e,n){if(n){if(n.length){const{lo:i,hi:r}=Lp(n,e);t[n[i]>=e?n[i]:n[r]]=!0}}else t[e]=!0}function Fw(t,e,n){const i=[],r={},o=e.length;let s,a;for(s=0;s<o;++s)a=e[s],r[a]=s,i.push({value:a,major:!1});return 0!==o&&n?function(t,e,n,i){const r=t._adapter,o=+r.startOf(e[0].value,i),s=e[e.length-1].value;let a,l;for(a=o;a<=s;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}(t,i,r,n):i}class zw extends cv{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.time||(t.time={}),i=this._adapter=new gy(t.adapters.date);i.init(e),rp(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:Ow(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:s}=this.getUserBounds();function a(t){o||isNaN(t.min)||(i=Math.min(i,t.min)),s||isNaN(t.max)||(r=Math.max(r,t.max))}o&&s||(a(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||a(this.getMinMax(!1))),i=Kf(i)&&!isNaN(i)?i:+e.startOf(Date.now(),n),r=Kf(r)&&!isNaN(r)?r:+e.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=function(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}(i,r,this.max);return this._unit=e.unit||(n.autoSkip?Nw(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(t,e,n,i,r){for(let o=Rw.length-1;o>=Rw.indexOf(n);o--){const n=Rw[o];if(Dw[n].common&&t._adapter.diff(r,i,n)>=e-1)return n}return Rw[n?Rw.indexOf(n):0]}(this,o.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(t){for(let e=Rw.indexOf(t)+1,n=Rw.length;e<n;++e)if(Dw[Rw[e]].common)return Rw[e]}(this._unit):void 0,this.initOffsets(i),t.reverse&&o.reverse(),Fw(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(){let t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=0,r=0;this.options.offset&&n.length&&(t=this.getDecimalForValue(n[0]),i=1===n.length?1-t:(this.getDecimalForValue(n[1])-t)/2,e=this.getDecimalForValue(n[n.length-1]),r=1===n.length?e:(e-this.getDecimalForValue(n[n.length-2]))/2);const o=n.length<3?.5:.25;i=Op(i,0,o),r=Op(r,0,o),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const t=this._adapter,e=this.min,n=this.max,i=this.options,r=i.time,o=r.unit||Nw(r.minUnit,e,n,this._getLabelCapacity(e)),s=Yf(i.ticks.stepSize,1),a="week"===o&&r.isoWeekday,l=kp(a)||!0===a,c={};let u,h,d=e;if(l&&(d=+t.startOf(d,"isoWeek",a)),d=+t.startOf(d,l?"day":o),t.diff(n,e,o)>1e5*s)throw new Error(e+" and "+n+" are too far apart with stepSize of "+s+" "+o);const f="data"===i.ticks.source&&this.getDataTimestamps();for(u=d,h=0;u<n;u=+t.add(u,s,o),h++)Lw(c,u,f);return u!==n&&"ticks"!==i.bounds&&1!==h||Lw(c,u,f),Object.keys(c).sort(Aw).map((t=>+t))}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const n=this.options.time.displayFormats,i=this._unit,r=e||n[i];return this._adapter.format(t,r)}_tickFormatFunction(t,e,n,i){const r=this.options,o=r.ticks.callback;if(o)return Xf(o,[t,e,n],this);const s=r.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&s[a],u=l&&s[l],h=n[e],d=l&&u&&h&&h.major;return this._adapter.format(t,i||(d?u:c))}generateTickLabels(t){let e,n,i;for(e=0,n=t.length;e<n;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,i=Cp(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(i),o=Math.sin(i),s=this._resolveTickFontOptions(0).size;return{w:n*r+s*o,h:n*o+s*r}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,i=n[e.unit]||n.millisecond,r=this._tickFormatFunction(t,0,Fw(this,[t],this._majorUnit),i),o=this._getLabelSize(r),s=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return s>0?s:1}getDataTimestamps(){let t,e,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,e=i.length;t<e;++t)n=n.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const i=this.getLabels();for(e=0,n=i.length;e<n;++e)t.push(Ow(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return jp(t.sort(Aw))}}function Bw(t,e,n){let i,r,o,s,a=0,l=t.length-1;n?(e>=t[a].pos&&e<=t[l].pos&&({lo:a,hi:l}=Fp(t,"pos",e)),({pos:i,time:o}=t[a]),({pos:r,time:s}=t[l])):(e>=t[a].time&&e<=t[l].time&&({lo:a,hi:l}=Fp(t,"time",e)),({time:i,pos:o}=t[a]),({time:r,pos:s}=t[l]));const c=r-i;return c?o+(s-o)*(e-i)/c:o}lf(zw,"id","time"),lf(zw,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class Vw extends zw{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Bw(e,this.min),this._tableRange=Bw(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,i=[],r=[];let o,s,a,l,c;for(o=0,s=t.length;o<s;++o)l=t[o],l>=e&&l<=n&&i.push(l);if(i.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(o=0,s=i.length;o<s;++o)c=i[o+1],a=i[o-1],l=i[o],Math.round((c+a)/2)!==l&&r.push({time:l,pos:o/(s-1)});return r}_generate(){const t=this.min,e=this.max;let n=super.getDataTimestamps();return n.includes(t)&&n.length||n.splice(0,0,t),n.includes(e)&&1!==n.length||n.push(e),n.sort(((t,e)=>t-e))}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return t=e.length&&n.length?this.normalize(e.concat(n)):e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(Bw(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return Bw(this._table,n*this._tableRange+this._minPos,!0)}}lf(Vw,"id","timeseries"),lf(Vw,"defaults",zw.defaults);const jw=[dy,hb,lw,Object.freeze({__proto__:null,CategoryScale:hw,LinearScale:gw,LogarithmicScale:xw,RadialLinearScale:Mw,TimeScale:zw,TimeSeriesScale:Vw})];Vv.register(...jw);const Uw=Vv,Hw=e=>{let{chartData:n,chartOptions:i}=e;const r=(0,t.useRef)(null);return(0,t.useEffect)((()=>{if(r.current){const t=new Uw(r.current,{type:"bar",data:n,options:i});return()=>t.destroy()}}),[n,i]),(0,Zd.jsx)("canvas",{ref:r})},Ww=t=>{let{data:e,title:n}=t;return(0,Zd.jsx)("div",{children:(0,Zd.jsxs)("table",{children:[(0,Zd.jsx)("thead",{children:(0,Zd.jsxs)("tr",{children:[(0,Zd.jsx)("th",{children:n.split(" ")[0]}),(0,Zd.jsx)("th",{children:"Total"}),(0,Zd.jsx)("th",{children:"I"}),(0,Zd.jsx)("th",{children:"II"}),(0,Zd.jsx)("th",{children:"III"}),(0,Zd.jsx)("th",{children:"IV"})]})}),(0,Zd.jsx)("tbody",{children:Object.entries(e).map((t=>{let[e,n]=t;return(0,Zd.jsxs)("tr",{children:[(0,Zd.jsx)("td",{children:e}),(0,Zd.jsx)("td",{children:n.total}),(0,Zd.jsx)("td",{children:n.period1}),(0,Zd.jsx)("td",{children:n.period2}),(0,Zd.jsx)("td",{children:n.period3}),(0,Zd.jsx)("td",{children:n.period4})]},e)}))})]})})},Gw=(t,e)=>t.reduce(((t,n)=>{const i=n[e];return t[i]||(t[i]={total:0,period1:0,period2:0,period3:0,period4:0}),t[i].total+=1,t[i]["period".concat(n.period)]+=1,t}),{}),qw=t=>{let{todos:e}=t;const n=Gw(e,"afe"),i=Gw(e,"processPath"),r=Gw(e,"error"),o=Gw(e,"period"),s={labels:Object.keys(n),datasets:[{label:"Total Audits by AFE",data:Object.values(n).map((t=>t.total)),backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},a={labels:Object.keys(i),datasets:[{label:"Total Audits by Process Path",data:Object.values(i).map((t=>t.total)),backgroundColor:"rgba(153, 102, 255, 0.2)",borderColor:"rgba(153, 102, 255, 1)",borderWidth:1}]},l={labels:Object.keys(r),datasets:[{label:"Total Audits by Error",data:Object.values(r).map((t=>t.total)),backgroundColor:"rgba(255, 159, 64, 0.2)",borderColor:"rgba(255, 159, 64, 1)",borderWidth:1}]},c={1:"6:30-10:00",2:"10:30-02:00",3:"2:30-05:00",4:"5:15-07:00"},u={labels:Object.keys(o).map((t=>c[t]||t)),datasets:[{label:"Total Audits by Period",data:Object.values(o).map((t=>t.total)),backgroundColor:"rgba(255, 159, 64, 0.2)",borderColor:"rgba(255, 159, 64, 1)",borderWidth:1}]},h={plugins:{legend:{display:!1}},scales:{y:{grid:{display:!1},beginAtZero:!0,ticks:{stepSize:1,precision:0}},x:{grid:{display:!1}}},elements:{bar:{backgroundColor:"rgba(154, 162, 235, 0.1)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:3}},layout:{padding:{left:10,right:10,top:10,bottom:10}}},d={Periods:u,AFE:s,ProcessPath:a,Error:l},f={Periods:o,AFE:n,ProcessPath:i,Error:r};return(0,Zd.jsx)("div",{className:"audit-summary-container",children:Object.keys(d).map(((t,e)=>e%2===0&&(0,Zd.jsxs)("div",{className:"row",children:[(0,Zd.jsx)("div",{className:"chart-container",children:(0,Zd.jsx)(Hw,{chartData:d[t],chartOptions:h})}),(0,Zd.jsx)("div",{className:"table-container",children:(0,Zd.jsx)(Ww,{data:f[t],title:"".concat(t," Totals")})}),Object.keys(d)[e+1]&&(0,Zd.jsx)("div",{className:"chart-container",children:(0,Zd.jsx)(Hw,{chartData:d[Object.keys(d)[e+1]],chartOptions:h})}),Object.keys(f)[e+1]&&(0,Zd.jsx)("div",{className:"table-container",children:(0,Zd.jsx)(Ww,{data:f[Object.keys(f)[e+1]],title:"".concat(Object.keys(d)[e+1]," Totals")})})]},t)))})};const Kw=function(e){let{todos:n,deleteTodo:i,toggleEdit:r,handleEditChange:o,saveEdit:s}=e;const[a,l]=(0,t.useState)(""),c=(0,t.useMemo)((()=>n.filter((t=>t.username.toLowerCase().includes(a.toLowerCase())||t.auditor&&t.auditor.toLowerCase().includes(a.toLowerCase())))),[n,a]),u=(0,t.useMemo)((()=>[{Header:"N",accessor:(t,e)=>e+1,id:"row",disableSortBy:!0},{Header:"Auditor",accessor:"auditor"},{Header:"Period",accessor:"period"},{Header:"AA",accessor:"username"},{Header:"AFE",accessor:"afe"},{Header:"Process",accessor:"processPath"},{Header:"Error",accessor:"error"},{Header:"General Coaching",accessor:"coaching",disableSortBy:!0},{Header:"Observations",accessor:"durable",disableSortBy:!0},{Header:"Action",id:"action",accessor:t=>t,Cell:t=>{let{value:e}=t;return(0,Zd.jsx)("div",{children:(0,Zd.jsx)("button",{className:"delete-btn",onClick:()=>i(e.id),children:"\u274c"})})},disableSortBy:!0}]),[i,r,s]),{getTableProps:h,getTableBodyProps:d,headerGroups:f,rows:p,prepareRow:g}=(0,of.useTable)({columns:u,data:c},of.useSortBy);return(0,Zd.jsxs)("div",{children:[(0,Zd.jsx)(qw,{todos:n}),(0,Zd.jsx)("input",{value:a,onChange:t=>l(t.target.value),placeholder:"Search by AA or Auditor"}),(0,Zd.jsxs)("table",{...h(),children:[(0,Zd.jsx)("thead",{children:f.map((t=>(0,Zd.jsx)("tr",{...t.getHeaderGroupProps(),children:t.headers.map((t=>(0,Zd.jsxs)("th",{...t.getHeaderProps(t.getSortByToggleProps()),children:[t.render("Header"),(0,Zd.jsx)("span",{children:t.isSorted?t.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""})]})))})))}),(0,Zd.jsx)("tbody",{...d(),children:p.map((t=>(g(t),(0,Zd.jsx)("tr",{...t.getRowProps(),children:t.cells.map((t=>(0,Zd.jsx)("td",{...t.getCellProps(),children:t.render("Cell")})))}))))})]})]})};const Qw=function(t){let{className:e,href:n,iconClass:i}=t;return(0,Zd.jsx)("a",{href:n,target:"_blank",rel:"noreferrer",className:e,children:(0,Zd.jsx)("i",{className:i})})};const Yw=function(){return(0,Zd.jsxs)("footer",{children:[(0,Zd.jsxs)("div",{className:"social-media",children:[(0,Zd.jsx)(Qw,{className:"social-icon user",href:"https://www.hcoco1.com/",iconClass:"fas fa-user"}),(0,Zd.jsx)(Qw,{className:"social-icon linkedin",href:"https://www.linkedin.com/in/hcoco1",iconClass:"fab fa-linkedin"}),(0,Zd.jsx)(Qw,{className:"social-icon twitter",href:"https://twitter.com/hcoco1",iconClass:"fab fa-twitter"})]}),(0,Zd.jsx)("p",{children:"COPYRIGHT \xa9 2024 Ivan Arias"}),(0,Zd.jsx)("a",{className:"question",href:"https://www.hcoco1.com/blog/2024-03-13-audits-tool",target:"_blank",rel:"noreferrer",children:"Why did I decide to build this app?"})]})},$w=t=>{let{todos:e}=t;return(0,Zd.jsx)("button",{className:"download-btn",onClick:()=>{const t=e.map(((t,e)=>"".concat(e+1,". Username: ").concat(t.username,", AFE: ").concat(t.afe,", Process Path: ").concat(t.processPath,", Error: ").concat(t.error,", Coaching: ").concat(t.coaching," Observations: ").concat(t.durable,", Date: ").concat(t.date))).join("\n"),n=new Blob([t],{type:"text/plain;charset=utf-8"}),i=URL.createObjectURL(n),r=document.createElement("a");r.href=i,r.download="todo-report.txt",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i)},children:"Download Report"})};const Xw=function(e){let{onNameSubmit:n}=e;const[i,r]=(0,t.useState)("");return(0,Zd.jsxs)("form",{onSubmit:t=>{t.preventDefault(),n(i),r("")},children:[(0,Zd.jsx)("label",{htmlFor:"auditorName",children:"Auditor's Name:"}),(0,Zd.jsx)("input",{id:"auditorName",type:"text",value:i,onChange:t=>r(t.target.value),required:!0}),(0,Zd.jsx)("button",{type:"submit",children:"Set Name"})]})};vt("firebase","10.9.0","app");const Jw="@firebase/installations",Zw="0.6.5",tx=1e4,ex="w:".concat(Zw),nx="FIS_v2",ix="https://firebaseinstallations.googleapis.com/v1",rx=36e5,ox=new v("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function sx(t){return t instanceof y&&t.code.includes("request-failed")}function ax(t){let{projectId:e}=t;return"".concat(ix,"/projects/").concat(e,"/installations")}function lx(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}async function cx(t,e){const n=(await e.json()).error;return ox.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function ux(t){let{apiKey:e}=t;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function hx(t,e){let{refreshToken:n}=e;const i=ux(t);return i.append("Authorization",function(t){return"".concat(nx," ").concat(t)}(n)),i}async function dx(t){const e=await t();return e.status>=500&&e.status<600?t():e}function fx(t){return new Promise((e=>{setTimeout(e,t)}))}const px=/^[cdef][\w-]{21}$/,gx="";function mx(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=function(t){const e=(n=t,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return e.substr(0,22)}(t);return px.test(e)?e:gx}catch(t){return gx}}function yx(t){return"".concat(t.appName,"!").concat(t.appId)}const vx=new Map;function bx(t,e){const n=yx(t);wx(n,e),function(t,e){const n=_x();n&&n.postMessage({key:t,fid:e});Sx()}(n,e)}function wx(t,e){const n=vx.get(t);if(n)for(const i of n)i(e)}let xx=null;function _x(){return!xx&&"BroadcastChannel"in self&&(xx=new BroadcastChannel("[Firebase] FID Change"),xx.onmessage=t=>{wx(t.data.key,t.data.fid)}),xx}function Sx(){0===vx.size&&xx&&(xx.close(),xx=null)}const kx="firebase-installations-database",Ex=1,Cx="firebase-installations-store";let Tx=null;function Ix(){return Tx||(Tx=J(kx,Ex,{upgrade:(t,e)=>{if(0===e)t.createObjectStore(Cx)}})),Tx}async function Px(t,e){const n=yx(t),i=(await Ix()).transaction(Cx,"readwrite"),r=i.objectStore(Cx),o=await r.get(n);return await r.put(e,n),await i.done,o&&o.fid===e.fid||bx(t,e.fid),e}async function Mx(t){const e=yx(t),n=(await Ix()).transaction(Cx,"readwrite");await n.objectStore(Cx).delete(e),await n.done}async function Dx(t,e){const n=yx(t),i=(await Ix()).transaction(Cx,"readwrite"),r=i.objectStore(Cx),o=await r.get(n),s=e(o);return void 0===s?await r.delete(n):await r.put(s,n),await i.done,!s||o&&o.fid===s.fid||bx(t,s.fid),s}async function Rx(t){let e;const n=await Dx(t.appConfig,(n=>{const i=function(t){const e=t||{fid:mx(),registrationStatus:0};return Nx(e)}(n),r=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine){return{installationEntry:e,registrationPromise:Promise.reject(ox.create("app-offline"))}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=async function(t,e){try{const n=await async function(t,e){let{appConfig:n,heartbeatServiceProvider:i}=t,{fid:r}=e;const o=ax(n),s=ux(n),a=i.getImmediate({optional:!0});if(a){const t=await a.getHeartbeatsHeader();t&&s.append("x-firebase-client",t)}const l={fid:r,authVersion:nx,appId:n.appId,sdkVersion:ex},c={method:"POST",headers:s,body:JSON.stringify(l)},u=await dx((()=>fetch(o,c)));if(u.ok){const t=await u.json();return{fid:t.fid||r,registrationStatus:2,refreshToken:t.refreshToken,authToken:lx(t.authToken)}}throw await cx("Create Installation",u)}(t,e);return Px(t.appConfig,n)}catch(n){throw sx(n)&&409===n.customData.serverCode?await Mx(t.appConfig):await Px(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}(t,n);return{installationEntry:n,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Ax(t)}:{installationEntry:e}}(t,i);return e=r.registrationPromise,r.installationEntry}));return n.fid===gx?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}async function Ax(t){let e=await Ox(t.appConfig);for(;1===e.registrationStatus;)await fx(100),e=await Ox(t.appConfig);if(0===e.registrationStatus){const{installationEntry:e,registrationPromise:n}=await Rx(t);return n||e}return e}function Ox(t){return Dx(t,(t=>{if(!t)throw ox.create("installation-not-found");return Nx(t)}))}function Nx(t){return 1===(e=t).registrationStatus&&e.registrationTime+tx<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}async function Lx(t,e){let{appConfig:n,heartbeatServiceProvider:i}=t;const r=function(t,e){let{fid:n}=e;return"".concat(ax(t),"/").concat(n,"/authTokens:generate")}(n,e),o=hx(n,e),s=i.getImmediate({optional:!0});if(s){const t=await s.getHeartbeatsHeader();t&&o.append("x-firebase-client",t)}const a={installation:{sdkVersion:ex,appId:n.appId}},l={method:"POST",headers:o,body:JSON.stringify(a)},c=await dx((()=>fetch(r,l)));if(c.ok){return lx(await c.json())}throw await cx("Generate Auth Token",c)}async function Fx(t){let e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=await Dx(t.appConfig,(i=>{if(!Bx(i))throw ox.create("not-registered");const r=i.authToken;if(!n&&function(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+rx}(t)}(r))return i;if(1===r.requestStatus)return e=async function(t,e){let n=await zx(t.appConfig);for(;1===n.authToken.requestStatus;)await fx(100),n=await zx(t.appConfig);const i=n.authToken;return 0===i.requestStatus?Fx(t,e):i}(t,n),i;{if(!navigator.onLine)throw ox.create("app-offline");const n=function(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(i);return e=async function(t,e){try{const n=await Lx(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await Px(t.appConfig,i),n}catch(n){if(!sx(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Px(t.appConfig,n)}else await Mx(t.appConfig);throw n}}(t,n),n}}));return e?await e:i.authToken}function zx(t){return Dx(t,(t=>{if(!Bx(t))throw ox.create("not-registered");const e=t.authToken;return 1===(n=e).requestStatus&&n.requestTime+tx<Date.now()?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t;var n}))}function Bx(t){return void 0!==t&&2===t.registrationStatus}async function Vx(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=t;await async function(t){const{registrationPromise:e}=await Rx(t);e&&await e}(n);return(await Fx(n,e)).token}function jx(t){return ox.create("missing-app-config-values",{valueName:t})}const Ux="installations",Hx=t=>{const e=t.getProvider("app").getImmediate(),n=function(t){if(!t||!t.options)throw jx("App Configuration");if(!t.name)throw jx("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw jx(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:ft(e,"heartbeat"),_delete:()=>Promise.resolve()}},Wx=t=>{const e=ft(t.getProvider("app").getImmediate(),Ux).getImmediate();return{getId:()=>async function(t){const e=t,{installationEntry:n,registrationPromise:i}=await Rx(e);return i?i.catch(console.error):Fx(e).catch(console.error),n.fid}(e),getToken:t=>Vx(e,t)}};dt(new I(Ux,Hx,"PUBLIC")),dt(new I("installations-internal",Wx,"PRIVATE")),vt(Jw,Zw),vt(Jw,Zw,"esm2017");const Gx="analytics",qx="firebase_id",Kx="origin",Qx=6e4,Yx="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$x="https://www.googletagmanager.com/gtag/js",Xx=new z("@firebase/analytics"),Jx=new v("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Zx(t){if(!t.startsWith($x)){const e=Jx.create("invalid-gtag-resource",{gtagURL:t});return Xx.warn(e.message),""}return t}function t_(t){return Promise.all(t.map((t=>t.catch((t=>t)))))}function e_(t,e){const n=function(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Zx}),i=document.createElement("script"),r="".concat($x,"?l=").concat(t,"&id=").concat(e);i.src=n?null===n||void 0===n?void 0:n.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function n_(t,e,n,i){return async function(r){try{for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];if("event"===r){const[i,r]=s;await async function(t,e,n,i,r){try{let o=[];if(r&&r.send_to){let t=r.send_to;Array.isArray(t)||(t=[t]);const i=await t_(n);for(const n of t){const t=i.find((t=>t.measurementId===n)),r=t&&e[t.appId];if(!r){o=[];break}o.push(r)}}0===o.length&&(o=Object.values(e)),await Promise.all(o),t("event",i,r||{})}catch(o){Xx.error(o)}}(t,e,n,i,r)}else if("config"===r){const[r,o]=s;await async function(t,e,n,i,r,o){const s=i[r];try{if(s)await e[s];else{const t=(await t_(n)).find((t=>t.measurementId===r));t&&await e[t.appId]}}catch(a){Xx.error(a)}t("config",r,o)}(t,e,n,i,r,o)}else if("consent"===r){const[e]=s;t("consent","update",e)}else if("get"===r){const[e,n,i]=s;t("get",e,n,i)}else if("set"===r){const[e]=s;t("set",e)}else t(r,...s)}catch(l){Xx.error(l)}}}const i_=30;const r_=new class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function o_(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function s_(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r_,n=arguments.length>2?arguments[2]:void 0;const{appId:i,apiKey:r,measurementId:o}=t.options;if(!i)throw Jx.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw Jx.create("no-api-key")}const s=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new l_;return setTimeout((async()=>{a.abort()}),void 0!==n?n:Qx),a_({appId:i,apiKey:r,measurementId:o},s,a,e)}async function a_(t,e,n){let{throttleEndTimeMillis:i,backoffCount:r}=e,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r_;var s;const{appId:a,measurementId:l}=t;try{await function(t,e){return new Promise(((n,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(n,r);t.addEventListener((()=>{clearTimeout(o),i(Jx.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}(n,i)}catch(c){if(l)return Xx.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===c||void 0===c?void 0:c.message,"]")),{appId:a,measurementId:l};throw c}try{const e=await async function(t){var e;const{appId:n,apiKey:i}=t,r={method:"GET",headers:o_(i)},o=Yx.replace("{app-id}",n),s=await fetch(o,r);if(200!==s.status&&304!==s.status){let t="";try{const n=await s.json();(null===(e=n.error)||void 0===e?void 0:e.message)&&(t=n.error.message)}catch(a){}throw Jx.create("config-fetch-failed",{httpStatus:s.status,responseMessage:t})}return s.json()}(t);return o.deleteThrottleMetadata(a),e}catch(c){const e=c;if(!function(t){if(!(t instanceof y)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(e)){if(o.deleteThrottleMetadata(a),l)return Xx.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===e||void 0===e?void 0:e.message,"]")),{appId:a,measurementId:l};throw c}const i=503===Number(null===(s=null===e||void 0===e?void 0:e.customData)||void 0===s?void 0:s.httpStatus)?C(r,o.intervalMillis,i_):C(r,o.intervalMillis),u={throttleEndTimeMillis:Date.now()+i,backoffCount:r+1};return o.setThrottleMetadata(a,u),Xx.debug("Calling attemptFetch again in ".concat(i," millis")),a_(t,u,n,o)}}class l_{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach((t=>t()))}}let c_,u_;function h_(t){u_=t}function d_(t){c_=t}async function f_(t,e,n,i,r,o,s){var a;const l=s_(t);l.then((e=>{n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Xx.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((t=>Xx.error(t))),e.push(l);const c=async function(){if(!g())return Xx.warn(Jx.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await m()}catch(t){return Xx.warn(Jx.create("indexeddb-unavailable",{errorInfo:null===t||void 0===t?void 0:t.toString()}).message),!1}return!0}().then((t=>t?i.getId():void 0)),[u,h]=await Promise.all([l,c]);(function(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes($x)&&n.src.includes(t))return n;return null})(o)||e_(o,u.measurementId),u_&&(r("consent","default",u_),h_(void 0)),r("js",new Date);const d=null!==(a=null===s||void 0===s?void 0:s.config)&&void 0!==a?a:{};return d[Kx]="firebase",d.update=!0,null!=h&&(d[qx]=h),r("config",u.measurementId,d),c_&&(r("set",c_),d_(void 0)),u.measurementId}class p_{constructor(t){this.app=t}_delete(){return delete g_[this.app.options.appId],Promise.resolve()}}let g_={},m_=[];const y_={};let v_,b_,w_="dataLayer",x_="gtag",__=!1;function S_(){const t=[];if(function(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}()&&t.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||t.push("Cookies are not available."),t.length>0){const e=t.map(((t,e)=>"(".concat(e+1,") ").concat(t))).join(" "),n=Jx.create("invalid-analytics-context",{errorInfo:e});Xx.warn(n.message)}}function k_(t,e,n){S_();const i=t.options.appId;if(!i)throw Jx.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Jx.create("no-api-key");Xx.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(t.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=g_[i])throw Jx.create("already-exists",{id:i});if(!__){!function(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(w_);const{wrappedGtag:t,gtagCore:e}=function(t,e,n,i,r){let o=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];window[i].push(arguments)};return window[r]&&"function"===typeof window[r]&&(o=window[r]),window[r]=n_(o,t,e,n),{gtagCore:o,wrappedGtag:window[r]}}(g_,m_,y_,w_,x_);b_=t,v_=e,__=!0}g_[i]=f_(t,m_,y_,e,v_,w_,n);return new p_(t)}function E_(t,e,n,i){t=T(t),async function(t,e,n,i,r){if(r&&r.global)t("event",n,i);else{const r=await e;t("event",n,Object.assign(Object.assign({},i),{send_to:r}))}}(b_,g_[t.app.options.appId],e,n,i).catch((t=>Xx.error(t)))}const C_="@firebase/analytics",T_="0.10.1";dt(new I(Gx,((t,e)=>{let{options:n}=e;return k_(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),dt(new I("analytics-internal",(function(t){try{const e=t.getProvider(Gx).getImmediate();return{logEvent:(t,n,i)=>E_(e,t,n,i)}}catch(e){throw Jx.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),vt(C_,T_),vt(C_,T_,"esm2017");const I_=mt({apiKey:"AIzaSyBQtMHHPCKGmQ_LIMs75msN-jngQFNWr2Q",authDomain:"audits-dacc8.firebaseapp.com",projectId:"audits-dacc8",storageBucket:"audits-dacc8.appspot.com",messagingSenderId:"660538798075",appId:"1:660538798075:web:c372e07f20f2e71903255e",measurementId:"G-94KMSNCNKV"}),P_=function(t,e){const n="string"==typeof t?t:e||"(default)",i=ft("object"==typeof t?t:yt(),"firestore").getImmediate({identifier:n});if(!i._initialized){const t=u("firestore");t&&cd(i,...t)}return i}(I_);!function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt();t=T(t);const e=ft(t,Gx);e.isInitialized()?e.getImmediate():function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=ft(t,Gx);if(n.isInitialized()){const t=n.getImmediate();if(w(e,n.getOptions()))return t;throw Jx.create("already-initialized")}const i=n.initialize({options:e})}(t)}(I_);const M_=function(){const[e,n]=(0,t.useState)(""),[i,r]=(0,t.useState)((()=>{const t=localStorage.getItem("todos");return t?JSON.parse(t):[]})),[o,s]=(0,t.useState)({auditor:"",period:"",username:"",afe:"",processPath:"",error:"",coaching:"",durable:""});(0,t.useEffect)((()=>{(async()=>{const t=fd(P_,"todos"),e=await function(t){t=sd(t,ud);const e=sd(t.firestore,md),n=yd(e),i=new $d(e);return Ud(t._query),Zh(n,t._query).then((n=>new Qd(e,i,t,n)))}(t),n=e.docs.map((t=>({id:t.id,...t.data()})));r(n)})()}),[]);const[a,l]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{(async()=>{const t=pd(P_,"settings","auditorName"),e=await function(t){t=sd(t,hd);const e=sd(t.firestore,md);return Jh(yd(e),t._key).then((n=>Jd(e,t,n)))}(t);e.exists()?n(e.data().name):console.log("No auditor name set.")})()}),[]),(0,Zd.jsxs)("div",{className:"App",children:[(0,Zd.jsxs)("main",{children:[(0,Zd.jsx)("div",{className:"orientation-message",children:"For the best experience, please rotate your device to landscape mode."}),(0,Zd.jsx)("h1",{children:"Notes-Taking App"}),e&&!a?(0,Zd.jsxs)("div",{className:"auditor-display",children:[(0,Zd.jsxs)("h2",{children:["Auditor's Name: ",e]}),(0,Zd.jsx)("button",{onClick:()=>l(!0),className:"edit-name-button",children:"Edit"})]}):(0,Zd.jsx)(Xw,{onNameSubmit:async t=>{const e=pd(P_,"settings","auditorName");await function(t,e,n){t=sd(t,hd);const i=sd(t.firestore,md),r=Wd(t.converter,e,n);return Xd(i,[Pd(Id(i),"setDoc",t._key,r,null!==t.converter,n).toMutation(t._key,sl.none())])}(e,{name:t},{merge:!0}),n(t),l(!1)}}),(0,Zd.jsx)(rf,{addTodo:async t=>{t.preventDefault();const e=(new Date).toLocaleString("en-US",{timeZone:"America/New_York"}),n={...o,date:e,isEditing:!1};try{await function(t,e){const n=sd(t.firestore,md),i=pd(t),r=Wd(t.converter,e);return Xd(n,[Pd(Id(t.firestore),"addDoc",i._key,r,null!==t.converter,{}).toMutation(i._key,sl.exists(!1))]).then((()=>i))}(fd(P_,"todos"),n),r((t=>[...t,{...n,id:Date.now().toString()}])),s({auditor:"",period:"",username:"",afe:"",processPath:"",error:"",coaching:"",durable:""})}catch(i){console.error("Error adding document: ",i)}},newTodo:o,setNewTodo:s}),(0,Zd.jsx)(Kw,{todos:i,deleteTodo:async t=>{var e;await(e=pd(P_,"todos",t),Xd(sd(e.firestore,md),[new bl(e._key,sl.none())])),r(i.filter((e=>e.id!==t)))}}),(0,Zd.jsx)($w,{todos:i})]}),(0,Zd.jsx)(Yw,{})]})};e.createRoot(document.getElementById("root")).render((0,Zd.jsx)(t.StrictMode,{children:(0,Zd.jsx)(M_,{})}))})()})();
//# sourceMappingURL=main.f69b5f1b.js.map